(function(r,Pr){typeof exports=="object"&&typeof module<"u"?module.exports=Pr(require("vue")):typeof define=="function"&&define.amd?define(["vue"],Pr):(r=typeof globalThis<"u"?globalThis:r||self,r.package=Pr(r.Vue))})(this,function(r){"use strict";var Pr=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Jo;const da=l=>Jo=l,Qo=Symbol();function wi(l){return l&&typeof l=="object"&&Object.prototype.toString.call(l)==="[object Object]"&&typeof l.toJSON!="function"}var Fr;(function(l){l.direct="direct",l.patchObject="patch object",l.patchFunction="patch function"})(Fr||(Fr={}));function wc(){const l=r.effectScope(!0),v=l.run(()=>r.ref({}));let i=[],d=[];const S=r.markRaw({install(H){da(S),S._a=H,H.provide(Qo,S),H.config.globalProperties.$pinia=S,d.forEach(M=>i.push(M)),d=[]},use(H){return!this._a&&!Pr?d.push(H):i.push(H),this},_p:i,_a:null,_e:l,_s:new Map,state:v});return S}const qo=()=>{};function $o(l,v,i,d=qo){l.push(v);const S=()=>{const H=l.indexOf(v);H>-1&&(l.splice(H,1),d())};return!i&&r.getCurrentScope()&&r.onScopeDispose(S),S}function fr(l,...v){l.slice().forEach(i=>{i(...v)})}function ki(l,v){l instanceof Map&&v instanceof Map&&v.forEach((i,d)=>l.set(d,i)),l instanceof Set&&v instanceof Set&&v.forEach(l.add,l);for(const i in v){if(!v.hasOwnProperty(i))continue;const d=v[i],S=l[i];wi(S)&&wi(d)&&l.hasOwnProperty(i)&&!r.isRef(d)&&!r.isReactive(d)?l[i]=ki(S,d):l[i]=d}return l}const kc=Symbol();function xc(l){return!wi(l)||!l.hasOwnProperty(kc)}const{assign:Mn}=Object;function Ec(l){return!!(r.isRef(l)&&l.effect)}function Cc(l,v,i,d){const{state:S,actions:H,getters:M}=v,I=i.state.value[l];let Y;function V(){I||(i.state.value[l]=S?S():{});const z=r.toRefs(i.state.value[l]);return Mn(z,H,Object.keys(M||{}).reduce((K,re)=>(K[re]=r.markRaw(r.computed(()=>{da(i);const P=i._s.get(l);return M[re].call(P,P)})),K),{}))}return Y=es(l,V,v,i,d,!0),Y}function es(l,v,i={},d,S,H){let M;const I=Mn({actions:{}},i),Y={deep:!0};let V,z,K=r.markRaw([]),re=r.markRaw([]),P;const g=d.state.value[l];!H&&!g&&(d.state.value[l]={}),r.ref({});let D;function O(ie){let ae;V=z=!1,typeof ie=="function"?(ie(d.state.value[l]),ae={type:Fr.patchFunction,storeId:l,events:P}):(ki(d.state.value[l],ie),ae={type:Fr.patchObject,payload:ie,storeId:l,events:P});const de=D=Symbol();r.nextTick().then(()=>{D===de&&(V=!0)}),z=!0,fr(K,ae,d.state.value[l])}const C=H?function(){const{state:ae}=i,de=ae?ae():{};this.$patch(ee=>{Mn(ee,de)})}:qo;function y(){M.stop(),K=[],re=[],d._s.delete(l)}function te(ie,ae){return function(){da(d);const de=Array.from(arguments),ee=[],he=[];function Oe(Fe){ee.push(Fe)}function Ye(Fe){he.push(Fe)}fr(re,{args:de,name:ie,store:q,after:Oe,onError:Ye});let Ue;try{Ue=ae.apply(this&&this.$id===l?this:q,de)}catch(Fe){throw fr(he,Fe),Fe}return Ue instanceof Promise?Ue.then(Fe=>(fr(ee,Fe),Fe)).catch(Fe=>(fr(he,Fe),Promise.reject(Fe))):(fr(ee,Ue),Ue)}}const Q={_p:d,$id:l,$onAction:$o.bind(null,re),$patch:O,$reset:C,$subscribe(ie,ae={}){const de=$o(K,ie,ae.detached,()=>ee()),ee=M.run(()=>r.watch(()=>d.state.value[l],he=>{(ae.flush==="sync"?z:V)&&ie({storeId:l,type:Fr.direct,events:P},he)},Mn({},Y,ae)));return de},$dispose:y},q=r.reactive(Q);d._s.set(l,q);const oe=d._e.run(()=>(M=r.effectScope(),M.run(()=>v())));for(const ie in oe){const ae=oe[ie];if(r.isRef(ae)&&!Ec(ae)||r.isReactive(ae))H||(g&&xc(ae)&&(r.isRef(ae)?ae.value=g[ie]:ki(ae,g[ie])),d.state.value[l][ie]=ae);else if(typeof ae=="function"){const de=te(ie,ae);oe[ie]=de,I.actions[ie]=ae}}return Mn(q,oe),Mn(r.toRaw(q),oe),Object.defineProperty(q,"$state",{get:()=>d.state.value[l],set:ie=>{O(ae=>{Mn(ae,ie)})}}),d._p.forEach(ie=>{Mn(q,M.run(()=>ie({store:q,app:d._a,pinia:d,options:I})))}),g&&H&&i.hydrate&&i.hydrate(q.$state,g),V=!0,z=!0,q}function Sc(l,v,i){let d,S;const H=typeof v=="function";typeof l=="string"?(d=l,S=H?i:v):(S=l,d=l.id);function M(I,Y){const V=r.getCurrentInstance();return I=I||V&&r.inject(Qo,null),I&&da(I),I=Jo,I._s.has(d)||(H?es(d,v,S,I):Cc(d,S,I)),I._s.get(d)}return M.$id=d,M}function ts(l){{l=r.toRaw(l);const v={};for(const i in l){const d=l[i];(r.isRef(d)||r.isReactive(d))&&(v[i]=r.toRef(l,i))}return v}}const py="";var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ns(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ha={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ha.exports,function(l,v){(function(){var i,d="4.17.21",S=200,H="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",M="Expected a function",I="Invalid `variable` option passed into `_.template`",Y="__lodash_hash_undefined__",V=500,z="__lodash_placeholder__",K=1,re=2,P=4,g=1,D=2,O=1,C=2,y=4,te=8,Q=16,q=32,oe=64,ie=128,ae=256,de=512,ee=30,he="...",Oe=800,Ye=16,Ue=1,Fe=2,Ft=3,Te=1/0,ge=9007199254740991,on=17976931348623157e292,vn=0/0,rt=4294967295,Ln=rt-1,sn=rt>>>1,_n=[["ary",ie],["bind",O],["bindKey",C],["curry",te],["curryRight",Q],["flip",de],["partial",q],["partialRight",oe],["rearg",ae]],Nt="[object Arguments]",yn="[object Array]",vr="[object AsyncFunction]",Vt="[object Boolean]",Ut="[object Date]",ln="[object DOMException]",cn="[object Error]",un="[object Function]",ct="[object GeneratorFunction]",vt="[object Map]",bn="[object Number]",_r="[object Null]",kt="[object Object]",Jn="[object Promise]",yr="[object Proxy]",fn="[object RegExp]",Ge="[object Set]",Z="[object String]",ue="[object Symbol]",Be="[object Undefined]",ut="[object WeakMap]",ft="[object WeakSet]",Ot="[object ArrayBuffer]",wn="[object DataView]",br="[object Float32Array]",wr="[object Float64Array]",zr="[object Int8Array]",Wr="[object Int16Array]",ve="[object Int32Array]",kr="[object Uint8Array]",Qn="[object Uint8ClampedArray]",qt="[object Uint16Array]",Hr="[object Uint32Array]",Pn=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,Di=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gr=/&(?:amp|lt|gt|quot|#39);/g,ze=/[&<>"']/g,Pe=RegExp(Gr.source),Ni=RegExp(ze.source),Fn=/<%-([\s\S]+?)%>/g,Oi=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,Ti=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qe=/^\w*$/,zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pn=/[\\^$.*+?()[\]{}|]/g,Bi=RegExp(pn.source),qn=/^\s+/,Xr=/\s/,$n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ai=/\{\n\/\* \[wrapped with (.+)\] \*/,wa=/,? & /,ka=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tt=/[()=,{}\[\]\/\s]/,xt=/\\(\\)?/g,Vn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jr=/\w*$/,Yr=/^[-+]0x[0-9a-f]+$/i,Ri=/^0b[01]+$/i,xa=/^\[object .+?Constructor\]$/,Ea=/^0o[0-7]+$/i,er=/^(?:0|[1-9]\d*)$/,Mi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kn=/($^)/,Ii=/['\n\r\u2028\u2029\\]/g,Bt="\\ud800-\\udfff",Li="\\u0300-\\u036f",Pi="\\ufe20-\\ufe2f",Ca="\\u20d0-\\u20ff",Sa=Li+Pi+Ca,Da="\\u2700-\\u27bf",Na="a-z\\xdf-\\xf6\\xf8-\\xff",Fi="\\xac\\xb1\\xd7\\xf7",Vi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ui="\\u2000-\\u206f",zi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oa="A-Z\\xc0-\\xd6\\xd8-\\xde",Ta="\\ufe0e\\ufe0f",Ba=Fi+Vi+Ui+zi,Kr="['’]",Wi="["+Bt+"]",Aa="["+Ba+"]",tr="["+Sa+"]",h="\\d+",o="["+Da+"]",u="["+Na+"]",c="[^"+Bt+Ba+h+Da+Na+Oa+"]",w="\\ud83c[\\udffb-\\udfff]",_="(?:"+tr+"|"+w+")",k="[^"+Bt+"]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",X="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+Oa+"]",B="\\u200d",A="(?:"+u+"|"+c+")",G="(?:"+U+"|"+c+")",ke="(?:"+Kr+"(?:d|ll|m|re|s|t|ve))?",we="(?:"+Kr+"(?:D|LL|M|RE|S|T|VE))?",Ie=_+"?",De="["+Ta+"]?",Ke="(?:"+B+"(?:"+[k,T,X].join("|")+")"+De+Ie+")*",$e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wt=De+Ie+Ke,_t="(?:"+[o,T,X].join("|")+")"+Wt,j="(?:"+[k+tr+"?",tr,T,X,Wi].join("|")+")",Ne=RegExp(Kr,"g"),Ze=RegExp(tr,"g"),dt=RegExp(w+"(?="+w+")|"+j+Wt,"g"),en=RegExp([U+"?"+u+"+"+ke+"(?="+[Aa,U,"$"].join("|")+")",G+"+"+we+"(?="+[Aa,U+A,"$"].join("|")+")",U+"?"+A+"+"+ke,U+"+"+we,Xe,$e,h,_t].join("|"),"g"),xn=RegExp("["+B+Bt+Sa+Ta+"]"),En=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ht=-1,_e={};_e[br]=_e[wr]=_e[zr]=_e[Wr]=_e[ve]=_e[kr]=_e[Qn]=_e[qt]=_e[Hr]=!0,_e[Nt]=_e[yn]=_e[Ot]=_e[Vt]=_e[wn]=_e[Ut]=_e[cn]=_e[un]=_e[vt]=_e[bn]=_e[kt]=_e[fn]=_e[Ge]=_e[Z]=_e[ut]=!1;var Se={};Se[Nt]=Se[yn]=Se[Ot]=Se[wn]=Se[Vt]=Se[Ut]=Se[br]=Se[wr]=Se[zr]=Se[Wr]=Se[ve]=Se[vt]=Se[bn]=Se[kt]=Se[fn]=Se[Ge]=Se[Z]=Se[ue]=Se[kr]=Se[Qn]=Se[qt]=Se[Hr]=!0,Se[cn]=Se[un]=Se[ut]=!1;var xr={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ra={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ma=parseFloat,Ia=parseInt,Qr=typeof pr=="object"&&pr&&pr.Object===Object&&pr,Hi=typeof self=="object"&&self&&self.Object===Object&&self,et=Qr||Hi||Function("return this")(),Gi=v&&!v.nodeType&&v,nr=Gi&&!0&&l&&!l.nodeType&&l,gs=nr&&nr.exports===Gi,Xi=gs&&Qr.process,Gt=function(){try{var x=nr&&nr.require&&nr.require("util").types;return x||Xi&&Xi.binding&&Xi.binding("util")}catch{}}(),ms=Gt&&Gt.isArrayBuffer,vs=Gt&&Gt.isDate,_s=Gt&&Gt.isMap,ys=Gt&&Gt.isRegExp,bs=Gt&&Gt.isSet,ws=Gt&&Gt.isTypedArray;function At(x,R,N){switch(N.length){case 0:return x.call(R);case 1:return x.call(R,N[0]);case 2:return x.call(R,N[0],N[1]);case 3:return x.call(R,N[0],N[1],N[2])}return x.apply(R,N)}function Ip(x,R,N,$){for(var fe=-1,Ae=x==null?0:x.length;++fe<Ae;){var tt=x[fe];R($,tt,N(tt),x)}return $}function Xt(x,R){for(var N=-1,$=x==null?0:x.length;++N<$&&R(x[N],N,x)!==!1;);return x}function Lp(x,R){for(var N=x==null?0:x.length;N--&&R(x[N],N,x)!==!1;);return x}function ks(x,R){for(var N=-1,$=x==null?0:x.length;++N<$;)if(!R(x[N],N,x))return!1;return!0}function Un(x,R){for(var N=-1,$=x==null?0:x.length,fe=0,Ae=[];++N<$;){var tt=x[N];R(tt,N,x)&&(Ae[fe++]=tt)}return Ae}function La(x,R){var N=x==null?0:x.length;return!!N&&Er(x,R,0)>-1}function ji(x,R,N){for(var $=-1,fe=x==null?0:x.length;++$<fe;)if(N(R,x[$]))return!0;return!1}function Ve(x,R){for(var N=-1,$=x==null?0:x.length,fe=Array($);++N<$;)fe[N]=R(x[N],N,x);return fe}function zn(x,R){for(var N=-1,$=R.length,fe=x.length;++N<$;)x[fe+N]=R[N];return x}function Yi(x,R,N,$){var fe=-1,Ae=x==null?0:x.length;for($&&Ae&&(N=x[++fe]);++fe<Ae;)N=R(N,x[fe],fe,x);return N}function Pp(x,R,N,$){var fe=x==null?0:x.length;for($&&fe&&(N=x[--fe]);fe--;)N=R(N,x[fe],fe,x);return N}function Ki(x,R){for(var N=-1,$=x==null?0:x.length;++N<$;)if(R(x[N],N,x))return!0;return!1}var Fp=Zi("length");function Vp(x){return x.split("")}function Up(x){return x.match(ka)||[]}function xs(x,R,N){var $;return N(x,function(fe,Ae,tt){if(R(fe,Ae,tt))return $=Ae,!1}),$}function Pa(x,R,N,$){for(var fe=x.length,Ae=N+($?1:-1);$?Ae--:++Ae<fe;)if(R(x[Ae],Ae,x))return Ae;return-1}function Er(x,R,N){return R===R?qp(x,R,N):Pa(x,Es,N)}function zp(x,R,N,$){for(var fe=N-1,Ae=x.length;++fe<Ae;)if($(x[fe],R))return fe;return-1}function Es(x){return x!==x}function Cs(x,R){var N=x==null?0:x.length;return N?Qi(x,R)/N:vn}function Zi(x){return function(R){return R==null?i:R[x]}}function Ji(x){return function(R){return x==null?i:x[R]}}function Ss(x,R,N,$,fe){return fe(x,function(Ae,tt,Le){N=$?($=!1,Ae):R(N,Ae,tt,Le)}),N}function Wp(x,R){var N=x.length;for(x.sort(R);N--;)x[N]=x[N].value;return x}function Qi(x,R){for(var N,$=-1,fe=x.length;++$<fe;){var Ae=R(x[$]);Ae!==i&&(N=N===i?Ae:N+Ae)}return N}function qi(x,R){for(var N=-1,$=Array(x);++N<x;)$[N]=R(N);return $}function Hp(x,R){return Ve(R,function(N){return[N,x[N]]})}function Ds(x){return x&&x.slice(0,Bs(x)+1).replace(qn,"")}function Rt(x){return function(R){return x(R)}}function $i(x,R){return Ve(R,function(N){return x[N]})}function qr(x,R){return x.has(R)}function Ns(x,R){for(var N=-1,$=x.length;++N<$&&Er(R,x[N],0)>-1;);return N}function Os(x,R){for(var N=x.length;N--&&Er(R,x[N],0)>-1;);return N}function Gp(x,R){for(var N=x.length,$=0;N--;)x[N]===R&&++$;return $}var Xp=Ji(xr),jp=Ji(Zr);function Yp(x){return"\\"+Ra[x]}function Kp(x,R){return x==null?i:x[R]}function Cr(x){return xn.test(x)}function Zp(x){return En.test(x)}function Jp(x){for(var R,N=[];!(R=x.next()).done;)N.push(R.value);return N}function eo(x){var R=-1,N=Array(x.size);return x.forEach(function($,fe){N[++R]=[fe,$]}),N}function Ts(x,R){return function(N){return x(R(N))}}function Wn(x,R){for(var N=-1,$=x.length,fe=0,Ae=[];++N<$;){var tt=x[N];(tt===R||tt===z)&&(x[N]=z,Ae[fe++]=N)}return Ae}function Fa(x){var R=-1,N=Array(x.size);return x.forEach(function($){N[++R]=$}),N}function Qp(x){var R=-1,N=Array(x.size);return x.forEach(function($){N[++R]=[$,$]}),N}function qp(x,R,N){for(var $=N-1,fe=x.length;++$<fe;)if(x[$]===R)return $;return-1}function $p(x,R,N){for(var $=N+1;$--;)if(x[$]===R)return $;return $}function Sr(x){return Cr(x)?td(x):Fp(x)}function tn(x){return Cr(x)?nd(x):Vp(x)}function Bs(x){for(var R=x.length;R--&&Xr.test(x.charAt(R)););return R}var ed=Ji(Jr);function td(x){for(var R=dt.lastIndex=0;dt.test(x);)++R;return R}function nd(x){return x.match(dt)||[]}function rd(x){return x.match(en)||[]}var ad=function x(R){R=R==null?et:Dr.defaults(et.Object(),R,Dr.pick(et,dn));var N=R.Array,$=R.Date,fe=R.Error,Ae=R.Function,tt=R.Math,Le=R.Object,to=R.RegExp,id=R.String,jt=R.TypeError,Va=N.prototype,od=Ae.prototype,Nr=Le.prototype,Ua=R["__core-js_shared__"],za=od.toString,Me=Nr.hasOwnProperty,sd=0,As=function(){var e=/[^.]+$/.exec(Ua&&Ua.keys&&Ua.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Wa=Nr.toString,ld=za.call(Le),cd=et._,ud=to("^"+za.call(Me).replace(pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ha=gs?R.Buffer:i,Hn=R.Symbol,Ga=R.Uint8Array,Rs=Ha?Ha.allocUnsafe:i,Xa=Ts(Le.getPrototypeOf,Le),Ms=Le.create,Is=Nr.propertyIsEnumerable,ja=Va.splice,Ls=Hn?Hn.isConcatSpreadable:i,$r=Hn?Hn.iterator:i,rr=Hn?Hn.toStringTag:i,Ya=function(){try{var e=lr(Le,"defineProperty");return e({},"",{}),e}catch{}}(),fd=R.clearTimeout!==et.clearTimeout&&R.clearTimeout,pd=$&&$.now!==et.Date.now&&$.now,dd=R.setTimeout!==et.setTimeout&&R.setTimeout,Ka=tt.ceil,Za=tt.floor,no=Le.getOwnPropertySymbols,hd=Ha?Ha.isBuffer:i,Ps=R.isFinite,gd=Va.join,md=Ts(Le.keys,Le),nt=tt.max,ht=tt.min,vd=$.now,_d=R.parseInt,Fs=tt.random,yd=Va.reverse,ro=lr(R,"DataView"),ea=lr(R,"Map"),ao=lr(R,"Promise"),Or=lr(R,"Set"),ta=lr(R,"WeakMap"),na=lr(Le,"create"),Ja=ta&&new ta,Tr={},bd=cr(ro),wd=cr(ea),kd=cr(ao),xd=cr(Or),Ed=cr(ta),Qa=Hn?Hn.prototype:i,ra=Qa?Qa.valueOf:i,Vs=Qa?Qa.toString:i;function f(e){if(je(e)&&!pe(e)&&!(e instanceof Ee)){if(e instanceof Yt)return e;if(Me.call(e,"__wrapped__"))return Ul(e)}return new Yt(e)}var Br=function(){function e(){}return function(t){if(!We(t))return{};if(Ms)return Ms(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function qa(){}function Yt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}f.templateSettings={escape:Fn,evaluate:Oi,interpolate:$t,variable:"",imports:{_:f}},f.prototype=qa.prototype,f.prototype.constructor=f,Yt.prototype=Br(qa.prototype),Yt.prototype.constructor=Yt;function Ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=rt,this.__views__=[]}function Cd(){var e=new Ee(this.__wrapped__);return e.__actions__=Et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Et(this.__views__),e}function Sd(){if(this.__filtered__){var e=new Ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Dd(){var e=this.__wrapped__.value(),t=this.__dir__,n=pe(e),a=t<0,s=n?e.length:0,p=Vh(0,s,this.__views__),m=p.start,b=p.end,E=b-m,L=a?b:m-1,F=this.__iteratees__,W=F.length,J=0,ne=ht(E,this.__takeCount__);if(!n||!a&&s==E&&ne==E)return cl(e,this.__actions__);var le=[];e:for(;E--&&J<ne;){L+=t;for(var ye=-1,ce=e[L];++ye<W;){var xe=F[ye],Ce=xe.iteratee,Lt=xe.type,wt=Ce(ce);if(Lt==Fe)ce=wt;else if(!wt){if(Lt==Ue)continue e;break e}}le[J++]=ce}return le}Ee.prototype=Br(qa.prototype),Ee.prototype.constructor=Ee;function ar(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Nd(){this.__data__=na?na(null):{},this.size=0}function Od(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Td(e){var t=this.__data__;if(na){var n=t[e];return n===Y?i:n}return Me.call(t,e)?t[e]:i}function Bd(e){var t=this.__data__;return na?t[e]!==i:Me.call(t,e)}function Ad(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=na&&t===i?Y:t,this}ar.prototype.clear=Nd,ar.prototype.delete=Od,ar.prototype.get=Td,ar.prototype.has=Bd,ar.prototype.set=Ad;function Cn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Rd(){this.__data__=[],this.size=0}function Md(e){var t=this.__data__,n=$a(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():ja.call(t,n,1),--this.size,!0}function Id(e){var t=this.__data__,n=$a(t,e);return n<0?i:t[n][1]}function Ld(e){return $a(this.__data__,e)>-1}function Pd(e,t){var n=this.__data__,a=$a(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}Cn.prototype.clear=Rd,Cn.prototype.delete=Md,Cn.prototype.get=Id,Cn.prototype.has=Ld,Cn.prototype.set=Pd;function Sn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Fd(){this.size=0,this.__data__={hash:new ar,map:new(ea||Cn),string:new ar}}function Vd(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t}function Ud(e){return fi(this,e).get(e)}function zd(e){return fi(this,e).has(e)}function Wd(e,t){var n=fi(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}Sn.prototype.clear=Fd,Sn.prototype.delete=Vd,Sn.prototype.get=Ud,Sn.prototype.has=zd,Sn.prototype.set=Wd;function ir(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Sn;++t<n;)this.add(e[t])}function Hd(e){return this.__data__.set(e,Y),this}function Gd(e){return this.__data__.has(e)}ir.prototype.add=ir.prototype.push=Hd,ir.prototype.has=Gd;function nn(e){var t=this.__data__=new Cn(e);this.size=t.size}function Xd(){this.__data__=new Cn,this.size=0}function jd(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Yd(e){return this.__data__.get(e)}function Kd(e){return this.__data__.has(e)}function Zd(e,t){var n=this.__data__;if(n instanceof Cn){var a=n.__data__;if(!ea||a.length<S-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sn(a)}return n.set(e,t),this.size=n.size,this}nn.prototype.clear=Xd,nn.prototype.delete=jd,nn.prototype.get=Yd,nn.prototype.has=Kd,nn.prototype.set=Zd;function Us(e,t){var n=pe(e),a=!n&&ur(e),s=!n&&!a&&Kn(e),p=!n&&!a&&!s&&Ir(e),m=n||a||s||p,b=m?qi(e.length,id):[],E=b.length;for(var L in e)(t||Me.call(e,L))&&!(m&&(L=="length"||s&&(L=="offset"||L=="parent")||p&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||Tn(L,E)))&&b.push(L);return b}function zs(e){var t=e.length;return t?e[mo(0,t-1)]:i}function Jd(e,t){return pi(Et(e),or(t,0,e.length))}function Qd(e){return pi(Et(e))}function io(e,t,n){(n!==i&&!rn(e[t],n)||n===i&&!(t in e))&&Dn(e,t,n)}function aa(e,t,n){var a=e[t];(!(Me.call(e,t)&&rn(a,n))||n===i&&!(t in e))&&Dn(e,t,n)}function $a(e,t){for(var n=e.length;n--;)if(rn(e[n][0],t))return n;return-1}function qd(e,t,n,a){return Gn(e,function(s,p,m){t(a,s,n(s),m)}),a}function Ws(e,t){return e&&gn(t,at(t),e)}function $d(e,t){return e&&gn(t,St(t),e)}function Dn(e,t,n){t=="__proto__"&&Ya?Ya(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function oo(e,t){for(var n=-1,a=t.length,s=N(a),p=e==null;++n<a;)s[n]=p?i:zo(e,t[n]);return s}function or(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Kt(e,t,n,a,s,p){var m,b=t&K,E=t&re,L=t&P;if(n&&(m=s?n(e,a,s,p):n(e)),m!==i)return m;if(!We(e))return e;var F=pe(e);if(F){if(m=zh(e),!b)return Et(e,m)}else{var W=gt(e),J=W==un||W==ct;if(Kn(e))return pl(e,b);if(W==kt||W==Nt||J&&!s){if(m=E||J?{}:Bl(e),!b)return E?Th(e,$d(m,e)):Oh(e,Ws(m,e))}else{if(!Se[W])return s?e:{};m=Wh(e,W,b)}}p||(p=new nn);var ne=p.get(e);if(ne)return ne;p.set(e,m),oc(e)?e.forEach(function(ce){m.add(Kt(ce,t,n,ce,e,p))}):ac(e)&&e.forEach(function(ce,xe){m.set(xe,Kt(ce,t,n,xe,e,p))});var le=L?E?Do:So:E?St:at,ye=F?i:le(e);return Xt(ye||e,function(ce,xe){ye&&(xe=ce,ce=e[xe]),aa(m,xe,Kt(ce,t,n,xe,e,p))}),m}function eh(e){var t=at(e);return function(n){return Hs(n,e,t)}}function Hs(e,t,n){var a=n.length;if(e==null)return!a;for(e=Le(e);a--;){var s=n[a],p=t[s],m=e[s];if(m===i&&!(s in e)||!p(m))return!1}return!0}function Gs(e,t,n){if(typeof e!="function")throw new jt(M);return fa(function(){e.apply(i,n)},t)}function ia(e,t,n,a){var s=-1,p=La,m=!0,b=e.length,E=[],L=t.length;if(!b)return E;n&&(t=Ve(t,Rt(n))),a?(p=ji,m=!1):t.length>=S&&(p=qr,m=!1,t=new ir(t));e:for(;++s<b;){var F=e[s],W=n==null?F:n(F);if(F=a||F!==0?F:0,m&&W===W){for(var J=L;J--;)if(t[J]===W)continue e;E.push(F)}else p(t,W,a)||E.push(F)}return E}var Gn=vl(hn),Xs=vl(lo,!0);function th(e,t){var n=!0;return Gn(e,function(a,s,p){return n=!!t(a,s,p),n}),n}function ei(e,t,n){for(var a=-1,s=e.length;++a<s;){var p=e[a],m=t(p);if(m!=null&&(b===i?m===m&&!It(m):n(m,b)))var b=m,E=p}return E}function nh(e,t,n,a){var s=e.length;for(n=me(n),n<0&&(n=-n>s?0:s+n),a=a===i||a>s?s:me(a),a<0&&(a+=s),a=n>a?0:lc(a);n<a;)e[n++]=t;return e}function js(e,t){var n=[];return Gn(e,function(a,s,p){t(a,s,p)&&n.push(a)}),n}function st(e,t,n,a,s){var p=-1,m=e.length;for(n||(n=Gh),s||(s=[]);++p<m;){var b=e[p];t>0&&n(b)?t>1?st(b,t-1,n,a,s):zn(s,b):a||(s[s.length]=b)}return s}var so=_l(),Ys=_l(!0);function hn(e,t){return e&&so(e,t,at)}function lo(e,t){return e&&Ys(e,t,at)}function ti(e,t){return Un(t,function(n){return Bn(e[n])})}function sr(e,t){t=jn(t,e);for(var n=0,a=t.length;e!=null&&n<a;)e=e[mn(t[n++])];return n&&n==a?e:i}function Ks(e,t,n){var a=t(e);return pe(e)?a:zn(a,n(e))}function yt(e){return e==null?e===i?Be:_r:rr&&rr in Le(e)?Fh(e):Qh(e)}function co(e,t){return e>t}function rh(e,t){return e!=null&&Me.call(e,t)}function ah(e,t){return e!=null&&t in Le(e)}function ih(e,t,n){return e>=ht(t,n)&&e<nt(t,n)}function uo(e,t,n){for(var a=n?ji:La,s=e[0].length,p=e.length,m=p,b=N(p),E=1/0,L=[];m--;){var F=e[m];m&&t&&(F=Ve(F,Rt(t))),E=ht(F.length,E),b[m]=!n&&(t||s>=120&&F.length>=120)?new ir(m&&F):i}F=e[0];var W=-1,J=b[0];e:for(;++W<s&&L.length<E;){var ne=F[W],le=t?t(ne):ne;if(ne=n||ne!==0?ne:0,!(J?qr(J,le):a(L,le,n))){for(m=p;--m;){var ye=b[m];if(!(ye?qr(ye,le):a(e[m],le,n)))continue e}J&&J.push(le),L.push(ne)}}return L}function oh(e,t,n,a){return hn(e,function(s,p,m){t(a,n(s),p,m)}),a}function oa(e,t,n){t=jn(t,e),e=Il(e,t);var a=e==null?e:e[mn(Jt(t))];return a==null?i:At(a,e,n)}function Zs(e){return je(e)&&yt(e)==Nt}function sh(e){return je(e)&&yt(e)==Ot}function lh(e){return je(e)&&yt(e)==Ut}function sa(e,t,n,a,s){return e===t?!0:e==null||t==null||!je(e)&&!je(t)?e!==e&&t!==t:ch(e,t,n,a,sa,s)}function ch(e,t,n,a,s,p){var m=pe(e),b=pe(t),E=m?yn:gt(e),L=b?yn:gt(t);E=E==Nt?kt:E,L=L==Nt?kt:L;var F=E==kt,W=L==kt,J=E==L;if(J&&Kn(e)){if(!Kn(t))return!1;m=!0,F=!1}if(J&&!F)return p||(p=new nn),m||Ir(e)?Nl(e,t,n,a,s,p):Lh(e,t,E,n,a,s,p);if(!(n&g)){var ne=F&&Me.call(e,"__wrapped__"),le=W&&Me.call(t,"__wrapped__");if(ne||le){var ye=ne?e.value():e,ce=le?t.value():t;return p||(p=new nn),s(ye,ce,n,a,p)}}return J?(p||(p=new nn),Ph(e,t,n,a,s,p)):!1}function uh(e){return je(e)&&gt(e)==vt}function fo(e,t,n,a){var s=n.length,p=s,m=!a;if(e==null)return!p;for(e=Le(e);s--;){var b=n[s];if(m&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++s<p;){b=n[s];var E=b[0],L=e[E],F=b[1];if(m&&b[2]){if(L===i&&!(E in e))return!1}else{var W=new nn;if(a)var J=a(L,F,E,e,t,W);if(!(J===i?sa(F,L,g|D,a,W):J))return!1}}return!0}function Js(e){if(!We(e)||jh(e))return!1;var t=Bn(e)?ud:xa;return t.test(cr(e))}function fh(e){return je(e)&&yt(e)==fn}function ph(e){return je(e)&&gt(e)==Ge}function dh(e){return je(e)&&_i(e.length)&&!!_e[yt(e)]}function Qs(e){return typeof e=="function"?e:e==null?Dt:typeof e=="object"?pe(e)?el(e[0],e[1]):$s(e):yc(e)}function po(e){if(!ua(e))return md(e);var t=[];for(var n in Le(e))Me.call(e,n)&&n!="constructor"&&t.push(n);return t}function hh(e){if(!We(e))return Jh(e);var t=ua(e),n=[];for(var a in e)a=="constructor"&&(t||!Me.call(e,a))||n.push(a);return n}function ho(e,t){return e<t}function qs(e,t){var n=-1,a=Ct(e)?N(e.length):[];return Gn(e,function(s,p,m){a[++n]=t(s,p,m)}),a}function $s(e){var t=Oo(e);return t.length==1&&t[0][2]?Rl(t[0][0],t[0][1]):function(n){return n===e||fo(n,e,t)}}function el(e,t){return Bo(e)&&Al(t)?Rl(mn(e),t):function(n){var a=zo(n,e);return a===i&&a===t?Wo(n,e):sa(t,a,g|D)}}function ni(e,t,n,a,s){e!==t&&so(t,function(p,m){if(s||(s=new nn),We(p))gh(e,t,m,n,ni,a,s);else{var b=a?a(Ro(e,m),p,m+"",e,t,s):i;b===i&&(b=p),io(e,m,b)}},St)}function gh(e,t,n,a,s,p,m){var b=Ro(e,n),E=Ro(t,n),L=m.get(E);if(L){io(e,n,L);return}var F=p?p(b,E,n+"",e,t,m):i,W=F===i;if(W){var J=pe(E),ne=!J&&Kn(E),le=!J&&!ne&&Ir(E);F=E,J||ne||le?pe(b)?F=b:Je(b)?F=Et(b):ne?(W=!1,F=pl(E,!0)):le?(W=!1,F=dl(E,!0)):F=[]:pa(E)||ur(E)?(F=b,ur(b)?F=cc(b):(!We(b)||Bn(b))&&(F=Bl(E))):W=!1}W&&(m.set(E,F),s(F,E,a,p,m),m.delete(E)),io(e,n,F)}function tl(e,t){var n=e.length;if(n)return t+=t<0?n:0,Tn(t,n)?e[t]:i}function nl(e,t,n){t.length?t=Ve(t,function(p){return pe(p)?function(m){return sr(m,p.length===1?p[0]:p)}:p}):t=[Dt];var a=-1;t=Ve(t,Rt(se()));var s=qs(e,function(p,m,b){var E=Ve(t,function(L){return L(p)});return{criteria:E,index:++a,value:p}});return Wp(s,function(p,m){return Nh(p,m,n)})}function mh(e,t){return rl(e,t,function(n,a){return Wo(e,a)})}function rl(e,t,n){for(var a=-1,s=t.length,p={};++a<s;){var m=t[a],b=sr(e,m);n(b,m)&&la(p,jn(m,e),b)}return p}function vh(e){return function(t){return sr(t,e)}}function go(e,t,n,a){var s=a?zp:Er,p=-1,m=t.length,b=e;for(e===t&&(t=Et(t)),n&&(b=Ve(e,Rt(n)));++p<m;)for(var E=0,L=t[p],F=n?n(L):L;(E=s(b,F,E,a))>-1;)b!==e&&ja.call(b,E,1),ja.call(e,E,1);return e}function al(e,t){for(var n=e?t.length:0,a=n-1;n--;){var s=t[n];if(n==a||s!==p){var p=s;Tn(s)?ja.call(e,s,1):yo(e,s)}}return e}function mo(e,t){return e+Za(Fs()*(t-e+1))}function _h(e,t,n,a){for(var s=-1,p=nt(Ka((t-e)/(n||1)),0),m=N(p);p--;)m[a?p:++s]=e,e+=n;return m}function vo(e,t){var n="";if(!e||t<1||t>ge)return n;do t%2&&(n+=e),t=Za(t/2),t&&(e+=e);while(t);return n}function be(e,t){return Mo(Ml(e,t,Dt),e+"")}function yh(e){return zs(Lr(e))}function bh(e,t){var n=Lr(e);return pi(n,or(t,0,n.length))}function la(e,t,n,a){if(!We(e))return e;t=jn(t,e);for(var s=-1,p=t.length,m=p-1,b=e;b!=null&&++s<p;){var E=mn(t[s]),L=n;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(s!=m){var F=b[E];L=a?a(F,E,b):i,L===i&&(L=We(F)?F:Tn(t[s+1])?[]:{})}aa(b,E,L),b=b[E]}return e}var il=Ja?function(e,t){return Ja.set(e,t),e}:Dt,wh=Ya?function(e,t){return Ya(e,"toString",{configurable:!0,enumerable:!1,value:Go(t),writable:!0})}:Dt;function kh(e){return pi(Lr(e))}function Zt(e,t,n){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var p=N(s);++a<s;)p[a]=e[a+t];return p}function xh(e,t){var n;return Gn(e,function(a,s,p){return n=t(a,s,p),!n}),!!n}function ri(e,t,n){var a=0,s=e==null?a:e.length;if(typeof t=="number"&&t===t&&s<=sn){for(;a<s;){var p=a+s>>>1,m=e[p];m!==null&&!It(m)&&(n?m<=t:m<t)?a=p+1:s=p}return s}return _o(e,t,Dt,n)}function _o(e,t,n,a){var s=0,p=e==null?0:e.length;if(p===0)return 0;t=n(t);for(var m=t!==t,b=t===null,E=It(t),L=t===i;s<p;){var F=Za((s+p)/2),W=n(e[F]),J=W!==i,ne=W===null,le=W===W,ye=It(W);if(m)var ce=a||le;else L?ce=le&&(a||J):b?ce=le&&J&&(a||!ne):E?ce=le&&J&&!ne&&(a||!ye):ne||ye?ce=!1:ce=a?W<=t:W<t;ce?s=F+1:p=F}return ht(p,Ln)}function ol(e,t){for(var n=-1,a=e.length,s=0,p=[];++n<a;){var m=e[n],b=t?t(m):m;if(!n||!rn(b,E)){var E=b;p[s++]=m===0?0:m}}return p}function sl(e){return typeof e=="number"?e:It(e)?vn:+e}function Mt(e){if(typeof e=="string")return e;if(pe(e))return Ve(e,Mt)+"";if(It(e))return Vs?Vs.call(e):"";var t=e+"";return t=="0"&&1/e==-Te?"-0":t}function Xn(e,t,n){var a=-1,s=La,p=e.length,m=!0,b=[],E=b;if(n)m=!1,s=ji;else if(p>=S){var L=t?null:Mh(e);if(L)return Fa(L);m=!1,s=qr,E=new ir}else E=t?[]:b;e:for(;++a<p;){var F=e[a],W=t?t(F):F;if(F=n||F!==0?F:0,m&&W===W){for(var J=E.length;J--;)if(E[J]===W)continue e;t&&E.push(W),b.push(F)}else s(E,W,n)||(E!==b&&E.push(W),b.push(F))}return b}function yo(e,t){return t=jn(t,e),e=Il(e,t),e==null||delete e[mn(Jt(t))]}function ll(e,t,n,a){return la(e,t,n(sr(e,t)),a)}function ai(e,t,n,a){for(var s=e.length,p=a?s:-1;(a?p--:++p<s)&&t(e[p],p,e););return n?Zt(e,a?0:p,a?p+1:s):Zt(e,a?p+1:0,a?s:p)}function cl(e,t){var n=e;return n instanceof Ee&&(n=n.value()),Yi(t,function(a,s){return s.func.apply(s.thisArg,zn([a],s.args))},n)}function bo(e,t,n){var a=e.length;if(a<2)return a?Xn(e[0]):[];for(var s=-1,p=N(a);++s<a;)for(var m=e[s],b=-1;++b<a;)b!=s&&(p[s]=ia(p[s]||m,e[b],t,n));return Xn(st(p,1),t,n)}function ul(e,t,n){for(var a=-1,s=e.length,p=t.length,m={};++a<s;){var b=a<p?t[a]:i;n(m,e[a],b)}return m}function wo(e){return Je(e)?e:[]}function ko(e){return typeof e=="function"?e:Dt}function jn(e,t){return pe(e)?e:Bo(e,t)?[e]:Vl(Re(e))}var Eh=be;function Yn(e,t,n){var a=e.length;return n=n===i?a:n,!t&&n>=a?e:Zt(e,t,n)}var fl=fd||function(e){return et.clearTimeout(e)};function pl(e,t){if(t)return e.slice();var n=e.length,a=Rs?Rs(n):new e.constructor(n);return e.copy(a),a}function xo(e){var t=new e.constructor(e.byteLength);return new Ga(t).set(new Ga(e)),t}function Ch(e,t){var n=t?xo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Sh(e){var t=new e.constructor(e.source,jr.exec(e));return t.lastIndex=e.lastIndex,t}function Dh(e){return ra?Le(ra.call(e)):{}}function dl(e,t){var n=t?xo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hl(e,t){if(e!==t){var n=e!==i,a=e===null,s=e===e,p=It(e),m=t!==i,b=t===null,E=t===t,L=It(t);if(!b&&!L&&!p&&e>t||p&&m&&E&&!b&&!L||a&&m&&E||!n&&E||!s)return 1;if(!a&&!p&&!L&&e<t||L&&n&&s&&!a&&!p||b&&n&&s||!m&&s||!E)return-1}return 0}function Nh(e,t,n){for(var a=-1,s=e.criteria,p=t.criteria,m=s.length,b=n.length;++a<m;){var E=hl(s[a],p[a]);if(E){if(a>=b)return E;var L=n[a];return E*(L=="desc"?-1:1)}}return e.index-t.index}function gl(e,t,n,a){for(var s=-1,p=e.length,m=n.length,b=-1,E=t.length,L=nt(p-m,0),F=N(E+L),W=!a;++b<E;)F[b]=t[b];for(;++s<m;)(W||s<p)&&(F[n[s]]=e[s]);for(;L--;)F[b++]=e[s++];return F}function ml(e,t,n,a){for(var s=-1,p=e.length,m=-1,b=n.length,E=-1,L=t.length,F=nt(p-b,0),W=N(F+L),J=!a;++s<F;)W[s]=e[s];for(var ne=s;++E<L;)W[ne+E]=t[E];for(;++m<b;)(J||s<p)&&(W[ne+n[m]]=e[s++]);return W}function Et(e,t){var n=-1,a=e.length;for(t||(t=N(a));++n<a;)t[n]=e[n];return t}function gn(e,t,n,a){var s=!n;n||(n={});for(var p=-1,m=t.length;++p<m;){var b=t[p],E=a?a(n[b],e[b],b,n,e):i;E===i&&(E=e[b]),s?Dn(n,b,E):aa(n,b,E)}return n}function Oh(e,t){return gn(e,To(e),t)}function Th(e,t){return gn(e,Ol(e),t)}function ii(e,t){return function(n,a){var s=pe(n)?Ip:qd,p=t?t():{};return s(n,e,se(a,2),p)}}function Ar(e){return be(function(t,n){var a=-1,s=n.length,p=s>1?n[s-1]:i,m=s>2?n[2]:i;for(p=e.length>3&&typeof p=="function"?(s--,p):i,m&&bt(n[0],n[1],m)&&(p=s<3?i:p,s=1),t=Le(t);++a<s;){var b=n[a];b&&e(t,b,a,p)}return t})}function vl(e,t){return function(n,a){if(n==null)return n;if(!Ct(n))return e(n,a);for(var s=n.length,p=t?s:-1,m=Le(n);(t?p--:++p<s)&&a(m[p],p,m)!==!1;);return n}}function _l(e){return function(t,n,a){for(var s=-1,p=Le(t),m=a(t),b=m.length;b--;){var E=m[e?b:++s];if(n(p[E],E,p)===!1)break}return t}}function Bh(e,t,n){var a=t&O,s=ca(e);function p(){var m=this&&this!==et&&this instanceof p?s:e;return m.apply(a?n:this,arguments)}return p}function yl(e){return function(t){t=Re(t);var n=Cr(t)?tn(t):i,a=n?n[0]:t.charAt(0),s=n?Yn(n,1).join(""):t.slice(1);return a[e]()+s}}function Rr(e){return function(t){return Yi(vc(mc(t).replace(Ne,"")),e,"")}}function ca(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Br(e.prototype),a=e.apply(n,t);return We(a)?a:n}}function Ah(e,t,n){var a=ca(e);function s(){for(var p=arguments.length,m=N(p),b=p,E=Mr(s);b--;)m[b]=arguments[b];var L=p<3&&m[0]!==E&&m[p-1]!==E?[]:Wn(m,E);if(p-=L.length,p<n)return El(e,t,oi,s.placeholder,i,m,L,i,i,n-p);var F=this&&this!==et&&this instanceof s?a:e;return At(F,this,m)}return s}function bl(e){return function(t,n,a){var s=Le(t);if(!Ct(t)){var p=se(n,3);t=at(t),n=function(b){return p(s[b],b,s)}}var m=e(t,n,a);return m>-1?s[p?t[m]:m]:i}}function wl(e){return On(function(t){var n=t.length,a=n,s=Yt.prototype.thru;for(e&&t.reverse();a--;){var p=t[a];if(typeof p!="function")throw new jt(M);if(s&&!m&&ui(p)=="wrapper")var m=new Yt([],!0)}for(a=m?a:n;++a<n;){p=t[a];var b=ui(p),E=b=="wrapper"?No(p):i;E&&Ao(E[0])&&E[1]==(ie|te|q|ae)&&!E[4].length&&E[9]==1?m=m[ui(E[0])].apply(m,E[3]):m=p.length==1&&Ao(p)?m[b]():m.thru(p)}return function(){var L=arguments,F=L[0];if(m&&L.length==1&&pe(F))return m.plant(F).value();for(var W=0,J=n?t[W].apply(this,L):F;++W<n;)J=t[W].call(this,J);return J}})}function oi(e,t,n,a,s,p,m,b,E,L){var F=t&ie,W=t&O,J=t&C,ne=t&(te|Q),le=t&de,ye=J?i:ca(e);function ce(){for(var xe=arguments.length,Ce=N(xe),Lt=xe;Lt--;)Ce[Lt]=arguments[Lt];if(ne)var wt=Mr(ce),Pt=Gp(Ce,wt);if(a&&(Ce=gl(Ce,a,s,ne)),p&&(Ce=ml(Ce,p,m,ne)),xe-=Pt,ne&&xe<L){var Qe=Wn(Ce,wt);return El(e,t,oi,ce.placeholder,n,Ce,Qe,b,E,L-xe)}var an=W?n:this,Rn=J?an[e]:e;return xe=Ce.length,b?Ce=qh(Ce,b):le&&xe>1&&Ce.reverse(),F&&E<xe&&(Ce.length=E),this&&this!==et&&this instanceof ce&&(Rn=ye||ca(Rn)),Rn.apply(an,Ce)}return ce}function kl(e,t){return function(n,a){return oh(n,e,t(a),{})}}function si(e,t){return function(n,a){var s;if(n===i&&a===i)return t;if(n!==i&&(s=n),a!==i){if(s===i)return a;typeof n=="string"||typeof a=="string"?(n=Mt(n),a=Mt(a)):(n=sl(n),a=sl(a)),s=e(n,a)}return s}}function Eo(e){return On(function(t){return t=Ve(t,Rt(se())),be(function(n){var a=this;return e(t,function(s){return At(s,a,n)})})})}function li(e,t){t=t===i?" ":Mt(t);var n=t.length;if(n<2)return n?vo(t,e):t;var a=vo(t,Ka(e/Sr(t)));return Cr(t)?Yn(tn(a),0,e).join(""):a.slice(0,e)}function Rh(e,t,n,a){var s=t&O,p=ca(e);function m(){for(var b=-1,E=arguments.length,L=-1,F=a.length,W=N(F+E),J=this&&this!==et&&this instanceof m?p:e;++L<F;)W[L]=a[L];for(;E--;)W[L++]=arguments[++b];return At(J,s?n:this,W)}return m}function xl(e){return function(t,n,a){return a&&typeof a!="number"&&bt(t,n,a)&&(n=a=i),t=An(t),n===i?(n=t,t=0):n=An(n),a=a===i?t<n?1:-1:An(a),_h(t,n,a,e)}}function ci(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Qt(t),n=Qt(n)),e(t,n)}}function El(e,t,n,a,s,p,m,b,E,L){var F=t&te,W=F?m:i,J=F?i:m,ne=F?p:i,le=F?i:p;t|=F?q:oe,t&=~(F?oe:q),t&y||(t&=~(O|C));var ye=[e,t,s,ne,W,le,J,b,E,L],ce=n.apply(i,ye);return Ao(e)&&Ll(ce,ye),ce.placeholder=a,Pl(ce,e,t)}function Co(e){var t=tt[e];return function(n,a){if(n=Qt(n),a=a==null?0:ht(me(a),292),a&&Ps(n)){var s=(Re(n)+"e").split("e"),p=t(s[0]+"e"+(+s[1]+a));return s=(Re(p)+"e").split("e"),+(s[0]+"e"+(+s[1]-a))}return t(n)}}var Mh=Or&&1/Fa(new Or([,-0]))[1]==Te?function(e){return new Or(e)}:Yo;function Cl(e){return function(t){var n=gt(t);return n==vt?eo(t):n==Ge?Qp(t):Hp(t,e(t))}}function Nn(e,t,n,a,s,p,m,b){var E=t&C;if(!E&&typeof e!="function")throw new jt(M);var L=a?a.length:0;if(L||(t&=~(q|oe),a=s=i),m=m===i?m:nt(me(m),0),b=b===i?b:me(b),L-=s?s.length:0,t&oe){var F=a,W=s;a=s=i}var J=E?i:No(e),ne=[e,t,n,a,s,F,W,p,m,b];if(J&&Zh(ne,J),e=ne[0],t=ne[1],n=ne[2],a=ne[3],s=ne[4],b=ne[9]=ne[9]===i?E?0:e.length:nt(ne[9]-L,0),!b&&t&(te|Q)&&(t&=~(te|Q)),!t||t==O)var le=Bh(e,t,n);else t==te||t==Q?le=Ah(e,t,b):(t==q||t==(O|q))&&!s.length?le=Rh(e,t,n,a):le=oi.apply(i,ne);var ye=J?il:Ll;return Pl(ye(le,ne),e,t)}function Sl(e,t,n,a){return e===i||rn(e,Nr[n])&&!Me.call(a,n)?t:e}function Dl(e,t,n,a,s,p){return We(e)&&We(t)&&(p.set(t,e),ni(e,t,i,Dl,p),p.delete(t)),e}function Ih(e){return pa(e)?i:e}function Nl(e,t,n,a,s,p){var m=n&g,b=e.length,E=t.length;if(b!=E&&!(m&&E>b))return!1;var L=p.get(e),F=p.get(t);if(L&&F)return L==t&&F==e;var W=-1,J=!0,ne=n&D?new ir:i;for(p.set(e,t),p.set(t,e);++W<b;){var le=e[W],ye=t[W];if(a)var ce=m?a(ye,le,W,t,e,p):a(le,ye,W,e,t,p);if(ce!==i){if(ce)continue;J=!1;break}if(ne){if(!Ki(t,function(xe,Ce){if(!qr(ne,Ce)&&(le===xe||s(le,xe,n,a,p)))return ne.push(Ce)})){J=!1;break}}else if(!(le===ye||s(le,ye,n,a,p))){J=!1;break}}return p.delete(e),p.delete(t),J}function Lh(e,t,n,a,s,p,m){switch(n){case wn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ot:return!(e.byteLength!=t.byteLength||!p(new Ga(e),new Ga(t)));case Vt:case Ut:case bn:return rn(+e,+t);case cn:return e.name==t.name&&e.message==t.message;case fn:case Z:return e==t+"";case vt:var b=eo;case Ge:var E=a&g;if(b||(b=Fa),e.size!=t.size&&!E)return!1;var L=m.get(e);if(L)return L==t;a|=D,m.set(e,t);var F=Nl(b(e),b(t),a,s,p,m);return m.delete(e),F;case ue:if(ra)return ra.call(e)==ra.call(t)}return!1}function Ph(e,t,n,a,s,p){var m=n&g,b=So(e),E=b.length,L=So(t),F=L.length;if(E!=F&&!m)return!1;for(var W=E;W--;){var J=b[W];if(!(m?J in t:Me.call(t,J)))return!1}var ne=p.get(e),le=p.get(t);if(ne&&le)return ne==t&&le==e;var ye=!0;p.set(e,t),p.set(t,e);for(var ce=m;++W<E;){J=b[W];var xe=e[J],Ce=t[J];if(a)var Lt=m?a(Ce,xe,J,t,e,p):a(xe,Ce,J,e,t,p);if(!(Lt===i?xe===Ce||s(xe,Ce,n,a,p):Lt)){ye=!1;break}ce||(ce=J=="constructor")}if(ye&&!ce){var wt=e.constructor,Pt=t.constructor;wt!=Pt&&"constructor"in e&&"constructor"in t&&!(typeof wt=="function"&&wt instanceof wt&&typeof Pt=="function"&&Pt instanceof Pt)&&(ye=!1)}return p.delete(e),p.delete(t),ye}function On(e){return Mo(Ml(e,i,Hl),e+"")}function So(e){return Ks(e,at,To)}function Do(e){return Ks(e,St,Ol)}var No=Ja?function(e){return Ja.get(e)}:Yo;function ui(e){for(var t=e.name+"",n=Tr[t],a=Me.call(Tr,t)?n.length:0;a--;){var s=n[a],p=s.func;if(p==null||p==e)return s.name}return t}function Mr(e){var t=Me.call(f,"placeholder")?f:e;return t.placeholder}function se(){var e=f.iteratee||Xo;return e=e===Xo?Qs:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n=e.__data__;return Xh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Oo(e){for(var t=at(e),n=t.length;n--;){var a=t[n],s=e[a];t[n]=[a,s,Al(s)]}return t}function lr(e,t){var n=Kp(e,t);return Js(n)?n:i}function Fh(e){var t=Me.call(e,rr),n=e[rr];try{e[rr]=i;var a=!0}catch{}var s=Wa.call(e);return a&&(t?e[rr]=n:delete e[rr]),s}var To=no?function(e){return e==null?[]:(e=Le(e),Un(no(e),function(t){return Is.call(e,t)}))}:Ko,Ol=no?function(e){for(var t=[];e;)zn(t,To(e)),e=Xa(e);return t}:Ko,gt=yt;(ro&&gt(new ro(new ArrayBuffer(1)))!=wn||ea&&gt(new ea)!=vt||ao&&gt(ao.resolve())!=Jn||Or&&gt(new Or)!=Ge||ta&&gt(new ta)!=ut)&&(gt=function(e){var t=yt(e),n=t==kt?e.constructor:i,a=n?cr(n):"";if(a)switch(a){case bd:return wn;case wd:return vt;case kd:return Jn;case xd:return Ge;case Ed:return ut}return t});function Vh(e,t,n){for(var a=-1,s=n.length;++a<s;){var p=n[a],m=p.size;switch(p.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=ht(t,e+m);break;case"takeRight":e=nt(e,t-m);break}}return{start:e,end:t}}function Uh(e){var t=e.match(Ai);return t?t[1].split(wa):[]}function Tl(e,t,n){t=jn(t,e);for(var a=-1,s=t.length,p=!1;++a<s;){var m=mn(t[a]);if(!(p=e!=null&&n(e,m)))break;e=e[m]}return p||++a!=s?p:(s=e==null?0:e.length,!!s&&_i(s)&&Tn(m,s)&&(pe(e)||ur(e)))}function zh(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Bl(e){return typeof e.constructor=="function"&&!ua(e)?Br(Xa(e)):{}}function Wh(e,t,n){var a=e.constructor;switch(t){case Ot:return xo(e);case Vt:case Ut:return new a(+e);case wn:return Ch(e,n);case br:case wr:case zr:case Wr:case ve:case kr:case Qn:case qt:case Hr:return dl(e,n);case vt:return new a;case bn:case Z:return new a(e);case fn:return Sh(e);case Ge:return new a;case ue:return Dh(e)}}function Hh(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(n>1?"& ":"")+t[a],t=t.join(n>2?", ":" "),e.replace($n,`{
/* [wrapped with `+t+`] */
`)}function Gh(e){return pe(e)||ur(e)||!!(Ls&&e&&e[Ls])}function Tn(e,t){var n=typeof e;return t=t??ge,!!t&&(n=="number"||n!="symbol"&&er.test(e))&&e>-1&&e%1==0&&e<t}function bt(e,t,n){if(!We(n))return!1;var a=typeof t;return(a=="number"?Ct(n)&&Tn(t,n.length):a=="string"&&t in n)?rn(n[t],e):!1}function Bo(e,t){if(pe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||It(e)?!0:qe.test(e)||!Ti.test(e)||t!=null&&e in Le(t)}function Xh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ao(e){var t=ui(e),n=f[t];if(typeof n!="function"||!(t in Ee.prototype))return!1;if(e===n)return!0;var a=No(n);return!!a&&e===a[0]}function jh(e){return!!As&&As in e}var Yh=Ua?Bn:Zo;function ua(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Nr;return e===n}function Al(e){return e===e&&!We(e)}function Rl(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Le(n))}}function Kh(e){var t=mi(e,function(a){return n.size===V&&n.clear(),a}),n=t.cache;return t}function Zh(e,t){var n=e[1],a=t[1],s=n|a,p=s<(O|C|ie),m=a==ie&&n==te||a==ie&&n==ae&&e[7].length<=t[8]||a==(ie|ae)&&t[7].length<=t[8]&&n==te;if(!(p||m))return e;a&O&&(e[2]=t[2],s|=n&O?0:y);var b=t[3];if(b){var E=e[3];e[3]=E?gl(E,b,t[4]):b,e[4]=E?Wn(e[3],z):t[4]}return b=t[5],b&&(E=e[5],e[5]=E?ml(E,b,t[6]):b,e[6]=E?Wn(e[5],z):t[6]),b=t[7],b&&(e[7]=b),a&ie&&(e[8]=e[8]==null?t[8]:ht(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function Jh(e){var t=[];if(e!=null)for(var n in Le(e))t.push(n);return t}function Qh(e){return Wa.call(e)}function Ml(e,t,n){return t=nt(t===i?e.length-1:t,0),function(){for(var a=arguments,s=-1,p=nt(a.length-t,0),m=N(p);++s<p;)m[s]=a[t+s];s=-1;for(var b=N(t+1);++s<t;)b[s]=a[s];return b[t]=n(m),At(e,this,b)}}function Il(e,t){return t.length<2?e:sr(e,Zt(t,0,-1))}function qh(e,t){for(var n=e.length,a=ht(t.length,n),s=Et(e);a--;){var p=t[a];e[a]=Tn(p,n)?s[p]:i}return e}function Ro(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ll=Fl(il),fa=dd||function(e,t){return et.setTimeout(e,t)},Mo=Fl(wh);function Pl(e,t,n){var a=t+"";return Mo(e,Hh(a,$h(Uh(a),n)))}function Fl(e){var t=0,n=0;return function(){var a=vd(),s=Ye-(a-n);if(n=a,s>0){if(++t>=Oe)return arguments[0]}else t=0;return e.apply(i,arguments)}}function pi(e,t){var n=-1,a=e.length,s=a-1;for(t=t===i?a:t;++n<t;){var p=mo(n,s),m=e[p];e[p]=e[n],e[n]=m}return e.length=t,e}var Vl=Kh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zt,function(n,a,s,p){t.push(s?p.replace(xt,"$1"):a||n)}),t});function mn(e){if(typeof e=="string"||It(e))return e;var t=e+"";return t=="0"&&1/e==-Te?"-0":t}function cr(e){if(e!=null){try{return za.call(e)}catch{}try{return e+""}catch{}}return""}function $h(e,t){return Xt(_n,function(n){var a="_."+n[0];t&n[1]&&!La(e,a)&&e.push(a)}),e.sort()}function Ul(e){if(e instanceof Ee)return e.clone();var t=new Yt(e.__wrapped__,e.__chain__);return t.__actions__=Et(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function eg(e,t,n){(n?bt(e,t,n):t===i)?t=1:t=nt(me(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var s=0,p=0,m=N(Ka(a/t));s<a;)m[p++]=Zt(e,s,s+=t);return m}function tg(e){for(var t=-1,n=e==null?0:e.length,a=0,s=[];++t<n;){var p=e[t];p&&(s[a++]=p)}return s}function ng(){var e=arguments.length;if(!e)return[];for(var t=N(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return zn(pe(n)?Et(n):[n],st(t,1))}var rg=be(function(e,t){return Je(e)?ia(e,st(t,1,Je,!0)):[]}),ag=be(function(e,t){var n=Jt(t);return Je(n)&&(n=i),Je(e)?ia(e,st(t,1,Je,!0),se(n,2)):[]}),ig=be(function(e,t){var n=Jt(t);return Je(n)&&(n=i),Je(e)?ia(e,st(t,1,Je,!0),i,n):[]});function og(e,t,n){var a=e==null?0:e.length;return a?(t=n||t===i?1:me(t),Zt(e,t<0?0:t,a)):[]}function sg(e,t,n){var a=e==null?0:e.length;return a?(t=n||t===i?1:me(t),t=a-t,Zt(e,0,t<0?0:t)):[]}function lg(e,t){return e&&e.length?ai(e,se(t,3),!0,!0):[]}function cg(e,t){return e&&e.length?ai(e,se(t,3),!0):[]}function ug(e,t,n,a){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&bt(e,t,n)&&(n=0,a=s),nh(e,t,n,a)):[]}function zl(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:me(n);return s<0&&(s=nt(a+s,0)),Pa(e,se(t,3),s)}function Wl(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var s=a-1;return n!==i&&(s=me(n),s=n<0?nt(a+s,0):ht(s,a-1)),Pa(e,se(t,3),s,!0)}function Hl(e){var t=e==null?0:e.length;return t?st(e,1):[]}function fg(e){var t=e==null?0:e.length;return t?st(e,Te):[]}function pg(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:me(t),st(e,t)):[]}function dg(e){for(var t=-1,n=e==null?0:e.length,a={};++t<n;){var s=e[t];a[s[0]]=s[1]}return a}function Gl(e){return e&&e.length?e[0]:i}function hg(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:me(n);return s<0&&(s=nt(a+s,0)),Er(e,t,s)}function gg(e){var t=e==null?0:e.length;return t?Zt(e,0,-1):[]}var mg=be(function(e){var t=Ve(e,wo);return t.length&&t[0]===e[0]?uo(t):[]}),vg=be(function(e){var t=Jt(e),n=Ve(e,wo);return t===Jt(n)?t=i:n.pop(),n.length&&n[0]===e[0]?uo(n,se(t,2)):[]}),_g=be(function(e){var t=Jt(e),n=Ve(e,wo);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?uo(n,i,t):[]});function yg(e,t){return e==null?"":gd.call(e,t)}function Jt(e){var t=e==null?0:e.length;return t?e[t-1]:i}function bg(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var s=a;return n!==i&&(s=me(n),s=s<0?nt(a+s,0):ht(s,a-1)),t===t?$p(e,t,s):Pa(e,Es,s,!0)}function wg(e,t){return e&&e.length?tl(e,me(t)):i}var kg=be(Xl);function Xl(e,t){return e&&e.length&&t&&t.length?go(e,t):e}function xg(e,t,n){return e&&e.length&&t&&t.length?go(e,t,se(n,2)):e}function Eg(e,t,n){return e&&e.length&&t&&t.length?go(e,t,i,n):e}var Cg=On(function(e,t){var n=e==null?0:e.length,a=oo(e,t);return al(e,Ve(t,function(s){return Tn(s,n)?+s:s}).sort(hl)),a});function Sg(e,t){var n=[];if(!(e&&e.length))return n;var a=-1,s=[],p=e.length;for(t=se(t,3);++a<p;){var m=e[a];t(m,a,e)&&(n.push(m),s.push(a))}return al(e,s),n}function Io(e){return e==null?e:yd.call(e)}function Dg(e,t,n){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&bt(e,t,n)?(t=0,n=a):(t=t==null?0:me(t),n=n===i?a:me(n)),Zt(e,t,n)):[]}function Ng(e,t){return ri(e,t)}function Og(e,t,n){return _o(e,t,se(n,2))}function Tg(e,t){var n=e==null?0:e.length;if(n){var a=ri(e,t);if(a<n&&rn(e[a],t))return a}return-1}function Bg(e,t){return ri(e,t,!0)}function Ag(e,t,n){return _o(e,t,se(n,2),!0)}function Rg(e,t){var n=e==null?0:e.length;if(n){var a=ri(e,t,!0)-1;if(rn(e[a],t))return a}return-1}function Mg(e){return e&&e.length?ol(e):[]}function Ig(e,t){return e&&e.length?ol(e,se(t,2)):[]}function Lg(e){var t=e==null?0:e.length;return t?Zt(e,1,t):[]}function Pg(e,t,n){return e&&e.length?(t=n||t===i?1:me(t),Zt(e,0,t<0?0:t)):[]}function Fg(e,t,n){var a=e==null?0:e.length;return a?(t=n||t===i?1:me(t),t=a-t,Zt(e,t<0?0:t,a)):[]}function Vg(e,t){return e&&e.length?ai(e,se(t,3),!1,!0):[]}function Ug(e,t){return e&&e.length?ai(e,se(t,3)):[]}var zg=be(function(e){return Xn(st(e,1,Je,!0))}),Wg=be(function(e){var t=Jt(e);return Je(t)&&(t=i),Xn(st(e,1,Je,!0),se(t,2))}),Hg=be(function(e){var t=Jt(e);return t=typeof t=="function"?t:i,Xn(st(e,1,Je,!0),i,t)});function Gg(e){return e&&e.length?Xn(e):[]}function Xg(e,t){return e&&e.length?Xn(e,se(t,2)):[]}function jg(e,t){return t=typeof t=="function"?t:i,e&&e.length?Xn(e,i,t):[]}function Lo(e){if(!(e&&e.length))return[];var t=0;return e=Un(e,function(n){if(Je(n))return t=nt(n.length,t),!0}),qi(t,function(n){return Ve(e,Zi(n))})}function jl(e,t){if(!(e&&e.length))return[];var n=Lo(e);return t==null?n:Ve(n,function(a){return At(t,i,a)})}var Yg=be(function(e,t){return Je(e)?ia(e,t):[]}),Kg=be(function(e){return bo(Un(e,Je))}),Zg=be(function(e){var t=Jt(e);return Je(t)&&(t=i),bo(Un(e,Je),se(t,2))}),Jg=be(function(e){var t=Jt(e);return t=typeof t=="function"?t:i,bo(Un(e,Je),i,t)}),Qg=be(Lo);function qg(e,t){return ul(e||[],t||[],aa)}function $g(e,t){return ul(e||[],t||[],la)}var em=be(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,jl(e,n)});function Yl(e){var t=f(e);return t.__chain__=!0,t}function tm(e,t){return t(e),e}function di(e,t){return t(e)}var nm=On(function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,s=function(p){return oo(p,e)};return t>1||this.__actions__.length||!(a instanceof Ee)||!Tn(n)?this.thru(s):(a=a.slice(n,+n+(t?1:0)),a.__actions__.push({func:di,args:[s],thisArg:i}),new Yt(a,this.__chain__).thru(function(p){return t&&!p.length&&p.push(i),p}))});function rm(){return Yl(this)}function am(){return new Yt(this.value(),this.__chain__)}function im(){this.__values__===i&&(this.__values__=sc(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function om(){return this}function sm(e){for(var t,n=this;n instanceof qa;){var a=Ul(n);a.__index__=0,a.__values__=i,t?s.__wrapped__=a:t=a;var s=a;n=n.__wrapped__}return s.__wrapped__=e,t}function lm(){var e=this.__wrapped__;if(e instanceof Ee){var t=e;return this.__actions__.length&&(t=new Ee(this)),t=t.reverse(),t.__actions__.push({func:di,args:[Io],thisArg:i}),new Yt(t,this.__chain__)}return this.thru(Io)}function cm(){return cl(this.__wrapped__,this.__actions__)}var um=ii(function(e,t,n){Me.call(e,n)?++e[n]:Dn(e,n,1)});function fm(e,t,n){var a=pe(e)?ks:th;return n&&bt(e,t,n)&&(t=i),a(e,se(t,3))}function pm(e,t){var n=pe(e)?Un:js;return n(e,se(t,3))}var dm=bl(zl),hm=bl(Wl);function gm(e,t){return st(hi(e,t),1)}function mm(e,t){return st(hi(e,t),Te)}function vm(e,t,n){return n=n===i?1:me(n),st(hi(e,t),n)}function Kl(e,t){var n=pe(e)?Xt:Gn;return n(e,se(t,3))}function Zl(e,t){var n=pe(e)?Lp:Xs;return n(e,se(t,3))}var _m=ii(function(e,t,n){Me.call(e,n)?e[n].push(t):Dn(e,n,[t])});function ym(e,t,n,a){e=Ct(e)?e:Lr(e),n=n&&!a?me(n):0;var s=e.length;return n<0&&(n=nt(s+n,0)),yi(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&Er(e,t,n)>-1}var bm=be(function(e,t,n){var a=-1,s=typeof t=="function",p=Ct(e)?N(e.length):[];return Gn(e,function(m){p[++a]=s?At(t,m,n):oa(m,t,n)}),p}),wm=ii(function(e,t,n){Dn(e,n,t)});function hi(e,t){var n=pe(e)?Ve:qs;return n(e,se(t,3))}function km(e,t,n,a){return e==null?[]:(pe(t)||(t=t==null?[]:[t]),n=a?i:n,pe(n)||(n=n==null?[]:[n]),nl(e,t,n))}var xm=ii(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Em(e,t,n){var a=pe(e)?Yi:Ss,s=arguments.length<3;return a(e,se(t,4),n,s,Gn)}function Cm(e,t,n){var a=pe(e)?Pp:Ss,s=arguments.length<3;return a(e,se(t,4),n,s,Xs)}function Sm(e,t){var n=pe(e)?Un:js;return n(e,vi(se(t,3)))}function Dm(e){var t=pe(e)?zs:yh;return t(e)}function Nm(e,t,n){(n?bt(e,t,n):t===i)?t=1:t=me(t);var a=pe(e)?Jd:bh;return a(e,t)}function Om(e){var t=pe(e)?Qd:kh;return t(e)}function Tm(e){if(e==null)return 0;if(Ct(e))return yi(e)?Sr(e):e.length;var t=gt(e);return t==vt||t==Ge?e.size:po(e).length}function Bm(e,t,n){var a=pe(e)?Ki:xh;return n&&bt(e,t,n)&&(t=i),a(e,se(t,3))}var Am=be(function(e,t){if(e==null)return[];var n=t.length;return n>1&&bt(e,t[0],t[1])?t=[]:n>2&&bt(t[0],t[1],t[2])&&(t=[t[0]]),nl(e,st(t,1),[])}),gi=pd||function(){return et.Date.now()};function Rm(e,t){if(typeof t!="function")throw new jt(M);return e=me(e),function(){if(--e<1)return t.apply(this,arguments)}}function Jl(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,Nn(e,ie,i,i,i,i,t)}function Ql(e,t){var n;if(typeof t!="function")throw new jt(M);return e=me(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Po=be(function(e,t,n){var a=O;if(n.length){var s=Wn(n,Mr(Po));a|=q}return Nn(e,a,t,n,s)}),ql=be(function(e,t,n){var a=O|C;if(n.length){var s=Wn(n,Mr(ql));a|=q}return Nn(t,a,e,n,s)});function $l(e,t,n){t=n?i:t;var a=Nn(e,te,i,i,i,i,i,t);return a.placeholder=$l.placeholder,a}function ec(e,t,n){t=n?i:t;var a=Nn(e,Q,i,i,i,i,i,t);return a.placeholder=ec.placeholder,a}function tc(e,t,n){var a,s,p,m,b,E,L=0,F=!1,W=!1,J=!0;if(typeof e!="function")throw new jt(M);t=Qt(t)||0,We(n)&&(F=!!n.leading,W="maxWait"in n,p=W?nt(Qt(n.maxWait)||0,t):p,J="trailing"in n?!!n.trailing:J);function ne(Qe){var an=a,Rn=s;return a=s=i,L=Qe,m=e.apply(Rn,an),m}function le(Qe){return L=Qe,b=fa(xe,t),F?ne(Qe):m}function ye(Qe){var an=Qe-E,Rn=Qe-L,bc=t-an;return W?ht(bc,p-Rn):bc}function ce(Qe){var an=Qe-E,Rn=Qe-L;return E===i||an>=t||an<0||W&&Rn>=p}function xe(){var Qe=gi();if(ce(Qe))return Ce(Qe);b=fa(xe,ye(Qe))}function Ce(Qe){return b=i,J&&a?ne(Qe):(a=s=i,m)}function Lt(){b!==i&&fl(b),L=0,a=E=s=b=i}function wt(){return b===i?m:Ce(gi())}function Pt(){var Qe=gi(),an=ce(Qe);if(a=arguments,s=this,E=Qe,an){if(b===i)return le(E);if(W)return fl(b),b=fa(xe,t),ne(E)}return b===i&&(b=fa(xe,t)),m}return Pt.cancel=Lt,Pt.flush=wt,Pt}var Mm=be(function(e,t){return Gs(e,1,t)}),Im=be(function(e,t,n){return Gs(e,Qt(t)||0,n)});function Lm(e){return Nn(e,de)}function mi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new jt(M);var n=function(){var a=arguments,s=t?t.apply(this,a):a[0],p=n.cache;if(p.has(s))return p.get(s);var m=e.apply(this,a);return n.cache=p.set(s,m)||p,m};return n.cache=new(mi.Cache||Sn),n}mi.Cache=Sn;function vi(e){if(typeof e!="function")throw new jt(M);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Pm(e){return Ql(2,e)}var Fm=Eh(function(e,t){t=t.length==1&&pe(t[0])?Ve(t[0],Rt(se())):Ve(st(t,1),Rt(se()));var n=t.length;return be(function(a){for(var s=-1,p=ht(a.length,n);++s<p;)a[s]=t[s].call(this,a[s]);return At(e,this,a)})}),Fo=be(function(e,t){var n=Wn(t,Mr(Fo));return Nn(e,q,i,t,n)}),nc=be(function(e,t){var n=Wn(t,Mr(nc));return Nn(e,oe,i,t,n)}),Vm=On(function(e,t){return Nn(e,ae,i,i,i,t)});function Um(e,t){if(typeof e!="function")throw new jt(M);return t=t===i?t:me(t),be(e,t)}function zm(e,t){if(typeof e!="function")throw new jt(M);return t=t==null?0:nt(me(t),0),be(function(n){var a=n[t],s=Yn(n,0,t);return a&&zn(s,a),At(e,this,s)})}function Wm(e,t,n){var a=!0,s=!0;if(typeof e!="function")throw new jt(M);return We(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),tc(e,t,{leading:a,maxWait:t,trailing:s})}function Hm(e){return Jl(e,1)}function Gm(e,t){return Fo(ko(t),e)}function Xm(){if(!arguments.length)return[];var e=arguments[0];return pe(e)?e:[e]}function jm(e){return Kt(e,P)}function Ym(e,t){return t=typeof t=="function"?t:i,Kt(e,P,t)}function Km(e){return Kt(e,K|P)}function Zm(e,t){return t=typeof t=="function"?t:i,Kt(e,K|P,t)}function Jm(e,t){return t==null||Hs(e,t,at(t))}function rn(e,t){return e===t||e!==e&&t!==t}var Qm=ci(co),qm=ci(function(e,t){return e>=t}),ur=Zs(function(){return arguments}())?Zs:function(e){return je(e)&&Me.call(e,"callee")&&!Is.call(e,"callee")},pe=N.isArray,$m=ms?Rt(ms):sh;function Ct(e){return e!=null&&_i(e.length)&&!Bn(e)}function Je(e){return je(e)&&Ct(e)}function ev(e){return e===!0||e===!1||je(e)&&yt(e)==Vt}var Kn=hd||Zo,tv=vs?Rt(vs):lh;function nv(e){return je(e)&&e.nodeType===1&&!pa(e)}function rv(e){if(e==null)return!0;if(Ct(e)&&(pe(e)||typeof e=="string"||typeof e.splice=="function"||Kn(e)||Ir(e)||ur(e)))return!e.length;var t=gt(e);if(t==vt||t==Ge)return!e.size;if(ua(e))return!po(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0}function av(e,t){return sa(e,t)}function iv(e,t,n){n=typeof n=="function"?n:i;var a=n?n(e,t):i;return a===i?sa(e,t,i,n):!!a}function Vo(e){if(!je(e))return!1;var t=yt(e);return t==cn||t==ln||typeof e.message=="string"&&typeof e.name=="string"&&!pa(e)}function ov(e){return typeof e=="number"&&Ps(e)}function Bn(e){if(!We(e))return!1;var t=yt(e);return t==un||t==ct||t==vr||t==yr}function rc(e){return typeof e=="number"&&e==me(e)}function _i(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ge}function We(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function je(e){return e!=null&&typeof e=="object"}var ac=_s?Rt(_s):uh;function sv(e,t){return e===t||fo(e,t,Oo(t))}function lv(e,t,n){return n=typeof n=="function"?n:i,fo(e,t,Oo(t),n)}function cv(e){return ic(e)&&e!=+e}function uv(e){if(Yh(e))throw new fe(H);return Js(e)}function fv(e){return e===null}function pv(e){return e==null}function ic(e){return typeof e=="number"||je(e)&&yt(e)==bn}function pa(e){if(!je(e)||yt(e)!=kt)return!1;var t=Xa(e);if(t===null)return!0;var n=Me.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&za.call(n)==ld}var Uo=ys?Rt(ys):fh;function dv(e){return rc(e)&&e>=-ge&&e<=ge}var oc=bs?Rt(bs):ph;function yi(e){return typeof e=="string"||!pe(e)&&je(e)&&yt(e)==Z}function It(e){return typeof e=="symbol"||je(e)&&yt(e)==ue}var Ir=ws?Rt(ws):dh;function hv(e){return e===i}function gv(e){return je(e)&&gt(e)==ut}function mv(e){return je(e)&&yt(e)==ft}var vv=ci(ho),_v=ci(function(e,t){return e<=t});function sc(e){if(!e)return[];if(Ct(e))return yi(e)?tn(e):Et(e);if($r&&e[$r])return Jp(e[$r]());var t=gt(e),n=t==vt?eo:t==Ge?Fa:Lr;return n(e)}function An(e){if(!e)return e===0?e:0;if(e=Qt(e),e===Te||e===-Te){var t=e<0?-1:1;return t*on}return e===e?e:0}function me(e){var t=An(e),n=t%1;return t===t?n?t-n:t:0}function lc(e){return e?or(me(e),0,rt):0}function Qt(e){if(typeof e=="number")return e;if(It(e))return vn;if(We(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=We(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ds(e);var n=Ri.test(e);return n||Ea.test(e)?Ia(e.slice(2),n?2:8):Yr.test(e)?vn:+e}function cc(e){return gn(e,St(e))}function yv(e){return e?or(me(e),-ge,ge):e===0?e:0}function Re(e){return e==null?"":Mt(e)}var bv=Ar(function(e,t){if(ua(t)||Ct(t)){gn(t,at(t),e);return}for(var n in t)Me.call(t,n)&&aa(e,n,t[n])}),uc=Ar(function(e,t){gn(t,St(t),e)}),bi=Ar(function(e,t,n,a){gn(t,St(t),e,a)}),wv=Ar(function(e,t,n,a){gn(t,at(t),e,a)}),kv=On(oo);function xv(e,t){var n=Br(e);return t==null?n:Ws(n,t)}var Ev=be(function(e,t){e=Le(e);var n=-1,a=t.length,s=a>2?t[2]:i;for(s&&bt(t[0],t[1],s)&&(a=1);++n<a;)for(var p=t[n],m=St(p),b=-1,E=m.length;++b<E;){var L=m[b],F=e[L];(F===i||rn(F,Nr[L])&&!Me.call(e,L))&&(e[L]=p[L])}return e}),Cv=be(function(e){return e.push(i,Dl),At(fc,i,e)});function Sv(e,t){return xs(e,se(t,3),hn)}function Dv(e,t){return xs(e,se(t,3),lo)}function Nv(e,t){return e==null?e:so(e,se(t,3),St)}function Ov(e,t){return e==null?e:Ys(e,se(t,3),St)}function Tv(e,t){return e&&hn(e,se(t,3))}function Bv(e,t){return e&&lo(e,se(t,3))}function Av(e){return e==null?[]:ti(e,at(e))}function Rv(e){return e==null?[]:ti(e,St(e))}function zo(e,t,n){var a=e==null?i:sr(e,t);return a===i?n:a}function Mv(e,t){return e!=null&&Tl(e,t,rh)}function Wo(e,t){return e!=null&&Tl(e,t,ah)}var Iv=kl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Wa.call(t)),e[t]=n},Go(Dt)),Lv=kl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Wa.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]},se),Pv=be(oa);function at(e){return Ct(e)?Us(e):po(e)}function St(e){return Ct(e)?Us(e,!0):hh(e)}function Fv(e,t){var n={};return t=se(t,3),hn(e,function(a,s,p){Dn(n,t(a,s,p),a)}),n}function Vv(e,t){var n={};return t=se(t,3),hn(e,function(a,s,p){Dn(n,s,t(a,s,p))}),n}var Uv=Ar(function(e,t,n){ni(e,t,n)}),fc=Ar(function(e,t,n,a){ni(e,t,n,a)}),zv=On(function(e,t){var n={};if(e==null)return n;var a=!1;t=Ve(t,function(p){return p=jn(p,e),a||(a=p.length>1),p}),gn(e,Do(e),n),a&&(n=Kt(n,K|re|P,Ih));for(var s=t.length;s--;)yo(n,t[s]);return n});function Wv(e,t){return pc(e,vi(se(t)))}var Hv=On(function(e,t){return e==null?{}:mh(e,t)});function pc(e,t){if(e==null)return{};var n=Ve(Do(e),function(a){return[a]});return t=se(t),rl(e,n,function(a,s){return t(a,s[0])})}function Gv(e,t,n){t=jn(t,e);var a=-1,s=t.length;for(s||(s=1,e=i);++a<s;){var p=e==null?i:e[mn(t[a])];p===i&&(a=s,p=n),e=Bn(p)?p.call(e):p}return e}function Xv(e,t,n){return e==null?e:la(e,t,n)}function jv(e,t,n,a){return a=typeof a=="function"?a:i,e==null?e:la(e,t,n,a)}var dc=Cl(at),hc=Cl(St);function Yv(e,t,n){var a=pe(e),s=a||Kn(e)||Ir(e);if(t=se(t,4),n==null){var p=e&&e.constructor;s?n=a?new p:[]:We(e)?n=Bn(p)?Br(Xa(e)):{}:n={}}return(s?Xt:hn)(e,function(m,b,E){return t(n,m,b,E)}),n}function Kv(e,t){return e==null?!0:yo(e,t)}function Zv(e,t,n){return e==null?e:ll(e,t,ko(n))}function Jv(e,t,n,a){return a=typeof a=="function"?a:i,e==null?e:ll(e,t,ko(n),a)}function Lr(e){return e==null?[]:$i(e,at(e))}function Qv(e){return e==null?[]:$i(e,St(e))}function qv(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Qt(n),n=n===n?n:0),t!==i&&(t=Qt(t),t=t===t?t:0),or(Qt(e),t,n)}function $v(e,t,n){return t=An(t),n===i?(n=t,t=0):n=An(n),e=Qt(e),ih(e,t,n)}function e_(e,t,n){if(n&&typeof n!="boolean"&&bt(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=An(e),t===i?(t=e,e=0):t=An(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var s=Fs();return ht(e+s*(t-e+Ma("1e-"+((s+"").length-1))),t)}return mo(e,t)}var t_=Rr(function(e,t,n){return t=t.toLowerCase(),e+(n?gc(t):t)});function gc(e){return Ho(Re(e).toLowerCase())}function mc(e){return e=Re(e),e&&e.replace(Mi,Xp).replace(Ze,"")}function n_(e,t,n){e=Re(e),t=Mt(t);var a=e.length;n=n===i?a:or(me(n),0,a);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function r_(e){return e=Re(e),e&&Ni.test(e)?e.replace(ze,jp):e}function a_(e){return e=Re(e),e&&Bi.test(e)?e.replace(pn,"\\$&"):e}var i_=Rr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),o_=Rr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),s_=yl("toLowerCase");function l_(e,t,n){e=Re(e),t=me(t);var a=t?Sr(e):0;if(!t||a>=t)return e;var s=(t-a)/2;return li(Za(s),n)+e+li(Ka(s),n)}function c_(e,t,n){e=Re(e),t=me(t);var a=t?Sr(e):0;return t&&a<t?e+li(t-a,n):e}function u_(e,t,n){e=Re(e),t=me(t);var a=t?Sr(e):0;return t&&a<t?li(t-a,n)+e:e}function f_(e,t,n){return n||t==null?t=0:t&&(t=+t),_d(Re(e).replace(qn,""),t||0)}function p_(e,t,n){return(n?bt(e,t,n):t===i)?t=1:t=me(t),vo(Re(e),t)}function d_(){var e=arguments,t=Re(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var h_=Rr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function g_(e,t,n){return n&&typeof n!="number"&&bt(e,t,n)&&(t=n=i),n=n===i?rt:n>>>0,n?(e=Re(e),e&&(typeof t=="string"||t!=null&&!Uo(t))&&(t=Mt(t),!t&&Cr(e))?Yn(tn(e),0,n):e.split(t,n)):[]}var m_=Rr(function(e,t,n){return e+(n?" ":"")+Ho(t)});function v_(e,t,n){return e=Re(e),n=n==null?0:or(me(n),0,e.length),t=Mt(t),e.slice(n,n+t.length)==t}function __(e,t,n){var a=f.templateSettings;n&&bt(e,t,n)&&(t=i),e=Re(e),t=bi({},t,a,Sl);var s=bi({},t.imports,a.imports,Sl),p=at(s),m=$i(s,p),b,E,L=0,F=t.interpolate||kn,W="__p += '",J=to((t.escape||kn).source+"|"+F.source+"|"+(F===$t?Vn:kn).source+"|"+(t.evaluate||kn).source+"|$","g"),ne="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ht+"]")+`
`;e.replace(J,function(ce,xe,Ce,Lt,wt,Pt){return Ce||(Ce=Lt),W+=e.slice(L,Pt).replace(Ii,Yp),xe&&(b=!0,W+=`' +
__e(`+xe+`) +
'`),wt&&(E=!0,W+=`';
`+wt+`;
__p += '`),Ce&&(W+=`' +
((__t = (`+Ce+`)) == null ? '' : __t) +
'`),L=Pt+ce.length,ce}),W+=`';
`;var le=Me.call(t,"variable")&&t.variable;if(!le)W=`with (obj) {
`+W+`
}
`;else if(Tt.test(le))throw new fe(I);W=(E?W.replace(Pn,""):W).replace(pt,"$1").replace(Di,"$1;"),W="function("+(le||"obj")+`) {
`+(le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var ye=_c(function(){return Ae(p,ne+"return "+W).apply(i,m)});if(ye.source=W,Vo(ye))throw ye;return ye}function y_(e){return Re(e).toLowerCase()}function b_(e){return Re(e).toUpperCase()}function w_(e,t,n){if(e=Re(e),e&&(n||t===i))return Ds(e);if(!e||!(t=Mt(t)))return e;var a=tn(e),s=tn(t),p=Ns(a,s),m=Os(a,s)+1;return Yn(a,p,m).join("")}function k_(e,t,n){if(e=Re(e),e&&(n||t===i))return e.slice(0,Bs(e)+1);if(!e||!(t=Mt(t)))return e;var a=tn(e),s=Os(a,tn(t))+1;return Yn(a,0,s).join("")}function x_(e,t,n){if(e=Re(e),e&&(n||t===i))return e.replace(qn,"");if(!e||!(t=Mt(t)))return e;var a=tn(e),s=Ns(a,tn(t));return Yn(a,s).join("")}function E_(e,t){var n=ee,a=he;if(We(t)){var s="separator"in t?t.separator:s;n="length"in t?me(t.length):n,a="omission"in t?Mt(t.omission):a}e=Re(e);var p=e.length;if(Cr(e)){var m=tn(e);p=m.length}if(n>=p)return e;var b=n-Sr(a);if(b<1)return a;var E=m?Yn(m,0,b).join(""):e.slice(0,b);if(s===i)return E+a;if(m&&(b+=E.length-b),Uo(s)){if(e.slice(b).search(s)){var L,F=E;for(s.global||(s=to(s.source,Re(jr.exec(s))+"g")),s.lastIndex=0;L=s.exec(F);)var W=L.index;E=E.slice(0,W===i?b:W)}}else if(e.indexOf(Mt(s),b)!=b){var J=E.lastIndexOf(s);J>-1&&(E=E.slice(0,J))}return E+a}function C_(e){return e=Re(e),e&&Pe.test(e)?e.replace(Gr,ed):e}var S_=Rr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ho=yl("toUpperCase");function vc(e,t,n){return e=Re(e),t=n?i:t,t===i?Zp(e)?rd(e):Up(e):e.match(t)||[]}var _c=be(function(e,t){try{return At(e,i,t)}catch(n){return Vo(n)?n:new fe(n)}}),D_=On(function(e,t){return Xt(t,function(n){n=mn(n),Dn(e,n,Po(e[n],e))}),e});function N_(e){var t=e==null?0:e.length,n=se();return e=t?Ve(e,function(a){if(typeof a[1]!="function")throw new jt(M);return[n(a[0]),a[1]]}):[],be(function(a){for(var s=-1;++s<t;){var p=e[s];if(At(p[0],this,a))return At(p[1],this,a)}})}function O_(e){return eh(Kt(e,K))}function Go(e){return function(){return e}}function T_(e,t){return e==null||e!==e?t:e}var B_=wl(),A_=wl(!0);function Dt(e){return e}function Xo(e){return Qs(typeof e=="function"?e:Kt(e,K))}function R_(e){return $s(Kt(e,K))}function M_(e,t){return el(e,Kt(t,K))}var I_=be(function(e,t){return function(n){return oa(n,e,t)}}),L_=be(function(e,t){return function(n){return oa(e,n,t)}});function jo(e,t,n){var a=at(t),s=ti(t,a);n==null&&!(We(t)&&(s.length||!a.length))&&(n=t,t=e,e=this,s=ti(t,at(t)));var p=!(We(n)&&"chain"in n)||!!n.chain,m=Bn(e);return Xt(s,function(b){var E=t[b];e[b]=E,m&&(e.prototype[b]=function(){var L=this.__chain__;if(p||L){var F=e(this.__wrapped__),W=F.__actions__=Et(this.__actions__);return W.push({func:E,args:arguments,thisArg:e}),F.__chain__=L,F}return E.apply(e,zn([this.value()],arguments))})}),e}function P_(){return et._===this&&(et._=cd),this}function Yo(){}function F_(e){return e=me(e),be(function(t){return tl(t,e)})}var V_=Eo(Ve),U_=Eo(ks),z_=Eo(Ki);function yc(e){return Bo(e)?Zi(mn(e)):vh(e)}function W_(e){return function(t){return e==null?i:sr(e,t)}}var H_=xl(),G_=xl(!0);function Ko(){return[]}function Zo(){return!1}function X_(){return{}}function j_(){return""}function Y_(){return!0}function K_(e,t){if(e=me(e),e<1||e>ge)return[];var n=rt,a=ht(e,rt);t=se(t),e-=rt;for(var s=qi(a,t);++n<e;)t(n);return s}function Z_(e){return pe(e)?Ve(e,mn):It(e)?[e]:Et(Vl(Re(e)))}function J_(e){var t=++sd;return Re(e)+t}var Q_=si(function(e,t){return e+t},0),q_=Co("ceil"),$_=si(function(e,t){return e/t},1),ey=Co("floor");function ty(e){return e&&e.length?ei(e,Dt,co):i}function ny(e,t){return e&&e.length?ei(e,se(t,2),co):i}function ry(e){return Cs(e,Dt)}function ay(e,t){return Cs(e,se(t,2))}function iy(e){return e&&e.length?ei(e,Dt,ho):i}function oy(e,t){return e&&e.length?ei(e,se(t,2),ho):i}var sy=si(function(e,t){return e*t},1),ly=Co("round"),cy=si(function(e,t){return e-t},0);function uy(e){return e&&e.length?Qi(e,Dt):0}function fy(e,t){return e&&e.length?Qi(e,se(t,2)):0}return f.after=Rm,f.ary=Jl,f.assign=bv,f.assignIn=uc,f.assignInWith=bi,f.assignWith=wv,f.at=kv,f.before=Ql,f.bind=Po,f.bindAll=D_,f.bindKey=ql,f.castArray=Xm,f.chain=Yl,f.chunk=eg,f.compact=tg,f.concat=ng,f.cond=N_,f.conforms=O_,f.constant=Go,f.countBy=um,f.create=xv,f.curry=$l,f.curryRight=ec,f.debounce=tc,f.defaults=Ev,f.defaultsDeep=Cv,f.defer=Mm,f.delay=Im,f.difference=rg,f.differenceBy=ag,f.differenceWith=ig,f.drop=og,f.dropRight=sg,f.dropRightWhile=lg,f.dropWhile=cg,f.fill=ug,f.filter=pm,f.flatMap=gm,f.flatMapDeep=mm,f.flatMapDepth=vm,f.flatten=Hl,f.flattenDeep=fg,f.flattenDepth=pg,f.flip=Lm,f.flow=B_,f.flowRight=A_,f.fromPairs=dg,f.functions=Av,f.functionsIn=Rv,f.groupBy=_m,f.initial=gg,f.intersection=mg,f.intersectionBy=vg,f.intersectionWith=_g,f.invert=Iv,f.invertBy=Lv,f.invokeMap=bm,f.iteratee=Xo,f.keyBy=wm,f.keys=at,f.keysIn=St,f.map=hi,f.mapKeys=Fv,f.mapValues=Vv,f.matches=R_,f.matchesProperty=M_,f.memoize=mi,f.merge=Uv,f.mergeWith=fc,f.method=I_,f.methodOf=L_,f.mixin=jo,f.negate=vi,f.nthArg=F_,f.omit=zv,f.omitBy=Wv,f.once=Pm,f.orderBy=km,f.over=V_,f.overArgs=Fm,f.overEvery=U_,f.overSome=z_,f.partial=Fo,f.partialRight=nc,f.partition=xm,f.pick=Hv,f.pickBy=pc,f.property=yc,f.propertyOf=W_,f.pull=kg,f.pullAll=Xl,f.pullAllBy=xg,f.pullAllWith=Eg,f.pullAt=Cg,f.range=H_,f.rangeRight=G_,f.rearg=Vm,f.reject=Sm,f.remove=Sg,f.rest=Um,f.reverse=Io,f.sampleSize=Nm,f.set=Xv,f.setWith=jv,f.shuffle=Om,f.slice=Dg,f.sortBy=Am,f.sortedUniq=Mg,f.sortedUniqBy=Ig,f.split=g_,f.spread=zm,f.tail=Lg,f.take=Pg,f.takeRight=Fg,f.takeRightWhile=Vg,f.takeWhile=Ug,f.tap=tm,f.throttle=Wm,f.thru=di,f.toArray=sc,f.toPairs=dc,f.toPairsIn=hc,f.toPath=Z_,f.toPlainObject=cc,f.transform=Yv,f.unary=Hm,f.union=zg,f.unionBy=Wg,f.unionWith=Hg,f.uniq=Gg,f.uniqBy=Xg,f.uniqWith=jg,f.unset=Kv,f.unzip=Lo,f.unzipWith=jl,f.update=Zv,f.updateWith=Jv,f.values=Lr,f.valuesIn=Qv,f.without=Yg,f.words=vc,f.wrap=Gm,f.xor=Kg,f.xorBy=Zg,f.xorWith=Jg,f.zip=Qg,f.zipObject=qg,f.zipObjectDeep=$g,f.zipWith=em,f.entries=dc,f.entriesIn=hc,f.extend=uc,f.extendWith=bi,jo(f,f),f.add=Q_,f.attempt=_c,f.camelCase=t_,f.capitalize=gc,f.ceil=q_,f.clamp=qv,f.clone=jm,f.cloneDeep=Km,f.cloneDeepWith=Zm,f.cloneWith=Ym,f.conformsTo=Jm,f.deburr=mc,f.defaultTo=T_,f.divide=$_,f.endsWith=n_,f.eq=rn,f.escape=r_,f.escapeRegExp=a_,f.every=fm,f.find=dm,f.findIndex=zl,f.findKey=Sv,f.findLast=hm,f.findLastIndex=Wl,f.findLastKey=Dv,f.floor=ey,f.forEach=Kl,f.forEachRight=Zl,f.forIn=Nv,f.forInRight=Ov,f.forOwn=Tv,f.forOwnRight=Bv,f.get=zo,f.gt=Qm,f.gte=qm,f.has=Mv,f.hasIn=Wo,f.head=Gl,f.identity=Dt,f.includes=ym,f.indexOf=hg,f.inRange=$v,f.invoke=Pv,f.isArguments=ur,f.isArray=pe,f.isArrayBuffer=$m,f.isArrayLike=Ct,f.isArrayLikeObject=Je,f.isBoolean=ev,f.isBuffer=Kn,f.isDate=tv,f.isElement=nv,f.isEmpty=rv,f.isEqual=av,f.isEqualWith=iv,f.isError=Vo,f.isFinite=ov,f.isFunction=Bn,f.isInteger=rc,f.isLength=_i,f.isMap=ac,f.isMatch=sv,f.isMatchWith=lv,f.isNaN=cv,f.isNative=uv,f.isNil=pv,f.isNull=fv,f.isNumber=ic,f.isObject=We,f.isObjectLike=je,f.isPlainObject=pa,f.isRegExp=Uo,f.isSafeInteger=dv,f.isSet=oc,f.isString=yi,f.isSymbol=It,f.isTypedArray=Ir,f.isUndefined=hv,f.isWeakMap=gv,f.isWeakSet=mv,f.join=yg,f.kebabCase=i_,f.last=Jt,f.lastIndexOf=bg,f.lowerCase=o_,f.lowerFirst=s_,f.lt=vv,f.lte=_v,f.max=ty,f.maxBy=ny,f.mean=ry,f.meanBy=ay,f.min=iy,f.minBy=oy,f.stubArray=Ko,f.stubFalse=Zo,f.stubObject=X_,f.stubString=j_,f.stubTrue=Y_,f.multiply=sy,f.nth=wg,f.noConflict=P_,f.noop=Yo,f.now=gi,f.pad=l_,f.padEnd=c_,f.padStart=u_,f.parseInt=f_,f.random=e_,f.reduce=Em,f.reduceRight=Cm,f.repeat=p_,f.replace=d_,f.result=Gv,f.round=ly,f.runInContext=x,f.sample=Dm,f.size=Tm,f.snakeCase=h_,f.some=Bm,f.sortedIndex=Ng,f.sortedIndexBy=Og,f.sortedIndexOf=Tg,f.sortedLastIndex=Bg,f.sortedLastIndexBy=Ag,f.sortedLastIndexOf=Rg,f.startCase=m_,f.startsWith=v_,f.subtract=cy,f.sum=uy,f.sumBy=fy,f.template=__,f.times=K_,f.toFinite=An,f.toInteger=me,f.toLength=lc,f.toLower=y_,f.toNumber=Qt,f.toSafeInteger=yv,f.toString=Re,f.toUpper=b_,f.trim=w_,f.trimEnd=k_,f.trimStart=x_,f.truncate=E_,f.unescape=C_,f.uniqueId=J_,f.upperCase=S_,f.upperFirst=Ho,f.each=Kl,f.eachRight=Zl,f.first=Gl,jo(f,function(){var e={};return hn(f,function(t,n){Me.call(f.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),f.VERSION=d,Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),Xt(["drop","take"],function(e,t){Ee.prototype[e]=function(n){n=n===i?1:nt(me(n),0);var a=this.__filtered__&&!t?new Ee(this):this.clone();return a.__filtered__?a.__takeCount__=ht(n,a.__takeCount__):a.__views__.push({size:ht(n,rt),type:e+(a.__dir__<0?"Right":"")}),a},Ee.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Xt(["filter","map","takeWhile"],function(e,t){var n=t+1,a=n==Ue||n==Ft;Ee.prototype[e]=function(s){var p=this.clone();return p.__iteratees__.push({iteratee:se(s,3),type:n}),p.__filtered__=p.__filtered__||a,p}}),Xt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Ee.prototype[e]=function(){return this[n](1).value()[0]}}),Xt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Ee.prototype[e]=function(){return this.__filtered__?new Ee(this):this[n](1)}}),Ee.prototype.compact=function(){return this.filter(Dt)},Ee.prototype.find=function(e){return this.filter(e).head()},Ee.prototype.findLast=function(e){return this.reverse().find(e)},Ee.prototype.invokeMap=be(function(e,t){return typeof e=="function"?new Ee(this):this.map(function(n){return oa(n,e,t)})}),Ee.prototype.reject=function(e){return this.filter(vi(se(e)))},Ee.prototype.slice=function(e,t){e=me(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ee(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=me(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ee.prototype.toArray=function(){return this.take(rt)},hn(Ee.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),s=f[a?"take"+(t=="last"?"Right":""):t],p=a||/^find/.test(t);s&&(f.prototype[t]=function(){var m=this.__wrapped__,b=a?[1]:arguments,E=m instanceof Ee,L=b[0],F=E||pe(m),W=function(xe){var Ce=s.apply(f,zn([xe],b));return a&&J?Ce[0]:Ce};F&&n&&typeof L=="function"&&L.length!=1&&(E=F=!1);var J=this.__chain__,ne=!!this.__actions__.length,le=p&&!J,ye=E&&!ne;if(!p&&F){m=ye?m:new Ee(this);var ce=e.apply(m,b);return ce.__actions__.push({func:di,args:[W],thisArg:i}),new Yt(ce,J)}return le&&ye?e.apply(this,b):(ce=this.thru(W),le?a?ce.value()[0]:ce.value():ce)})}),Xt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Va[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var s=arguments;if(a&&!this.__chain__){var p=this.value();return t.apply(pe(p)?p:[],s)}return this[n](function(m){return t.apply(pe(m)?m:[],s)})}}),hn(Ee.prototype,function(e,t){var n=f[t];if(n){var a=n.name+"";Me.call(Tr,a)||(Tr[a]=[]),Tr[a].push({name:t,func:n})}}),Tr[oi(i,C).name]=[{name:"wrapper",func:i}],Ee.prototype.clone=Cd,Ee.prototype.reverse=Sd,Ee.prototype.value=Dd,f.prototype.at=nm,f.prototype.chain=rm,f.prototype.commit=am,f.prototype.next=im,f.prototype.plant=sm,f.prototype.reverse=lm,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=cm,f.prototype.first=f.prototype.head,$r&&(f.prototype[$r]=om),f},Dr=ad();nr?((nr.exports=Dr)._=Dr,Gi._=Dr):et._=Dr}).call(pr)}(ha,ha.exports);var dr=ha.exports;const Dc=ns(dr),Nc={class:"relative flex"},Oc=["value"],Tc=["value"],Bc=r.createElementVNode("svg",{class:"shrink-0 text-gray-700 pointer-events-none absolute right-[11px] top-[15px]",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",viewBox:"0 0 10 6"},[r.createElementVNode("path",{class:"fill-current shrink-0 text-gray-700 pointer-events-none absolute right-[11px] top-[15px]",d:"M8.292893.292893c.390525-.390524 1.023689-.390524 1.414214 0 .390524.390525.390524 1.023689 0 1.414214l-4 4c-.390525.390524-1.023689.390524-1.414214 0l-4-4c-.390524-.390525-.390524-1.023689 0-1.414214.390525-.390524 1.023689-.390524 1.414214 0L5 3.585786 8.292893.292893z"})],-1),ga=r.defineComponent({__name:"SelectControl",props:{value:{},options:{}},emits:["change"],setup(l,{emit:v}){return(i,d)=>(r.openBlock(),r.createElementBlock("div",Nc,[r.createElementVNode("select",{class:"appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-800 h-10 pl-3 pr-6 rounded-lg flex-grow",value:i.value,onChange:d[0]||(d[0]=S=>v("change",S.target.value))},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(i.options,S=>(r.openBlock(),r.createElementBlock("option",{key:S.value,value:S.value},r.toDisplayString(S.label),9,Tc))),128))],40,Oc),Bc]))}}),xi=(l,v)=>{const i=l.__vccOpts||l;for(const[d,S]of v)i[d]=S;return i},Ac={props:{type:{type:String,required:!1},active:{type:Boolean,default:!1}}};function Rc(l,v,i,d,S,H){const M=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("button",{type:"button",class:r.normalizeClass(["rounded-lg cursor-pointer border h-9 min-w-9 px-2 flex items-center justify-center focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 dark:bg-gray-900",{"border-gray-200 dark:border-gray-700":!i.active,"border-primary-500 text-primary-500":i.active}])},[r.renderSlot(l.$slots,"default"),i.type?(r.openBlock(),r.createBlock(M,{key:0,type:i.type,width:"16",height:"16"},null,8,["type"])):r.createCommentVNode("",!0)],2)}const mt=xi(Ac,[["render",Rc]]);let ma;const Mc=new Uint8Array(16);function Ic(){if(!ma&&(ma=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ma))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ma(Mc)}const it=[];for(let l=0;l<256;++l)it.push((l+256).toString(16).slice(1));function Lc(l,v=0){return(it[l[v+0]]+it[l[v+1]]+it[l[v+2]]+it[l[v+3]]+"-"+it[l[v+4]]+it[l[v+5]]+"-"+it[l[v+6]]+it[l[v+7]]+"-"+it[l[v+8]]+it[l[v+9]]+"-"+it[l[v+10]]+it[l[v+11]]+it[l[v+12]]+it[l[v+13]]+it[l[v+14]]+it[l[v+15]]).toLowerCase()}const rs={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Pc(l,v,i){if(rs.randomUUID&&!v&&!l)return rs.randomUUID();l=l||{};const d=l.random||(l.rng||Ic)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,v){i=i||0;for(let S=0;S<16;++S)v[i+S]=d[S];return v}return Lc(d)}var as={exports:{}};(function(l){(function(){var v=function(i){if(!(this instanceof v))return new v(i);if(this.version=1,this.support=typeof File<"u"&&typeof Blob<"u"&&typeof FileList<"u"&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var d=this;d.files=[],d.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(g,D){var O=d.getOpt("maxFiles");alert("Please upload no more than "+O+" file"+(O===1?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(g,D){alert(g.fileName||g.name+" is too small, please upload files larger than "+S.formatSize(d.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(g,D){alert(g.fileName||g.name+" is too large, please upload files less than "+S.formatSize(d.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(g,D){alert(g.fileName||g.name+" has type not allowed, please upload files of type "+d.getOpt("fileType")+".")}},d.opts=i||{},d.getOpt=function(g){var D=this;if(g instanceof Array){var O={};return S.each(g,function(C){O[C]=D.getOpt(C)}),O}if(D instanceof P){if(typeof D.opts[g]<"u")return D.opts[g];D=D.fileObj}if(D instanceof re){if(typeof D.opts[g]<"u")return D.opts[g];D=D.resumableObj}if(D instanceof v)return typeof D.opts[g]<"u"?D.opts[g]:D.defaults[g]},d.events=[],d.on=function(g,D){d.events.push(g.toLowerCase(),D)},d.fire=function(){for(var g=[],D=0;D<arguments.length;D++)g.push(arguments[D]);for(var O=g[0].toLowerCase(),D=0;D<=d.events.length;D+=2)d.events[D]==O&&d.events[D+1].apply(d,g.slice(1)),d.events[D]=="catchall"&&d.events[D+1].apply(null,g);O=="fileerror"&&d.fire("error",g[2],g[1]),O=="fileprogress"&&d.fire("progress")};var S={stopEvent:function(g){g.stopPropagation(),g.preventDefault()},each:function(g,D){if(typeof g.length<"u"){for(var O=0;O<g.length;O++)if(D(g[O])===!1)return}else for(O in g)if(D(O,g[O])===!1)return},generateUniqueIdentifier:function(g,D){var O=d.getOpt("generateUniqueIdentifier");if(typeof O=="function")return O(g,D);var C=g.webkitRelativePath||g.fileName||g.name,y=g.size;return y+"-"+C.replace(/[^0-9a-zA-Z_-]/img,"")},contains:function(g,D){var O=!1;return S.each(g,function(C){return C==D?(O=!0,!1):!0}),O},formatSize:function(g){return g<1024?g+" bytes":g<1024*1024?(g/1024).toFixed(0)+" KB":g<1024*1024*1024?(g/1024/1024).toFixed(1)+" MB":(g/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(g,D){var O=d.getOpt("target");if(g==="test"&&d.getOpt("testTarget")&&(O=d.getOpt("testTarget")==="/"?d.getOpt("target"):d.getOpt("testTarget")),typeof O=="function")return O(D);var C=O.indexOf("?")<0?"?":"&",y=D.join("&");return O+C+y}},H=function(g){S.stopEvent(g),g.dataTransfer&&g.dataTransfer.items?z(g.dataTransfer.items,g):g.dataTransfer&&g.dataTransfer.files&&z(g.dataTransfer.files,g)},M=function(g){g.preventDefault()};function I(g,D,O,C){var y;if(g.isFile)return g.file(function(te){te.relativePath=D+te.name,O.push(te),C()});if(g.isDirectory?y=g:g instanceof File&&O.push(g),typeof g.webkitGetAsEntry=="function"&&(y=g.webkitGetAsEntry()),y&&y.isDirectory)return V(y,D+y.name+"/",O,C);typeof g.getAsFile=="function"&&(g=g.getAsFile(),g instanceof File&&(g.relativePath=D+g.name,O.push(g))),C()}function Y(g,D){if(!g||g.length===0)return D();g[0](function(){Y(g.slice(1),D)})}function V(g,D,O,C){var y=g.createReader();y.readEntries(function(te){if(!te.length)return C();Y(te.map(function(Q){return I.bind(null,Q,D,O)}),C)})}function z(g,D){if(g.length){d.fire("beforeAdd");var O=[];Y(Array.prototype.map.call(g,function(C){return I.bind(null,C,"",O)}),function(){O.length&&K(O,D)})}}var K=function(g,D){var O=0,C=d.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(typeof C.maxFiles<"u"&&C.maxFiles<g.length+d.files.length)if(C.maxFiles===1&&d.files.length===1&&g.length===1)d.removeFile(d.files[0]);else return C.maxFilesErrorCallback(g,O++),!1;var y=[],te=[],Q=g.length,q=function(){if(!--Q){if(!y.length&&!te.length)return;window.setTimeout(function(){d.fire("filesAdded",y,te)},0)}};S.each(g,function(oe){var ie=oe.name;if(C.fileType.length>0){var ae=!1;for(var de in C.fileType){var ee="."+C.fileType[de];if(ie.toLowerCase().indexOf(ee.toLowerCase(),ie.length-ee.length)!==-1){ae=!0;break}}if(!ae)return C.fileTypeErrorCallback(oe,O++),!1}if(typeof C.minFileSize<"u"&&oe.size<C.minFileSize)return C.minFileSizeErrorCallback(oe,O++),!1;if(typeof C.maxFileSize<"u"&&oe.size>C.maxFileSize)return C.maxFileSizeErrorCallback(oe,O++),!1;function he(Ye){d.getFromUniqueIdentifier(Ye)?te.push(oe):function(){oe.uniqueIdentifier=Ye;var Ue=new re(d,oe,Ye);d.files.push(Ue),y.push(Ue),Ue.container=typeof D<"u"?D.srcElement:null,window.setTimeout(function(){d.fire("fileAdded",Ue,D)},0)}(),q()}var Oe=S.generateUniqueIdentifier(oe,D);Oe&&typeof Oe.then=="function"?Oe.then(function(Ye){he(Ye)},function(){q()}):he(Oe)})};function re(g,D,O){var C=this;C.opts={},C.getOpt=g.getOpt,C._prevProgress=0,C.resumableObj=g,C.file=D,C.fileName=D.fileName||D.name,C.size=D.size,C.relativePath=D.relativePath||D.webkitRelativePath||C.fileName,C.uniqueIdentifier=O,C._pause=!1,C.container="";var y=O!==void 0,te=function(Q,q){switch(Q){case"progress":C.resumableObj.fire("fileProgress",C,q);break;case"error":C.abort(),y=!0,C.chunks=[],C.resumableObj.fire("fileError",C,q);break;case"success":if(y)return;C.resumableObj.fire("fileProgress",C),C.isComplete()&&C.resumableObj.fire("fileSuccess",C,q);break;case"retry":C.resumableObj.fire("fileRetry",C);break}};return C.chunks=[],C.abort=function(){var Q=0;S.each(C.chunks,function(q){q.status()=="uploading"&&(q.abort(),Q++)}),Q>0&&C.resumableObj.fire("fileProgress",C)},C.cancel=function(){var Q=C.chunks;C.chunks=[],S.each(Q,function(q){q.status()=="uploading"&&(q.abort(),C.resumableObj.uploadNextChunk())}),C.resumableObj.removeFile(C),C.resumableObj.fire("fileProgress",C)},C.retry=function(){C.bootstrap();var Q=!1;C.resumableObj.on("chunkingComplete",function(){Q||C.resumableObj.upload(),Q=!0})},C.bootstrap=function(){C.abort(),y=!1,C.chunks=[],C._prevProgress=0;for(var Q=C.getOpt("forceChunkSize")?Math.ceil:Math.floor,q=Math.max(Q(C.file.size/C.getOpt("chunkSize")),1),oe=0;oe<q;oe++)(function(ie){window.setTimeout(function(){C.chunks.push(new P(C.resumableObj,C,ie,te)),C.resumableObj.fire("chunkingProgress",C,ie/q)},0)})(oe);window.setTimeout(function(){C.resumableObj.fire("chunkingComplete",C)},0)},C.progress=function(){if(y)return 1;var Q=0,q=!1;return S.each(C.chunks,function(oe){oe.status()=="error"&&(q=!0),Q+=oe.progress(!0)}),Q=q||Q>.99999?1:Q,Q=Math.max(C._prevProgress,Q),C._prevProgress=Q,Q},C.isUploading=function(){var Q=!1;return S.each(C.chunks,function(q){if(q.status()=="uploading")return Q=!0,!1}),Q},C.isComplete=function(){var Q=!1;return S.each(C.chunks,function(q){var oe=q.status();if(oe=="pending"||oe=="uploading"||q.preprocessState===1)return Q=!0,!1}),!Q},C.pause=function(Q){typeof Q>"u"?C._pause=!C._pause:C._pause=Q},C.isPaused=function(){return C._pause},C.resumableObj.fire("chunkingStart",C),C.bootstrap(),this}function P(g,D,O,C){var y=this;y.opts={},y.getOpt=g.getOpt,y.resumableObj=g,y.fileObj=D,y.fileObjSize=D.size,y.fileObjType=D.file.type,y.offset=O,y.callback=C,y.lastProgressCallback=new Date,y.tested=!1,y.retries=0,y.pendingRetry=!1,y.preprocessState=0;var te=y.getOpt("chunkSize");return y.loaded=0,y.startByte=y.offset*te,y.endByte=Math.min(y.fileObjSize,(y.offset+1)*te),y.fileObjSize-y.endByte<te&&!y.getOpt("forceChunkSize")&&(y.endByte=y.fileObjSize),y.xhr=null,y.test=function(){y.xhr=new XMLHttpRequest;var Q=function(de){y.tested=!0;var ee=y.status();ee=="success"?(y.callback(ee,y.message()),y.resumableObj.uploadNextChunk()):y.send()};y.xhr.addEventListener("load",Q,!1),y.xhr.addEventListener("error",Q,!1),y.xhr.addEventListener("timeout",Q,!1);var q=[],oe=y.getOpt("parameterNamespace"),ie=y.getOpt("query");typeof ie=="function"&&(ie=ie(y.fileObj,y)),S.each(ie,function(de,ee){q.push([encodeURIComponent(oe+de),encodeURIComponent(ee)].join("="))}),q=q.concat([["chunkNumberParameterName",y.offset+1],["chunkSizeParameterName",y.getOpt("chunkSize")],["currentChunkSizeParameterName",y.endByte-y.startByte],["totalSizeParameterName",y.fileObjSize],["typeParameterName",y.fileObjType],["identifierParameterName",y.fileObj.uniqueIdentifier],["fileNameParameterName",y.fileObj.fileName],["relativePathParameterName",y.fileObj.relativePath],["totalChunksParameterName",y.fileObj.chunks.length]].filter(function(de){return y.getOpt(de[0])}).map(function(de){return[oe+y.getOpt(de[0]),encodeURIComponent(de[1])].join("=")})),y.xhr.open(y.getOpt("testMethod"),S.getTarget("test",q)),y.xhr.timeout=y.getOpt("xhrTimeout"),y.xhr.withCredentials=y.getOpt("withCredentials");var ae=y.getOpt("headers");typeof ae=="function"&&(ae=ae(y.fileObj,y)),S.each(ae,function(de,ee){y.xhr.setRequestHeader(de,ee)}),y.xhr.send(null)},y.preprocessFinished=function(){y.preprocessState=2,y.send()},y.send=function(){var Q=y.getOpt("preprocess");if(typeof Q=="function")switch(y.preprocessState){case 0:y.preprocessState=1,Q(y);return;case 1:return}if(y.getOpt("testChunks")&&!y.tested){y.test();return}y.xhr=new XMLHttpRequest,y.xhr.upload.addEventListener("progress",function(Te){new Date-y.lastProgressCallback>y.getOpt("throttleProgressCallbacks")*1e3&&(y.callback("progress"),y.lastProgressCallback=new Date),y.loaded=Te.loaded||0},!1),y.loaded=0,y.pendingRetry=!1,y.callback("progress");var q=function(Te){var ge=y.status();if(ge=="success"||ge=="error")y.callback(ge,y.message()),y.resumableObj.uploadNextChunk();else{y.callback("retry",y.message()),y.abort(),y.retries++;var on=y.getOpt("chunkRetryInterval");on!==void 0?(y.pendingRetry=!0,setTimeout(y.send,on)):y.send()}};y.xhr.addEventListener("load",q,!1),y.xhr.addEventListener("error",q,!1),y.xhr.addEventListener("timeout",q,!1);var oe=[["chunkNumberParameterName",y.offset+1],["chunkSizeParameterName",y.getOpt("chunkSize")],["currentChunkSizeParameterName",y.endByte-y.startByte],["totalSizeParameterName",y.fileObjSize],["typeParameterName",y.fileObjType],["identifierParameterName",y.fileObj.uniqueIdentifier],["fileNameParameterName",y.fileObj.fileName],["relativePathParameterName",y.fileObj.relativePath],["totalChunksParameterName",y.fileObj.chunks.length]].filter(function(Te){return y.getOpt(Te[0])}).reduce(function(Te,ge){return Te[y.getOpt(ge[0])]=ge[1],Te},{}),ie=y.getOpt("query");typeof ie=="function"&&(ie=ie(y.fileObj,y)),S.each(ie,function(Te,ge){oe[Te]=ge});var ae=y.fileObj.file.slice?"slice":y.fileObj.file.mozSlice?"mozSlice":y.fileObj.file.webkitSlice?"webkitSlice":"slice",de=y.fileObj.file[ae](y.startByte,y.endByte,y.getOpt("setChunkTypeFromFile")?y.fileObj.file.type:""),ee=null,he=[],Oe=y.getOpt("parameterNamespace");if(y.getOpt("method")==="octet")ee=de,S.each(oe,function(Te,ge){he.push([encodeURIComponent(Oe+Te),encodeURIComponent(ge)].join("="))});else if(ee=new FormData,S.each(oe,function(Te,ge){ee.append(Oe+Te,ge),he.push([encodeURIComponent(Oe+Te),encodeURIComponent(ge)].join("="))}),y.getOpt("chunkFormat")=="blob")ee.append(Oe+y.getOpt("fileParameterName"),de,y.fileObj.fileName);else if(y.getOpt("chunkFormat")=="base64"){var Ye=new FileReader;Ye.onload=function(Te){ee.append(Oe+y.getOpt("fileParameterName"),Ye.result),y.xhr.send(ee)},Ye.readAsDataURL(de)}var Ue=S.getTarget("upload",he),Fe=y.getOpt("uploadMethod");y.xhr.open(Fe,Ue),y.getOpt("method")==="octet"&&y.xhr.setRequestHeader("Content-Type","application/octet-stream"),y.xhr.timeout=y.getOpt("xhrTimeout"),y.xhr.withCredentials=y.getOpt("withCredentials");var Ft=y.getOpt("headers");typeof Ft=="function"&&(Ft=Ft(y.fileObj,y)),S.each(Ft,function(Te,ge){y.xhr.setRequestHeader(Te,ge)}),y.getOpt("chunkFormat")=="blob"&&y.xhr.send(ee)},y.abort=function(){y.xhr&&y.xhr.abort(),y.xhr=null},y.status=function(){return y.pendingRetry?"uploading":y.xhr?y.xhr.readyState<4?"uploading":y.xhr.status==200||y.xhr.status==201?"success":S.contains(y.getOpt("permanentErrors"),y.xhr.status)||y.retries>=y.getOpt("maxChunkRetries")?"error":(y.abort(),"pending"):"pending"},y.message=function(){return y.xhr?y.xhr.responseText:""},y.progress=function(Q){typeof Q>"u"&&(Q=!1);var q=Q?(y.endByte-y.startByte)/y.fileObjSize:1;if(y.pendingRetry)return 0;(!y.xhr||!y.xhr.status)&&(q*=.95);var oe=y.status();switch(oe){case"success":case"error":return 1*q;case"pending":return 0*q;default:return y.loaded/(y.endByte-y.startByte)*q}},this}return d.uploadNextChunk=function(){var g=!1;if(d.getOpt("prioritizeFirstAndLastChunk")&&(S.each(d.files,function(O){if(O.chunks.length&&O.chunks[0].status()=="pending"&&O.chunks[0].preprocessState===0)return O.chunks[0].send(),g=!0,!1;if(O.chunks.length>1&&O.chunks[O.chunks.length-1].status()=="pending"&&O.chunks[O.chunks.length-1].preprocessState===0)return O.chunks[O.chunks.length-1].send(),g=!0,!1}),g)||(S.each(d.files,function(O){if(O.isPaused()===!1&&S.each(O.chunks,function(C){if(C.status()=="pending"&&C.preprocessState===0)return C.send(),g=!0,!1}),g)return!1}),g))return!0;var D=!1;return S.each(d.files,function(O){if(!O.isComplete())return D=!0,!1}),D||d.fire("complete"),!1},d.assignBrowse=function(g,D){typeof g.length>"u"&&(g=[g]),S.each(g,function(O){var C;O.tagName==="INPUT"&&O.type==="file"?C=O:(C=document.createElement("input"),C.setAttribute("type","file"),C.style.display="none",O.addEventListener("click",function(){C.style.opacity=0,C.style.display="block",C.focus(),C.click(),C.style.display="none"},!1),O.appendChild(C));var y=d.getOpt("maxFiles");typeof y>"u"||y!=1?C.setAttribute("multiple","multiple"):C.removeAttribute("multiple"),D?C.setAttribute("webkitdirectory","webkitdirectory"):C.removeAttribute("webkitdirectory");var te=d.getOpt("fileType");typeof te<"u"&&te.length>=1?C.setAttribute("accept",te.map(function(Q){return"."+Q}).join(",")):C.removeAttribute("accept"),C.addEventListener("change",function(Q){K(Q.target.files,Q);var q=d.getOpt("clearInput");q&&(Q.target.value="")},!1)})},d.assignDrop=function(g){typeof g.length>"u"&&(g=[g]),S.each(g,function(D){D.addEventListener("dragover",M,!1),D.addEventListener("dragenter",M,!1),D.addEventListener("drop",H,!1)})},d.unAssignDrop=function(g){typeof g.length>"u"&&(g=[g]),S.each(g,function(D){D.removeEventListener("dragover",M),D.removeEventListener("dragenter",M),D.removeEventListener("drop",H)})},d.isUploading=function(){var g=!1;return S.each(d.files,function(D){if(D.isUploading())return g=!0,!1}),g},d.upload=function(){if(!d.isUploading()){d.fire("uploadStart");for(var g=1;g<=d.getOpt("simultaneousUploads");g++)d.uploadNextChunk()}},d.pause=function(){S.each(d.files,function(g){g.abort()}),d.fire("pause")},d.cancel=function(){d.fire("beforeCancel");for(var g=d.files.length-1;g>=0;g--)d.files[g].cancel();d.fire("cancel")},d.progress=function(){var g=0,D=0;return S.each(d.files,function(O){g+=O.progress()*O.size,D+=O.size}),D>0?g/D:0},d.addFile=function(g,D){K([g],D)},d.addFiles=function(g,D){K(g,D)},d.removeFile=function(g){for(var D=d.files.length-1;D>=0;D--)d.files[D]===g&&d.files.splice(D,1)},d.getFromUniqueIdentifier=function(g){var D=!1;return S.each(d.files,function(O){O.uniqueIdentifier==g&&(D=O)}),D},d.getSize=function(){var g=0;return S.each(d.files,function(D){g+=D.size}),g},d.handleDropEvent=function(g){H(g)},d.handleChangeEvent=function(g){K(g.target.files,g),g.target.value=""},d.updateQuery=function(g){d.opts.query=g},this};l.exports=v})()})(as);var Fc=as.exports;const Vc=ns(Fc);function Ei(){return document.head.querySelector('meta[name="csrf-token"]')?.content??""}const He={DETAIL:"detail",SELECTED:"selected",QUEUE:"queue",CREATE_FOLDER:"create-folder",CROP:"crop",DELETE:"delete",RENAME:"rename"},ot={FILES:"files",FILE:"file",FOLDER:"folder"};function Uc(l){return r.getCurrentScope()?(r.onScopeDispose(l),!0):!1}function va(l){return typeof l=="function"?l():r.unref(l)}const is=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const zc=Object.prototype.toString,Wc=l=>zc.call(l)==="[object Object]",_a=()=>{},Hc=Gc();function Gc(){var l,v;return is&&((l=window?.navigator)==null?void 0:l.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((v=window?.navigator)==null?void 0:v.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Xc(l,v){function i(...d){return new Promise((S,H)=>{Promise.resolve(l(()=>v.apply(this,d),{fn:v,thisArg:this,args:d})).then(S).catch(H)})}return i}const os=l=>l();function jc(l=os){const v=r.ref(!0);function i(){v.value=!1}function d(){v.value=!0}const S=(...H)=>{v.value&&l(...H)};return{isActive:r.readonly(v),pause:i,resume:d,eventFilter:S}}function Yc(l){return l||r.getCurrentInstance()}function Kc(l,v,i={}){const{eventFilter:d=os,...S}=i;return r.watch(l,Xc(d,v),S)}function Zc(l,v,i={}){const{eventFilter:d,...S}=i,{eventFilter:H,pause:M,resume:I,isActive:Y}=jc(d);return{stop:Kc(l,v,{...S,eventFilter:H}),pause:M,resume:I,isActive:Y}}function Jc(l,v=!0,i){Yc()?r.onMounted(l,i):v?l():r.nextTick(l)}function Vr(l){var v;const i=va(l);return(v=i?.$el)!=null?v:i}const hr=is?window:void 0;function gr(...l){let v,i,d,S;if(typeof l[0]=="string"||Array.isArray(l[0])?([i,d,S]=l,v=hr):[v,i,d,S]=l,!v)return _a;Array.isArray(i)||(i=[i]),Array.isArray(d)||(d=[d]);const H=[],M=()=>{H.forEach(z=>z()),H.length=0},I=(z,K,re,P)=>(z.addEventListener(K,re,P),()=>z.removeEventListener(K,re,P)),Y=r.watch(()=>[Vr(v),va(S)],([z,K])=>{if(M(),!z)return;const re=Wc(K)?{...K}:K;H.push(...i.flatMap(P=>d.map(g=>I(z,P,g,re))))},{immediate:!0,flush:"post"}),V=()=>{Y(),M()};return Uc(V),V}let ss=!1;function Qc(l,v,i={}){const{window:d=hr,ignore:S=[],capture:H=!0,detectIframe:M=!1}=i;if(!d)return _a;Hc&&!ss&&(ss=!0,Array.from(d.document.body.children).forEach(re=>re.addEventListener("click",_a)),d.document.documentElement.addEventListener("click",_a));let I=!0;const Y=re=>S.some(P=>{if(typeof P=="string")return Array.from(d.document.querySelectorAll(P)).some(g=>g===re.target||re.composedPath().includes(g));{const g=Vr(P);return g&&(re.target===g||re.composedPath().includes(g))}}),z=[gr(d,"click",re=>{const P=Vr(l);if(!(!P||P===re.target||re.composedPath().includes(P))){if(re.detail===0&&(I=!Y(re)),!I){I=!0;return}v(re)}},{passive:!0,capture:H}),gr(d,"pointerdown",re=>{const P=Vr(l);I=!Y(re)&&!!(P&&!re.composedPath().includes(P))},{passive:!0}),M&&gr(d,"blur",re=>{setTimeout(()=>{var P;const g=Vr(l);((P=d.document.activeElement)==null?void 0:P.tagName)==="IFRAME"&&!g?.contains(d.document.activeElement)&&v(re)},0)})].filter(Boolean);return()=>z.forEach(re=>re())}function qc(l){return typeof l=="function"?l:typeof l=="string"?v=>v.key===l:Array.isArray(l)?v=>l.includes(v.key):()=>!0}function ls(...l){let v,i,d={};l.length===3?(v=l[0],i=l[1],d=l[2]):l.length===2?typeof l[1]=="object"?(v=!0,i=l[0],d=l[1]):(v=l[0],i=l[1]):(v=!0,i=l[0]);const{target:S=hr,eventName:H="keydown",passive:M=!1,dedupe:I=!1}=d,Y=qc(v);return gr(S,H,z=>{z.repeat&&va(I)||Y(z)&&i(z)},M)}const ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ba="__vueuse_ssr_handlers__",$c=eu();function eu(){return ba in ya||(ya[ba]=ya[ba]||{}),ya[ba]}function tu(l,v){return $c[l]||v}function nu(l){return l==null?"any":l instanceof Set?"set":l instanceof Map?"map":l instanceof Date?"date":typeof l=="boolean"?"boolean":typeof l=="string"?"string":typeof l=="object"?"object":Number.isNaN(l)?"any":"number"}const ru={boolean:{read:l=>l==="true",write:l=>String(l)},object:{read:l=>JSON.parse(l),write:l=>JSON.stringify(l)},number:{read:l=>Number.parseFloat(l),write:l=>String(l)},any:{read:l=>l,write:l=>String(l)},string:{read:l=>l,write:l=>String(l)},map:{read:l=>new Map(JSON.parse(l)),write:l=>JSON.stringify(Array.from(l.entries()))},set:{read:l=>new Set(JSON.parse(l)),write:l=>JSON.stringify(Array.from(l))},date:{read:l=>new Date(l),write:l=>l.toISOString()}},cs="vueuse-storage";function au(l,v,i,d={}){var S;const{flush:H="pre",deep:M=!0,listenToStorageChanges:I=!0,writeDefaults:Y=!0,mergeDefaults:V=!1,shallow:z,window:K=hr,eventFilter:re,onError:P=ee=>{console.error(ee)},initOnMounted:g}=d,D=(z?r.shallowRef:r.ref)(typeof v=="function"?v():v);if(!i)try{i=tu("getDefaultStorage",()=>{var ee;return(ee=hr)==null?void 0:ee.localStorage})()}catch(ee){P(ee)}if(!i)return D;const O=va(v),C=nu(O),y=(S=d.serializer)!=null?S:ru[C],{pause:te,resume:Q}=Zc(D,()=>oe(D.value),{flush:H,deep:M,eventFilter:re});K&&I&&Jc(()=>{gr(K,"storage",ae),gr(K,cs,de),g&&ae()}),g||ae();function q(ee,he){K&&K.dispatchEvent(new CustomEvent(cs,{detail:{key:l,oldValue:ee,newValue:he,storageArea:i}}))}function oe(ee){try{const he=i.getItem(l);if(ee==null)q(he,null),i.removeItem(l);else{const Oe=y.write(ee);he!==Oe&&(i.setItem(l,Oe),q(he,Oe))}}catch(he){P(he)}}function ie(ee){const he=ee?ee.newValue:i.getItem(l);if(he==null)return Y&&O!=null&&i.setItem(l,y.write(O)),O;if(!ee&&V){const Oe=y.read(he);return typeof V=="function"?V(Oe,O):C==="object"&&!Array.isArray(Oe)?{...O,...Oe}:Oe}else return typeof he!="string"?he:y.read(he)}function ae(ee){if(!(ee&&ee.storageArea!==i)){if(ee&&ee.key==null){D.value=O;return}if(!(ee&&ee.key!==l)){te();try{ee?.newValue!==y.write(D.value)&&(D.value=ie(ee))}catch(he){P(he)}finally{ee?r.nextTick(Q):Q()}}}}function de(ee){ae(ee.detail)}return D}function iu(l,v,i={}){const{window:d=hr}=i;return au(l,v,d?.localStorage,i)}function hy(l){return l}const lt=Sc("nova-filemanager/browser",()=>{const l=r.ref(!1),v=r.ref(!1),i=r.ref(!1),d=r.ref(!1),S=r.ref(!1),H=r.ref(!0),M=r.ref(!0),I=r.ref(1),Y=r.ref(10),V=r.ref("/"),z=r.ref(""),K=r.ref(""),re=r.ref(""),P=iu("pinia/nova-file-manager/browser/disk",""),g=r.ref([]),D=r.ref([]),O=r.ref([]),C=r.ref(0),y=r.ref(dr.range(10,50,10)),te=r.ref([{value:"",label:"Sort by"},{value:"date",label:"Date Asc"},{value:"date-desc",label:"Date Desc"},{value:"name",label:"Name Asc"},{value:"name-desc",label:"Name Desc"},{value:"size",label:"Size Asc"},{value:"size-desc",label:"Size Desc"}]),Q=r.ref([]),q=r.ref([]),oe=r.ref({}),ie=r.ref(50*1024*1024);async function ae(){dr.isEmpty(Q.value)&&await un(),dr.isEmpty(oe.value)&&await ct()}function de(){C.value++}function ee(Z){I.value=Z,ct()}function he(Z){Y.value=Z,I.value=1,ct()}function Oe(Z){V.value=Z,I.value=1,ct()}function Ye(Z){z.value=Z,I.value=1,ct()}function Ue(Z){K.value=Z,ct()}function Fe(Z){V.value="/",I.value=1,z.value="",P.value=Z,ct()}function Ft(Z){re.value=Z,I.value=1,ct()}function Te(Z,ue=null){D.value.push({id:Pc(),name:Z,payload:ue})}function ge(Z){D.value=D.value.filter(ue=>ue.id!==Z)}function on(Z){D.value=D.value.filter(ue=>ue.name!==Z)}function vn(){D.value=[]}function rt(Z){if(dr.isEmpty(g.value)){g.value=[Z];return}g.value.push(Z)}function Ln(Z){g.value=g.value?.filter(ue=>ue.id!==Z.id)}function sn(Z){g.value=Z}function _n(){sn([])}function Nt(Z){return!!g.value?.find(ue=>ue.id===Z.id)}function yn(Z){if(Nt(Z)){Ln(Z);return}S.value||_n(),rt(Z)}const vr=r.computed(()=>l.value||v.value||i.value);function Vt({file:Z}){O.value.push({id:Z.name,ratio:0,status:null,file:Z,isImage:Z.type.includes("image")??!1})}function Ut(){O.value=[]}function ln({id:Z,ratio:ue=100,status:Be=null}){O.value=O.value.map(ft=>ft.id===Z?{...ft,status:Be,ratio:ue}:ft),O.value.reduce((ft,Ot)=>ft&&Ot.ratio===100,!0)&&O.value.length&&setTimeout(async()=>{on(He.QUEUE),Ut(),v.value=!1,await ct()},1e3)}function cn(Z){if(v.value)return;D.value.find(Be=>Be.name===He.QUEUE)||Te(He.QUEUE),v.value=!0;const ue=new Vc({chunkSize:ie.value,simultaneousUploads:1,maxChunkRetries:10,testChunks:!1,target:"/nova-vendor/nova-file-manager/files/upload",query:{path:V.value??"/",disk:P.value},headers:{Accept:"application/json","X-CSRF-TOKEN":Ei()}});Z.forEach(Be=>{ue.addFile(Be),Vt({file:Be})}),ue.on("fileAdded",()=>ue.upload()),ue.on("fileSuccess",Be=>{ln({id:Be.fileName,status:!0})}),ue.on("fileProgress",Be=>{ln({id:Be.fileName,ratio:Math.floor(Be.progress(!1)*100)})}),ue.on("error",(Be,ut)=>{console.log(Be,ut)}),ue.on("fileError",(Be,ut)=>{ln({id:Be.fileName,status:!1}),Nova.error(JSON.parse(ut).message)})}async function un(){i.value=!0;const Z=await fetch("/nova-vendor/nova-file-manager/disks/available"),ue=await Z.clone().json();Z.ok?(Q.value=ue,P.value||(P.value=Q.value[0])):Nova.error(`${Z.status}: ${ue.message||"Something went wrong"}`),i.value=!1}async function ct(){l.value=!0;const Z={page:I.value,perPage:Y.value,path:V.value,search:z.value,sort:K.value,disk:P.value,period:re.value};return await fetch(`/nova-vendor/nova-file-manager?${new URLSearchParams(Z).toString()}`,{method:"GET",headers:{"X-CSRF-TOKEN":Ei(),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}).then(async ue=>{const Be=await ue.clone().json();ue.ok?(I.value=Be.pagination.current_page,P.value=Be.disk,oe.value=Be):Nova.error(`${ue.status}: ${Be.message||"Something went wrong"}`)}).finally(ue=>(l.value=!1,ue))}async function vt(Z,ue){return await Ge("/nova-vendor/nova-file-manager/files/rename","POST",{disk:P.value,from:Z,to:ue}).then(Be=>{Be.ok&&(g.value=g.value.filter(ut=>ut.path!==Z))})}async function bn(Z=[]){if(Z.length!==0)return await Ge("/nova-vendor/nova-file-manager/files/delete","POST",{disk:P.value,paths:Z}).then(ue=>{ue.ok&&(g.value=g.value.filter(Be=>!Z.includes(Be.path)))})}async function _r(Z){return await Ge("/nova-vendor/nova-file-manager/files/unzip","POST",{disk:P.value,path:Z})}async function kt(Z){return await Ge("/nova-vendor/nova-file-manager/files/duplicate","POST",{disk:P.value,path:Z})}async function Jn(Z){return await Ge("/nova-vendor/nova-file-manager/folders/create","POST",{disk:P.value,path:Z})}async function yr(Z,ue){return await Ge("/nova-vendor/nova-file-manager/folders/rename","POST",{disk:P.value,from:Z,to:ue})}async function fn(Z){return await Ge("/nova-vendor/nova-file-manager/folders/delete","POST",{disk:P.value,path:Z})}async function Ge(Z,ue="POST",Be){l.value=!0;const ut=ue==="GET"?`${Z}?${new URLSearchParams(Be).toString()}`:Z;return await fetch(ut,{method:ue,headers:{"X-CSRF-TOKEN":Ei(),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},body:ue==="GET"?null:JSON.stringify(Be)}).then(async ft=>{const Ot=await ft.clone().json();return ft.ok?(vn(),ct(),Ot.message&&Nova.success(Ot.message)):Nova.error(`${ft.status}: ${Ot.message||"Something went wrong"}`),ft}).finally(ft=>(l.value=!1,ft))}return{init:ae,isProcessing:vr,loading:l,uploading:v,fetchingDisks:i,selecting:d,multiple:S,showFiles:M,showFolders:H,page:I,perPage:Y,path:V,search:z,sort:K,period:re,disk:P,selection:g,modals:D,queue:O,selectionConfirms:C,perPageOptions:y,sorts:te,disks:Q,periods:q,data:oe,chunkSize:ie,confirmSelection:de,setPage:ee,setPerPage:he,setPath:Oe,setSearch:Ye,setSort:Ue,setDisk:Fe,setPeriod:Ft,openModal:Te,closeModal:ge,closeModalsByName:on,closeModals:vn,select:rt,unselect:Ln,setSelection:sn,clearSelection:_n,isSelected:Nt,toggleSelection:yn,queueFile:Vt,clearQueue:Ut,updateQueue:ln,getDisks:un,fetchData:ct,upload:cn,renameFile:vt,deleteFiles:bn,unarchive:_r,duplicate:kt,createFolder:Jn,renameFolder:yr,deleteFolder:fn}}),Ci=r.defineComponent({__name:"Dropdown",setup(l){const v=r.ref(!1),i=r.ref();return Qc(i,()=>v.value?v.value=!1:null),(d,S)=>(r.openBlock(),r.createElementBlock("div",{class:"relative",ref_key:"target",ref:i},[r.createElementVNode("div",{onClick:S[0]||(S[0]=r.withModifiers(()=>v.value=!v.value,["prevent","stop"]))},[r.renderSlot(d.$slots,"trigger")]),r.createElementVNode("div",{class:r.normalizeClass(["absolute p-1 mt-2 min-w-80 rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 z-20",{hidden:!v.value}]),style:{right:0,top:"100%"}},[r.renderSlot(d.$slots,"default")],2)],512))}}),gy="",ou={class:"flex items-center px-6 py-4 space-x-2 border-b border-gray-200 dark:border-gray-700"},su={class:"rounded-lg cursor-pointer h-9 min-w-9 px-2 flex items-center justify-center focus:outline-none bg-primary-500 hover:bg-primary-600 shadow text-white dark:text-gray-900 dark:ring-gray-600",for:"fileUpload"},lu=r.createElementVNode("div",{class:"flex-grow"},null,-1),cu={key:0,class:"flex items-center space-x-2"},uu={class:"p-2 space-y-2 w-60"},fu={class:"relative"},pu=["placeholder","aria-label"],du={class:"text-gray-900 dark:text-gray-200 font-medium"},hu={class:"text-gray-900 dark:text-gray-200 font-medium"},gu={class:"text-gray-900 dark:text-gray-200 font-medium"},mu={__name:"BrowserToolbar",emits:["changeFile"],setup(l,{emit:v}){const i=lt(),d=r.ref(),S=Dc.debounce(M=>i.setSearch(M),300);function H(M){v("changeFile",M)}return(M,I)=>{const Y=r.resolveComponent("Icon"),V=r.resolveDirective("tooltip");return r.openBlock(),r.createElementBlock("div",ou,[r.withDirectives((r.openBlock(),r.createElementBlock("label",su,[r.createElementVNode("input",{ref_key:"fileUpload",ref:d,id:"fileUpload",type:"file",class:"sr-only",multiple:"",onChange:H},null,544),r.createVNode(Y,{type:"upload",width:"16",height:"16"})])),[[V,M.__("Upload a file")]]),r.withDirectives(r.createVNode(mt,{onClick:I[0]||(I[0]=r.withModifiers(z=>r.unref(i).openModal(r.unref(He).CREATE_FOLDER),["prevent"])),type:"folder-add"},null,512),[[V,M.__("Create folder")]]),r.withDirectives(r.createVNode(mt,{onClick:I[1]||(I[1]=r.withModifiers(z=>r.unref(i).fetchData(),["prevent"])),type:"refresh"},null,512),[[V,M.__("Refresh")]]),r.createVNode(ga,{value:r.unref(i).disk,onChange:I[2]||(I[2]=z=>r.unref(i).setDisk(z)),options:r.unref(i).disks.map(z=>({label:z,value:z}))},null,8,["value","options"]),lu,r.unref(i).selection.length>0?(r.openBlock(),r.createElementBlock("div",cu,[r.withDirectives((r.openBlock(),r.createElementBlock("span",{onClick:I[3]||(I[3]=r.withModifiers(()=>r.unref(i).openModal(r.unref(He).SELECTED),["prevent"])),class:"cursor-pointer hover:text-primary-500"},[r.createTextVNode(" Selected "+r.toDisplayString(r.unref(i).selection.length)+" files ",1)])),[[V,M.__("Open selected files modal")]]),r.withDirectives(r.createVNode(mt,{class:"text-red-500",type:"trash",onClick:I[4]||(I[4]=r.withModifiers(()=>r.unref(i).openModal(r.unref(He).DELETE,{type:r.unref(ot).FILES,[r.unref(ot).FILES]:r.unref(i).selection}),["prevent"]))},null,512),[[V,M.__("Delete selected files")]]),r.unref(i).selecting?r.withDirectives((r.openBlock(),r.createBlock(mt,{key:0,class:"text-green-500",type:"check",onClick:I[5]||(I[5]=r.withModifiers(()=>r.unref(i).confirmSelection(),["prevent"]))},null,512)),[[V,M.__("Confirm selection")]]):r.createCommentVNode("",!0)])):r.createCommentVNode("",!0),r.createVNode(Ci,null,{trigger:r.withCtx(()=>[r.withDirectives(r.createVNode(mt,{type:"filter",active:!!(r.unref(i).search||r.unref(i).sort||r.unref(i).period)},null,8,["active"]),[[V,M.__("Filters")]])]),default:r.withCtx(()=>[r.createElementVNode("div",uu,[r.createElementVNode("div",fu,[r.createElementVNode("input",{ref:"input",type:"text",class:"appearance-none w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-800 h-10 px-3 rounded-lg",placeholder:M.__("Search"),"aria-label":M.__("Search"),spellcheck:"false",onInput:I[6]||(I[6]=z=>r.unref(S)(z.target.value))},null,40,pu)]),r.createElementVNode("p",du,r.toDisplayString(M.__("Per page")),1),r.createVNode(ga,{options:r.unref(i).perPageOptions.map(z=>({label:z,value:z})),value:r.unref(i).perPage,onChange:I[7]||(I[7]=z=>r.unref(i).setPerPage(z))},null,8,["options","value"]),r.createElementVNode("p",hu,r.toDisplayString(M.__("Period")),1),r.unref(i).periods?(r.openBlock(),r.createBlock(ga,{key:0,options:r.unref(i).periods,value:r.unref(i).period,onChange:I[8]||(I[8]=z=>r.unref(i).setPeriod(z))},null,8,["options","value"])):r.createCommentVNode("",!0),r.createElementVNode("p",gu,r.toDisplayString(M.__("Sort by")),1),r.unref(i).sorts?(r.openBlock(),r.createBlock(ga,{key:1,options:r.unref(i).sorts,value:r.unref(i).sort,onChange:I[9]||(I[9]=z=>r.unref(i).setSort(z))},null,8,["options","value"])):r.createCommentVNode("",!0)])]),_:1})])}}},vu={class:"flex items-center pt-4"},_u={class:"flex text-sm"},yu=["disabled","dusk","onClick"],bu={class:"hidden md:flex items-center justify-center text-xs px-4 ml-auto"},wu={__name:"BrowserPagination",setup(l){const v=lt(),i=r.computed(()=>v.data?.pagination);function d(H){v.setPage(H)}const S=r.computed(()=>i.total>0?`${i.from}-${i.to} of ${i.total}`:"");return(H,M)=>(r.openBlock(),r.createElementBlock("nav",vu,[r.createElementVNode("div",_u,[r.createElementVNode("button",{class:r.normalizeClass(["hidden md:flex items-center justify-center rounded-lg border border-gray-200 dark:border-gray-700 text-xl h-9 min-w-9 px-2 focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500 mr-1",{disabled:i.value.current_page<=1}]),rel:"prev",dusk:"previous",onClick:M[0]||(M[0]=r.withModifiers(I=>d(i.value.current_page-1),["prevent"]))}," ‹ ",2),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(i.value.links,I=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:I.label},[!isNaN(I.label)||I.label==="..."?(r.openBlock(),r.createElementBlock("button",{key:0,class:r.normalizeClass(["rounded-lg mr-1 border border-gray-200 dark:border-gray-700 h-9 min-w-9 px-2 focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500",{"bg-gray-50 dark:bg-gray-700":I.active}]),disabled:I.label==="..."||I.active,dusk:`page:${I.label}`,onClick:r.withModifiers(Y=>I.label==="..."||I.active?null:d(I.label),["prevent"])},r.toDisplayString(I.label),11,yu)):r.createCommentVNode("",!0)],64))),128)),r.createElementVNode("button",{class:r.normalizeClass([{disabled:i.value.current_page>=i.value.last_page},"hidden md:flex items-center justify-center rounded-lg mr-1 border border-gray-200 dark:border-gray-700 text-xl h-9 min-w-9 px-2 focus:outline-none focus:bg-gray-50 hover:bg-gray-50 dark:hover:bg-gray-700"]),rel:"next",dusk:"next",onClick:M[1]||(M[1]=r.withModifiers(I=>d(i.value.current_page+1),["prevent"]))}," › ",2)]),r.createElementVNode("span",bu,r.toDisplayString(S.value),1)]))}},Ur={dir:"folder",dirBack:"folder-remove",audio:"music-note",image:"photograph",pdf:"document",text:"document-text",video:"video-camera",archive:"archive"};function Si(l,v,i="..."){return l.slice(0,v)+(v<l.length?i:"")}const ku={},xu={class:"flex items-center cursor-pointer px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800"};function Eu(l,v){return r.openBlock(),r.createElementBlock("div",xu,[r.renderSlot(l.$slots,"default")])}const In=xi(ku,[["render",Eu]]),Cu=["onClick"],Su={key:0,class:"absolute top-0 right-0 p-2 text-primary-500"},Du=["src"],Nu={class:"w-full flex items-center mt-2"},Ou={class:"px-1 truncate text-gray-900 dark:text-gray-200 font-medium"},Tu={class:"cursor-pointer flex items-center justify-center w-7 h-7 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900"},Bu={class:"w-full px-2 text-xs"},us={__name:"BrowserFile",props:{file:{type:Object,required:!0},detailButton:{type:Boolean,default:!0}},setup(l){const v=l,i=lt(),d=r.computed(()=>i.isSelected(v.file));function S(){i.openModal(He.DETAIL,v.file)}function H(){i.openModal(He.CROP,v.file)}function M(){v.file.type==="archive"&&i.unarchive(v.file.path)}function I(){i.duplicate(v.file.path)}function Y(){i.openModal(He.RENAME,v.file)}function V(){i.openModal(He.DELETE,{type:ot.FILE,[ot.FILE]:v.file})}function z(){i.selecting?(i.toggleSelection(v.file),!i.multiple&&d.value&&i.confirmSelection()):S()}return(K,re)=>{const P=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{ref:"card",class:"w-full h-full relative flex flex-col justify-center cursor-pointer",onClick:r.withModifiers(z,["prevent","stop"])},[r.createElementVNode("div",{class:r.normalizeClass(["relative aspect-square flex items-center p-2 justify-center w-full h-full overflow-hidden rounded-lg hover:opacity-75 dark:bg-gray-900 border-2",{"border-primary-500":d.value,"border-gray-200 dark:border-gray-700":!d.value}])},[d.value?(r.openBlock(),r.createElementBlock("div",Su,[r.createVNode(P,{type:"check-circle",width:"22",height:"22",solid:!0})])):r.createCommentVNode("",!0),l.file.type!="image"?(r.openBlock(),r.createBlock(P,{key:1,class:"text-gray-500",type:r.unref(Ur)[l.file.type]||r.unref(Ur).text,width:"48",height:"48",solid:!0},null,8,["type"])):r.createCommentVNode("",!0),l.file.type=="image"?(r.openBlock(),r.createElementBlock("img",{key:2,src:l.file.url,class:"block w-full h-full",style:{"object-fit":"contain"}},null,8,Du)):r.createCommentVNode("",!0)],2),r.createElementVNode("div",Nu,[r.createElementVNode("p",Ou,r.toDisplayString(r.unref(Si)(l.file.name,25)),1),r.createVNode(Ci,{class:"ml-auto"},{trigger:r.withCtx(()=>[r.createElementVNode("div",Tu,[r.createVNode(P,{type:"dots-vertical",width:"16",height:"16"})])]),default:r.withCtx(()=>[l.detailButton?(r.openBlock(),r.createBlock(In,{key:0,onClick:r.withModifiers(S,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(P,{type:"eye",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(K.__("Details")),1)]),_:1},8,["onClick"])):r.createCommentVNode("",!0),l.file.type==="image"?(r.openBlock(),r.createBlock(In,{key:1,onClick:r.withModifiers(H,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(P,{type:"camera",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(K.__("Crop")),1)]),_:1},8,["onClick"])):r.createCommentVNode("",!0),l.file.type==="archive"?(r.openBlock(),r.createBlock(In,{key:2,onClick:r.withModifiers(M,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(P,{type:"archive",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(K.__("Unarchive")),1)]),_:1},8,["onClick"])):r.createCommentVNode("",!0),r.createVNode(In,{onClick:r.withModifiers(I,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(P,{type:"duplicate",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(K.__("Duplicate")),1)]),_:1},8,["onClick"]),r.createVNode(In,{onClick:r.withModifiers(Y,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(P,{type:"pencil",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(K.__("Rename")),1)]),_:1},8,["onClick"]),r.createVNode(In,{class:"text-red-500",onClick:r.withModifiers(V,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(P,{type:"trash",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(K.__("Delete")),1)]),_:1},8,["onClick"])]),_:1})]),r.createElementVNode("div",Bu,r.toDisplayString(l.file.sizeReadable),1)],8,Cu)}}},Au={class:"h-8 w-8 mr-1 flex items-center justify-center group-hover:opacity-75"},Ru={class:"truncate group-hover:opacity-75"},Mu={class:"cursor-pointer flex items-center justify-center w-7 h-7 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800"},Iu={__name:"BrowserFolder",props:{folder:{type:Object,required:!0}},setup(l){const v=l,i=lt();function d(){i.setPath(v.folder.path)}function S(){i.openModal(He.RENAME,v.folder)}function H(){i.openModal(He.DELETE,{type:ot.FOLDER,[ot.FOLDER]:v.folder})}return(M,I)=>{const Y=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{ref:"card",class:"relative flex p-1 items-center bg-gray-100 dark:bg-gray-900 rounded-lg cursor-pointer group",onClick:d},[r.createElementVNode("div",Au,[r.createVNode(Y,{type:r.unref(Ur).dir,width:"16",height:"16"},null,8,["type"])]),r.createElementVNode("p",Ru,r.toDisplayString(r.unref(Si)(l.folder.name,25)),1),l.folder.id!=="parent"?(r.openBlock(),r.createBlock(Ci,{key:0,class:"ml-auto"},{trigger:r.withCtx(()=>[r.createElementVNode("div",Mu,[r.createVNode(Y,{type:"dots-vertical",width:"16",height:"16"})])]),default:r.withCtx(()=>[r.createVNode(In,{onClick:r.withModifiers(S,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"pencil",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(M.__("Rename")),1)]),_:1},8,["onClick"]),r.createVNode(In,{class:"text-red-500",onClick:r.withModifiers(H,["prevent","stop"])},{default:r.withCtx(()=>[r.createVNode(Y,{type:"trash",class:"mr-2",width:"16",height:"16"}),r.createTextVNode(" "+r.toDisplayString(M.__("Delete")),1)]),_:1},8,["onClick"])]),_:1})):r.createCommentVNode("",!0)],512)}}},Lu={class:"text-center py-8"},Pu={class:"mt-2 text-sm font-medium text-gray-800 dark:text-gray-200"},Fu={class:"mt-1 text-sm text-gray-500"},Vu=r.defineComponent({__name:"Empty",props:{title:{},subtitle:{}},setup(l){return(v,i)=>{const d=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",Lu,[r.createVNode(d,{type:"folder",class:"h-16 w-16 mx-auto fill-current text-primary-500"}),r.createElementVNode("h3",Pu,r.toDisplayString(v.title??v.__("No files were found for your request")),1),r.createElementVNode("p",Fu,r.toDisplayString(v.subtitle??v.__("You can upload a new file or create a new folder")),1)])}}}),Uu={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4"},zu={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},Wu={__name:"BrowserContent",setup(l){const v=lt(),i=r.computed(()=>v.data?.files||[]),d=r.computed(()=>v.data?.folders||[]);return(S,H)=>{const M=r.resolveComponent("Icon"),I=r.resolveComponent("Heading");return r.openBlock(),r.createElementBlock(r.Fragment,null,[d.value.length>0?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createVNode(I,{level:"5",class:"cursor-pointer text-xs hover:opacity-75",onClick:H[0]||(H[0]=Y=>r.unref(v).showFolders=!r.unref(v).showFolders)},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(S.__("Folders"))+" ",1),r.createVNode(M,{type:r.unref(v).showFolders?"chevron-down":"chevron-up",width:"13",height:"13"},null,8,["type"])]),_:1}),r.unref(v).showFolders?(r.openBlock(),r.createElementBlock("div",Uu,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(d.value,Y=>(r.openBlock(),r.createBlock(Iu,{key:Y.id,ref_for:!0,ref:"folder_"+Y.id,folder:Y,"data-key":Y.id},null,8,["folder","data-key"]))),128))])):r.createCommentVNode("",!0)],64)):r.createCommentVNode("",!0),i.value.length>0?(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createVNode(I,{level:"5",class:"cursor-pointer text-xs hover:opacity-75",onClick:H[1]||(H[1]=Y=>r.unref(v).showFiles=!r.unref(v).showFiles)},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(S.__("Files"))+" ",1),r.createVNode(M,{type:r.unref(v).showFiles?"chevron-down":"chevron-up",width:"13",height:"13"},null,8,["type"])]),_:1}),r.unref(v).showFiles?(r.openBlock(),r.createElementBlock("div",zu,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(i.value,Y=>(r.openBlock(),r.createBlock(us,{key:Y.id,ref_for:!0,ref:"file_"+Y.id,file:Y,"data-key":Y.id},null,8,["file","data-key"]))),128))])):r.createCommentVNode("",!0)],64)):r.createCommentVNode("",!0),!i.value.length&&!d.value.length?(r.openBlock(),r.createBlock(Vu,{key:2})):r.createCommentVNode("",!0)],64)}}},my="",Hu=["onClick"],Gu={key:0,class:"absolute rounded-lg inset-0 bg-white/50 dark:bg-gray-800/50 flex items-center justify-center flex-grow z-50"},Xu={class:"flex items-center px-6 py-4 space-x-2 border-b border-gray-200 dark:border-gray-700"},ju={key:0,class:"flex items-center px-6 py-4 space-x-2 border-t border-gray-200 dark:border-gray-700"},Zn={__name:"BaseModal",props:{full:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!0},disableClose:{type:Boolean,default:!1},modal:{type:Object,required:!0},size:{type:String,default:"2xl"}},emits:["close"],setup(l,{emit:v}){const i=l,d=lt(),S=r.useSlots(),H=r.ref(null),M=()=>d.closeModal(i.modal.id);return(I,Y)=>{const V=r.resolveComponent("Loader");return r.openBlock(),r.createElementBlock("div",{ref:"wrapper",class:r.normalizeClass(["inset-0 flex items-center justify-center p-3",{"fixed z-50 bg-gray-800/10 backdrop-blur":!l.full,"absolute z-10":l.full}])},[!l.disableClose&&!l.full?(r.openBlock(),r.createElementBlock("div",{key:0,class:"absolute inset-0",onClick:r.withModifiers(M,["prevent"])},null,8,Hu)):r.createCommentVNode("",!0),r.createElementVNode("div",{ref_key:"target",ref:H,class:r.normalizeClass(["relative bg-white w-full max-h-full overflow-y-auto overflow-x-hidden dark:bg-gray-800 z-10 rounded-lg shadow-lg base-modal-inner",{"w-full max-w-full min-h-full":l.full,"max-w-2xl":!l.full}])},[r.createVNode(r.Transition,null,{default:r.withCtx(()=>[r.unref(d).loading?(r.openBlock(),r.createElementBlock("div",Gu,[r.createVNode(V)])):r.createCommentVNode("",!0)]),_:1}),r.createElementVNode("div",Xu,[l.closeButton&&!l.disableClose?(r.openBlock(),r.createBlock(mt,{key:0,type:"chevron-left",onClick:r.withModifiers(M,["prevent","stop"])},null,8,["onClick"])):r.createCommentVNode("",!0),r.renderSlot(I.$slots,"header")]),r.renderSlot(I.$slots,"default"),r.unref(S).footer?(r.openBlock(),r.createElementBlock("div",ju,[r.renderSlot(I.$slots,"footer")])):r.createCommentVNode("",!0)],2)],2)}}},Yu=["src"],Ku={key:1,ref:"audio",controls:""},Zu=["src","type"],Ju={key:2,ref:"video",controls:"",crossorigin:"",playsinline:"",style:{width:"100%",height:"300px","object-fit":"contain"}},Qu=["src","type"],qu={key:3,class:"w-full p-4"},$u=["textContent"],ef=["data"],tf=["src"],nf=r.defineComponent({__name:"DetailView",props:{file:{type:Object,required:!0},class:{type:String,default:"",required:!1}},setup(l){return(v,i)=>{const d=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["flex items-center justify-center h-80",l.class])},[l.file.type=="image"?(r.openBlock(),r.createElementBlock("img",{key:0,class:"h-full w-full",src:l.file.url,style:{"object-fit":"contain"}},null,8,Yu)):l.file.type=="audio"?(r.openBlock(),r.createElementBlock("audio",Ku,[r.createElementVNode("source",{src:l.file.url,type:l.file.mime},null,8,Zu)],512)):l.file.type=="video"?(r.openBlock(),r.createElementBlock("video",Ju,[r.createElementVNode("source",{src:l.file.url,type:l.file.mime},null,8,Qu)],512)):l.file.type=="text"?(r.openBlock(),r.createElementBlock("pre",qu,[r.createElementVNode("code",{textContent:r.toDisplayString(l.file.meta.source)},null,8,$u)])):l.file.type=="pdf"?(r.openBlock(),r.createElementBlock("object",{key:4,data:l.file.url,type:"application/pdf",width:"100%",height:"300"},[r.createElementVNode("iframe",{src:l.file.url,width:"100%",height:"100%",style:{border:"none"}},`
                    <object class="no-preview" v-html="file.image"></object>
                `,8,tf)],8,ef)):(r.openBlock(),r.createBlock(d,{key:5,type:r.unref(Ur)[l.file.type]||r.unref(Ur).text,width:"64",height:"64"},null,8,["type"]))],2)}}}),vy="",rf=r.createElementVNode("div",{class:"flex-grow"},null,-1),af={class:"px-4 font-bold text-sm mt-2"},of={class:"table table-fixed text-left w-full"},sf={key:0},lf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900",style:{width:"115px"}},cf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900 break-word whitespace-normal line-4",style:{width:"100%"}},uf={key:1},ff={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},pf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},df={key:2},hf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},gf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},mf={key:0},vf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},_f={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},yf={key:1},bf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},wf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},kf={key:4},xf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},Ef={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900 break-word whitespace-normal line-4"},Cf={class:"break-words",style:{"word-break":"break-all"}},Sf={key:5},Df=r.createElementVNode("td",{class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900"},null,-1),Nf={class:"p-2 text-sm border-t border-gray-100 dark:border-gray-700 cursor-pointer td-fit pl-4 pr-4 dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-900 break-word whitespace-normal line-4"},Of=["href"],Tf={__name:"BrowserDetailModal",props:{modal:{type:Object,required:!0}},setup(l){const v=l,i=lt(),d=r.computed(()=>v.modal.payload),S=r.computed(()=>i.isSelected(d.value));function H(){i.toggleSelection(d.value),!i.multiple&&i.selecting&&S.value&&i.confirmSelection()}function M(){d.value.type==="archive"&&i.unarchive(d.value.path)}function I(){i.duplicate(d.value.path)}function Y(){i.openModal(He.CROP,d.value)}function V(){i.openModal(He.DELETE,{type:ot.FILE,[ot.FILE]:d.value})}function z(){i.openModal(He.RENAME,d.value)}function K(P){var g=document.createElement("textarea");g.value=P,g.style.top="0",g.style.left="0",g.style.position="fixed",document.body.appendChild(g),g.focus(),g.select();let D=null;try{var O=document.execCommand("copy");D=!!O;var C=O?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+C)}catch(y){D=!1,console.error("Fallback: Oops, unable to copy",y)}return document.body.removeChild(g),D}function re(){if(!navigator.clipboard){if(!K(d.value.url))return;Nova.success("Text copied to clipboard")}navigator.clipboard.writeText(d.value.url).then(()=>Nova.success("Text copied to clipboard"),P=>console.error("Async: Could not copy text: ",P))}return(P,g)=>{const D=r.resolveComponent("Icon"),O=r.resolveDirective("tooltip");return r.openBlock(),r.createBlock(Zn,{modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(P.__("Details")),1),rf,r.unref(i).selecting?r.withDirectives((r.openBlock(),r.createBlock(mt,{key:0,class:"ml-3 text-green-500",active:S.value,type:"check",onClick:r.withModifiers(H,["prevent"])},null,8,["active","onClick"])),[[O,P.__("Select")]]):r.createCommentVNode("",!0),d.value.type==="image"?r.withDirectives((r.openBlock(),r.createBlock(mt,{key:1,type:"camera",onClick:r.withModifiers(Y,["prevent"])},null,8,["onClick"])),[[O,P.__("Crop")]]):r.createCommentVNode("",!0),d.value.type==="archive"?r.withDirectives((r.openBlock(),r.createBlock(mt,{key:2,type:"archive",onClick:r.withModifiers(M,["prevent"])},null,8,["onClick"])),[[O,P.__("Unarchive")]]):r.createCommentVNode("",!0),r.withDirectives(r.createVNode(mt,{type:"duplicate",onClick:r.withModifiers(I,["prevent"])},null,8,["onClick"]),[[O,P.__("Duplicate")]]),r.withDirectives(r.createVNode(mt,{type:"pencil",onClick:r.withModifiers(z,["prevent"])},null,8,["onClick"]),[[O,P.__("Rename")]]),r.withDirectives(r.createVNode(mt,{class:"text-red-500",type:"trash",onClick:r.withModifiers(V,["prevent"])},null,8,["onClick"]),[[O,P.__("Delete")]])]),default:r.withCtx(()=>[r.createElementVNode("div",af,r.toDisplayString(d.value.name),1),r.createVNode(nf,{class:"my-4",file:d.value},null,8,["file"]),r.createElementVNode("table",of,[d.value.mime?(r.openBlock(),r.createElementBlock("tr",sf,[r.createElementVNode("td",lf,r.toDisplayString(P.__("Mime"))+": ",1),r.createElementVNode("td",cf,r.toDisplayString(d.value.mime),1)])):r.createCommentVNode("",!0),d.value.lastModifiedReadable?(r.openBlock(),r.createElementBlock("tr",uf,[r.createElementVNode("td",ff,r.toDisplayString(P.__("Midified At"))+": ",1),r.createElementVNode("td",pf,r.toDisplayString(d.value.lastModifiedReadable),1)])):r.createCommentVNode("",!0),d.value.sizeReadable?(r.openBlock(),r.createElementBlock("tr",df,[r.createElementVNode("td",hf,r.toDisplayString(P.__("Size"))+": ",1),r.createElementVNode("td",gf,r.toDisplayString(d.value.sizeReadable),1)])):r.createCommentVNode("",!0),d.value.meta?(r.openBlock(),r.createElementBlock(r.Fragment,{key:3},[d.value.meta.width&&d.value.meta.height?(r.openBlock(),r.createElementBlock("tr",mf,[r.createElementVNode("td",vf,r.toDisplayString(P.__("Dimensions"))+": ",1),r.createElementVNode("td",_f,r.toDisplayString(d.value.meta.width)+"x"+r.toDisplayString(d.value.meta.height),1)])):r.createCommentVNode("",!0),d.value.meta.aspectRatio?(r.openBlock(),r.createElementBlock("tr",yf,[r.createElementVNode("td",bf,r.toDisplayString(P.__("Aspect Ratio"))+": ",1),r.createElementVNode("td",wf,r.toDisplayString(d.value.meta.aspectRatio),1)])):r.createCommentVNode("",!0)],64)):r.createCommentVNode("",!0),d.value.url?(r.openBlock(),r.createElementBlock("tr",kf,[r.createElementVNode("td",xf,r.toDisplayString(P.__("Url"))+": ",1),r.createElementVNode("td",Ef,[r.createElementVNode("div",{class:"inline-flex items-start leading-4 cursor-pointer hover:opacity-50",onClick:re},[r.createVNode(D,{width:"16",height:"16",type:"clipboard",class:"mr-2 flex-shrink-0"}),r.createElementVNode("span",Cf,r.toDisplayString(d.value.url),1)])])])):r.createCommentVNode("",!0),d.value.url?(r.openBlock(),r.createElementBlock("tr",Sf,[Df,r.createElementVNode("td",Nf,[r.createElementVNode("a",{class:"flex justify-start hover:opacity-50",href:d.value.url,download:""},[r.createVNode(D,{width:"16",height:"16",type:"download",class:"mr-2 flex-shrink-0"}),r.createTextVNode(" "+r.toDisplayString(P.__("Download")),1)],8,Of)])])):r.createCommentVNode("",!0)])]),_:1},8,["modal"])}}},Bf={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg px-2 flex items-center text-xs h-8 w-full"},Af={key:0},Rf=[r.createElementVNode("span",{class:"px-2"},"/",-1)],Mf={href:"#"},If=["onClick"],Lf=[r.createElementVNode("span",{class:"px-2"},"/",-1)],Pf={__name:"BrowserBreadcrumbs",emits:["goToPath"],setup(l,{emit:v}){const i=lt();function d(S){i.setPath(S)}return(S,H)=>{const M=r.resolveComponent("Icon");return r.unref(i).data?.breadcrumbs?.length>0?(r.openBlock(),r.createElementBlock("nav",Bf,[r.createElementVNode("div",{onClick:H[0]||(H[0]=I=>d("/")),class:"h-6 flex items-center cursor-pointer text-gray-400 dark:text-gray-200 hover:text-primary-500"},[r.createVNode(M,{type:"home",width:"16",height:"16"})]),r.unref(i).data.breadcrumbs.length>0?(r.openBlock(),r.createElementBlock("div",Af,Rf)):r.createCommentVNode("",!0),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(i).data.breadcrumbs,I=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:I.id},[I.current?(r.openBlock(),r.createElementBlock("div",{key:I.id,class:"text-gray-800 dark:text-gray-200"},[r.createElementVNode("span",Mf,r.toDisplayString(I.name),1)])):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[(r.openBlock(),r.createElementBlock("div",{key:I.id},[r.createElementVNode("span",{href:"#",class:"cursor-pointer text-gray-400 dark:text-gray-200 hover:text-primary-500",onClick:Y=>d(I.path)},r.toDisplayString(I.name),9,If)])),(r.openBlock(),r.createElementBlock("div",{key:I.id+"_separator"},Lf))],64))],64))),128))])):r.createCommentVNode("",!0)}}},Ff={key:0,class:"absolute inset-0 bg-gray-500/75 dark:bg-gray-900/75 rounded-lg"},mr={__name:"Button",props:{theme:String,loading:Boolean},setup(l){return(v,i)=>{const d=r.resolveComponent("Loader");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["shadow relative h-10 px-4 rounded-lg bg-primary-500 text-white text-white flex items-center text-center cursor-pointer hover:opacity-75 transition",{"bg-red-500":l.theme==="danger","bg-yellow-500":l.theme==="warning","bg-blue-500":l.theme==="info","bg-green-500":l.theme==="success","bg-gray-200 !text-gray-900 dark:bg-gray-700 dark:!text-gray-300":l.theme==="gray","pointer-events-none":l.loading}])},[r.renderSlot(v.$slots,"default"),l.loading?(r.openBlock(),r.createElementBlock("div",Ff)):r.createCommentVNode("",!0),l.loading?(r.openBlock(),r.createBlock(d,{key:1,class:"absolute inset-0 m-auto text-white",width:"32"})):r.createCommentVNode("",!0)],2)}}},Vf={class:"p-6"},Uf=["placeholder","onKeyup"],zf={key:0,class:"mt-2 text-red-500"},Wf={class:"flex items-center mt-6"},Hf={__name:"CreateFolderModal",props:{modal:{type:Object,required:!0}},setup(l){const v=l,i=lt(),d=r.ref(),S=r.ref(),H=r.ref(!1);function M(){if(!d.value)return S.value="The folder name is required",!1;H.value=!0;const Y=V=>{d.value=null,H.value=!1,S.value=!V.errors||V.errors.length<=0?null:V.message};return i.createFolder(`${i.path}/${d.value}`).then(V=>Y(V.response&&V.response.data?V.response.data:V)).catch(V=>Y(V.response&&V.response.data?V.response.data:V))}function I(){i.closeModal(v.modal.id),S.value=null,d.value=null}return(Y,V)=>(r.openBlock(),r.createBlock(Zn,{modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(Y.__("Create folder")),1)]),default:r.withCtx(()=>[r.createElementVNode("div",Vf,[r.withDirectives(r.createElementVNode("input",{type:"text",class:"appearance-none w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-800 h-10 px-3 rounded-lg",placeholder:Y.__("Write a folder name"),"onUpdate:modelValue":V[0]||(V[0]=z=>d.value=z),autofocus:"",required:"",onKeyup:r.withKeys(M,["enter"])},null,40,Uf),[[r.vModelText,d.value]]),S.value?(r.openBlock(),r.createElementBlock("p",zf,r.toDisplayString(S.value),1)):r.createCommentVNode("",!0),r.createElementVNode("div",Wf,[r.createVNode(mr,{theme:"gray",class:"mr-3",onClick:r.withModifiers(I,["prevent"])},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(Y.__("Cancel")),1)]),_:1},8,["onClick"]),r.createVNode(mr,{type:"submit",disabled:H.value,loading:H.value,onClick:r.withModifiers(M,["prevent"])},{default:r.withCtx(()=>[H.value?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createTextVNode(r.toDisplayString(Y.__("Creating")),1)],64)):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(Y.__("Create")),1)],64))]),_:1},8,["disabled","loading","onClick"])])])]),_:1},8,["modal"]))}},Gf={key:0,class:"p-6"},Xf=["placeholder","value"],jf={key:1,class:"p-6"},Yf={class:"flex w-full relative"},Kf=["placeholder","value"],Zf={class:"flex items-center leading-normal bg-gray-50 dark:bg-gray-900 ml-3 rounded-lg px-3 whitespace-no-wrap text-grey-dark text-sm"},Jf={key:0,class:"my-2 text-red-500"},Qf={__name:"RenameModal",props:{modal:{type:Object,required:!0}},setup(l){const v=l,i=lt(),d=r.computed(()=>v.modal.payload),S=r.computed(()=>d.value.type==="folder"),H=r.computed(()=>d.value.name.replace(/^.*[\\/]/,"")),M=r.computed(()=>{if(!S.value){var g=/(?:\.([^.]+))?$/;let D=g.exec(H.value);if(D)return D[0]}return""}),I=r.computed(()=>H.value.replace(M.value,"")),Y=r.ref(),V=r.ref(),z=r.ref(!1);function K(){i.closeModal(v.modal.id),Y.value=null}function re(){const g=V.value.value;if(!g)return Y.value="The name is required",!1;let D=S.value?g:g+M.value;if(!D)return Y.value="The name is required",!1;const O=(d.value.path.substring(0,d.value.path.lastIndexOf("/"))+"/"+D).replace(/^\/+/,"");return(S.value?i.renameFolder(d.value.path,O):i.renameFile(d.value.path,O)).then(C=>P(C.response&&C.response.data?C.response.data:C)).catch(C=>P(C.response&&C.response.data?C.response.data:C))}function P(g){Y.value=!g.errors||g.errors.length<=0?null:g.message}return(g,D)=>(r.openBlock(),r.createBlock(Zn,{modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(g.__(S.value?"Rename folder":"Rename file")),1)]),footer:r.withCtx(()=>[r.createVNode(mr,{theme:"gray",class:"mr-3",onClick:r.withModifiers(K,["prevent"])},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(g.__("Cancel")),1)]),_:1},8,["onClick"]),r.createVNode(mr,{type:"submit",disabled:z.value,loading:z.value,onClick:r.withModifiers(re,["prevent"])},{default:r.withCtx(()=>[z.value?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createTextVNode(r.toDisplayString(g.__("Renaming")),1)],64)):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(g.__("Rename")),1)],64))]),_:1},8,["disabled","loading","onClick"])]),default:r.withCtx(()=>[S.value?(r.openBlock(),r.createElementBlock("div",Gf,[r.createElementVNode("input",{ref_key:"input",ref:V,type:"text",class:"appearance-none w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-800 h-10 px-3 rounded-lg",placeholder:H.value,value:H.value,autofocus:"",required:""},null,8,Xf)])):(r.openBlock(),r.createElementBlock("div",jf,[r.createElementVNode("div",Yf,[r.createElementVNode("input",{ref_key:"input",ref:V,type:"text",class:"appearance-none w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-800 h-10 px-3 rounded-lg",placeholder:I.value,value:I.value,autofocus:"",required:""},null,8,Kf),r.createElementVNode("span",Zf,r.toDisplayString(M.value),1)]),Y.value?(r.openBlock(),r.createElementBlock("p",Jf,r.toDisplayString(Y.value),1)):r.createCommentVNode("",!0)]))]),_:1},8,["modal"]))}},qf={class:"p-6"},$f={class:"text-sm mt-2"},ep={class:"text-sm mt-2"},tp={class:"text-sm mt-2"},np={__name:"DeleteModal",props:{modal:{type:Object,required:!0}},setup(l){const v=l,i=lt(),d=r.ref(),S=r.ref(!1);function H(){i.closeModal(v.modal.id),d.value=null}async function M(){return S.value=!0,I().then(V=>Y(V.response&&V.response.data?V.response.data:V)).catch(V=>Y(V.response&&V.response.data?V.response.data:V))}async function I(){switch(v.modal.payload.type){case ot.FOLDER:return i.deleteFolder(v.modal.payload[ot.FOLDER].path);case ot.FILE:return i.deleteFiles([v.modal.payload[ot.FILE].path]);case ot.FILES:return i.deleteFiles(v.modal.payload[ot.FILES].map(V=>V.path))}}function Y(V){S.value=!1,d.value=!V.errors||V.errors.length<=0?null:V.message}return(V,z)=>(r.openBlock(),r.createBlock(Zn,{modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(V.__("Delete")),1)]),footer:r.withCtx(()=>[r.createVNode(mr,{theme:"gray",class:"mr-3",onClick:r.withModifiers(H,["prevent"])},{default:r.withCtx(()=>[r.createTextVNode(r.toDisplayString(V.__("Cancel")),1)]),_:1},8,["onClick"]),r.createVNode(mr,{theme:"danger",disabled:S.value,loading:S.value,onClick:r.withModifiers(M,["prevent"])},{default:r.withCtx(()=>[S.value?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createTextVNode(r.toDisplayString(V.__("Deleting")),1)],64)):(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createTextVNode(r.toDisplayString(V.__("Delete")),1)],64))]),_:1},8,["disabled","loading","onClick"])]),default:r.withCtx(()=>[r.createElementVNode("div",qf,[l.modal.payload.type===r.unref(ot).FOLDER?(r.openBlock(),r.createElementBlock(r.Fragment,{key:0},[r.createElementVNode("p",null,r.toDisplayString(V.__("Are you sure you want to remove this folder?")),1),r.createElementVNode("p",$f,r.toDisplayString(V.__("Remember: The folder and all his contents will be delete from your storage")),1)],64)):l.modal.payload.type===r.unref(ot).FILE?(r.openBlock(),r.createElementBlock(r.Fragment,{key:1},[r.createElementVNode("p",null,r.toDisplayString(V.__("Are you sure you want to remove this file?")),1),r.createElementVNode("p",ep,r.toDisplayString(V.__("Remember: The file will be delete from your storage")),1)],64)):l.modal.payload.type===r.unref(ot).FILES?(r.openBlock(),r.createElementBlock(r.Fragment,{key:2},[r.createElementVNode("p",null,r.toDisplayString(V.__("Are you sure you want to remove this files?")),1),r.createElementVNode("p",tp,r.toDisplayString(V.__("Remember: The files will be delete from your storage")),1)],64)):r.createCommentVNode("",!0)])]),_:1},8,["modal"]))}};var fs={},ps={exports:{}};/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */(function(l,v){(function(i,d){l.exports=d()})(pr,function(){function i(h,o){var u=Object.keys(h);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(h);o&&(c=c.filter(function(w){return Object.getOwnPropertyDescriptor(h,w).enumerable})),u.push.apply(u,c)}return u}function d(h){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?i(Object(u),!0).forEach(function(c){Y(h,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)):i(Object(u)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(u,c))})}return h}function S(h){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},S(h)}function H(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function M(h,o){for(var u=0;u<o.length;u++){var c=o[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}function I(h,o,u){return o&&M(h.prototype,o),u&&M(h,u),Object.defineProperty(h,"prototype",{writable:!1}),h}function Y(h,o,u){return o in h?Object.defineProperty(h,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):h[o]=u,h}function V(h){return z(h)||K(h)||re(h)||g()}function z(h){if(Array.isArray(h))return P(h)}function K(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function re(h,o){if(h){if(typeof h=="string")return P(h,o);var u=Object.prototype.toString.call(h).slice(8,-1);if(u==="Object"&&h.constructor&&(u=h.constructor.name),u==="Map"||u==="Set")return Array.from(h);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return P(h,o)}}function P(h,o){(o==null||o>h.length)&&(o=h.length);for(var u=0,c=new Array(o);u<o;u++)c[u]=h[u];return c}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=typeof window<"u"&&typeof window.document<"u",O=D?window:{},C=D&&O.document.documentElement?"ontouchstart"in O.document.documentElement:!1,y=D?"PointerEvent"in O:!1,te="cropper",Q="all",q="crop",oe="move",ie="zoom",ae="e",de="w",ee="s",he="n",Oe="ne",Ye="nw",Ue="se",Fe="sw",Ft="".concat(te,"-crop"),Te="".concat(te,"-disabled"),ge="".concat(te,"-hidden"),on="".concat(te,"-hide"),vn="".concat(te,"-invisible"),rt="".concat(te,"-modal"),Ln="".concat(te,"-move"),sn="".concat(te,"Action"),_n="".concat(te,"Preview"),Nt="crop",yn="move",vr="none",Vt="crop",Ut="cropend",ln="cropmove",cn="cropstart",un="dblclick",ct=C?"touchstart":"mousedown",vt=C?"touchmove":"mousemove",bn=C?"touchend touchcancel":"mouseup",_r=y?"pointerdown":ct,kt=y?"pointermove":vt,Jn=y?"pointerup pointercancel":bn,yr="ready",fn="resize",Ge="wheel",Z="zoom",ue="image/jpeg",Be=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ut=/^data:/,ft=/^data:image\/jpeg;base64,/,Ot=/^img|canvas$/i,wn=200,br=100,wr={viewMode:0,dragMode:Nt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:wn,minContainerHeight:br,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},zr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Wr=Number.isNaN||O.isNaN;function ve(h){return typeof h=="number"&&!Wr(h)}var kr=function(o){return o>0&&o<1/0};function Qn(h){return typeof h>"u"}function qt(h){return S(h)==="object"&&h!==null}var Hr=Object.prototype.hasOwnProperty;function Pn(h){if(!qt(h))return!1;try{var o=h.constructor,u=o.prototype;return o&&u&&Hr.call(u,"isPrototypeOf")}catch{return!1}}function pt(h){return typeof h=="function"}var Di=Array.prototype.slice;function Gr(h){return Array.from?Array.from(h):Di.call(h)}function ze(h,o){return h&&pt(o)&&(Array.isArray(h)||ve(h.length)?Gr(h).forEach(function(u,c){o.call(h,u,c,h)}):qt(h)&&Object.keys(h).forEach(function(u){o.call(h,h[u],u,h)})),h}var Pe=Object.assign||function(o){for(var u=arguments.length,c=new Array(u>1?u-1:0),w=1;w<u;w++)c[w-1]=arguments[w];return qt(o)&&c.length>0&&c.forEach(function(_){qt(_)&&Object.keys(_).forEach(function(k){o[k]=_[k]})}),o},Ni=/\.\d*(?:0|9){12}\d*$/;function Fn(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Ni.test(h)?Math.round(h*o)/o:h}var Oi=/^width|height|left|top|marginLeft|marginTop$/;function $t(h,o){var u=h.style;ze(o,function(c,w){Oi.test(w)&&ve(c)&&(c="".concat(c,"px")),u[w]=c})}function Ti(h,o){return h.classList?h.classList.contains(o):h.className.indexOf(o)>-1}function qe(h,o){if(o){if(ve(h.length)){ze(h,function(c){qe(c,o)});return}if(h.classList){h.classList.add(o);return}var u=h.className.trim();u?u.indexOf(o)<0&&(h.className="".concat(u," ").concat(o)):h.className=o}}function zt(h,o){if(o){if(ve(h.length)){ze(h,function(u){zt(u,o)});return}if(h.classList){h.classList.remove(o);return}h.className.indexOf(o)>=0&&(h.className=h.className.replace(o,""))}}function pn(h,o,u){if(o){if(ve(h.length)){ze(h,function(c){pn(c,o,u)});return}u?qe(h,o):zt(h,o)}}var Bi=/([a-z\d])([A-Z])/g;function qn(h){return h.replace(Bi,"$1-$2").toLowerCase()}function Xr(h,o){return qt(h[o])?h[o]:h.dataset?h.dataset[o]:h.getAttribute("data-".concat(qn(o)))}function $n(h,o,u){qt(u)?h[o]=u:h.dataset?h.dataset[o]=u:h.setAttribute("data-".concat(qn(o)),u)}function Ai(h,o){if(qt(h[o]))try{delete h[o]}catch{h[o]=void 0}else if(h.dataset)try{delete h.dataset[o]}catch{h.dataset[o]=void 0}else h.removeAttribute("data-".concat(qn(o)))}var wa=/\s\s*/,ka=function(){var h=!1;if(D){var o=!1,u=function(){},c=Object.defineProperty({},"once",{get:function(){return h=!0,o},set:function(_){o=_}});O.addEventListener("test",u,c),O.removeEventListener("test",u,c)}return h}();function Tt(h,o,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=u;o.trim().split(wa).forEach(function(_){if(!ka){var k=h.listeners;k&&k[_]&&k[_][u]&&(w=k[_][u],delete k[_][u],Object.keys(k[_]).length===0&&delete k[_],Object.keys(k).length===0&&delete h.listeners)}h.removeEventListener(_,w,c)})}function xt(h,o,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=u;o.trim().split(wa).forEach(function(_){if(c.once&&!ka){var k=h.listeners,T=k===void 0?{}:k;w=function(){delete T[_][u],h.removeEventListener(_,w,c);for(var U=arguments.length,B=new Array(U),A=0;A<U;A++)B[A]=arguments[A];u.apply(h,B)},T[_]||(T[_]={}),T[_][u]&&h.removeEventListener(_,T[_][u],c),T[_][u]=w,h.listeners=T}h.addEventListener(_,w,c)})}function Vn(h,o,u){var c;return pt(Event)&&pt(CustomEvent)?c=new CustomEvent(o,{detail:u,bubbles:!0,cancelable:!0}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(o,!0,!0,u)),h.dispatchEvent(c)}function jr(h){var o=h.getBoundingClientRect();return{left:o.left+(window.pageXOffset-document.documentElement.clientLeft),top:o.top+(window.pageYOffset-document.documentElement.clientTop)}}var Yr=O.location,Ri=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function xa(h){var o=h.match(Ri);return o!==null&&(o[1]!==Yr.protocol||o[2]!==Yr.hostname||o[3]!==Yr.port)}function Ea(h){var o="timestamp=".concat(new Date().getTime());return h+(h.indexOf("?")===-1?"?":"&")+o}function er(h){var o=h.rotate,u=h.scaleX,c=h.scaleY,w=h.translateX,_=h.translateY,k=[];ve(w)&&w!==0&&k.push("translateX(".concat(w,"px)")),ve(_)&&_!==0&&k.push("translateY(".concat(_,"px)")),ve(o)&&o!==0&&k.push("rotate(".concat(o,"deg)")),ve(u)&&u!==1&&k.push("scaleX(".concat(u,")")),ve(c)&&c!==1&&k.push("scaleY(".concat(c,")"));var T=k.length?k.join(" "):"none";return{WebkitTransform:T,msTransform:T,transform:T}}function Mi(h){var o=d({},h),u=0;return ze(h,function(c,w){delete o[w],ze(o,function(_){var k=Math.abs(c.startX-_.startX),T=Math.abs(c.startY-_.startY),X=Math.abs(c.endX-_.endX),U=Math.abs(c.endY-_.endY),B=Math.sqrt(k*k+T*T),A=Math.sqrt(X*X+U*U),G=(A-B)/B;Math.abs(G)>Math.abs(u)&&(u=G)})}),u}function kn(h,o){var u=h.pageX,c=h.pageY,w={endX:u,endY:c};return o?w:d({startX:u,startY:c},w)}function Ii(h){var o=0,u=0,c=0;return ze(h,function(w){var _=w.startX,k=w.startY;o+=_,u+=k,c+=1}),o/=c,u/=c,{pageX:o,pageY:u}}function Bt(h){var o=h.aspectRatio,u=h.height,c=h.width,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",_=kr(c),k=kr(u);if(_&&k){var T=u*o;w==="contain"&&T>c||w==="cover"&&T<c?u=c/o:c=u*o}else _?u=c/o:k&&(c=u*o);return{width:c,height:u}}function Li(h){var o=h.width,u=h.height,c=h.degree;if(c=Math.abs(c)%180,c===90)return{width:u,height:o};var w=c%90*Math.PI/180,_=Math.sin(w),k=Math.cos(w),T=o*k+u*_,X=o*_+u*k;return c>90?{width:X,height:T}:{width:T,height:X}}function Pi(h,o,u,c){var w=o.aspectRatio,_=o.naturalWidth,k=o.naturalHeight,T=o.rotate,X=T===void 0?0:T,U=o.scaleX,B=U===void 0?1:U,A=o.scaleY,G=A===void 0?1:A,ke=u.aspectRatio,we=u.naturalWidth,Ie=u.naturalHeight,De=c.fillColor,Ke=De===void 0?"transparent":De,$e=c.imageSmoothingEnabled,Xe=$e===void 0?!0:$e,Wt=c.imageSmoothingQuality,_t=Wt===void 0?"low":Wt,j=c.maxWidth,Ne=j===void 0?1/0:j,Ze=c.maxHeight,dt=Ze===void 0?1/0:Ze,en=c.minWidth,xn=en===void 0?0:en,En=c.minHeight,dn=En===void 0?0:En,Ht=document.createElement("canvas"),_e=Ht.getContext("2d"),Se=Bt({aspectRatio:ke,width:Ne,height:dt}),xr=Bt({aspectRatio:ke,width:xn,height:dn},"cover"),Zr=Math.min(Se.width,Math.max(xr.width,we)),Jr=Math.min(Se.height,Math.max(xr.height,Ie)),Ra=Bt({aspectRatio:w,width:Ne,height:dt}),Ma=Bt({aspectRatio:w,width:xn,height:dn},"cover"),Ia=Math.min(Ra.width,Math.max(Ma.width,_)),Qr=Math.min(Ra.height,Math.max(Ma.height,k)),Hi=[-Ia/2,-Qr/2,Ia,Qr];return Ht.width=Fn(Zr),Ht.height=Fn(Jr),_e.fillStyle=Ke,_e.fillRect(0,0,Zr,Jr),_e.save(),_e.translate(Zr/2,Jr/2),_e.rotate(X*Math.PI/180),_e.scale(B,G),_e.imageSmoothingEnabled=Xe,_e.imageSmoothingQuality=_t,_e.drawImage.apply(_e,[h].concat(V(Hi.map(function(et){return Math.floor(Fn(et))})))),_e.restore(),Ht}var Ca=String.fromCharCode;function Sa(h,o,u){var c="";u+=o;for(var w=o;w<u;w+=1)c+=Ca(h.getUint8(w));return c}var Da=/^data:.*,/;function Na(h){var o=h.replace(Da,""),u=atob(o),c=new ArrayBuffer(u.length),w=new Uint8Array(c);return ze(w,function(_,k){w[k]=u.charCodeAt(k)}),c}function Fi(h,o){for(var u=[],c=8192,w=new Uint8Array(h);w.length>0;)u.push(Ca.apply(null,Gr(w.subarray(0,c)))),w=w.subarray(c);return"data:".concat(o,";base64,").concat(btoa(u.join("")))}function Vi(h){var o=new DataView(h),u;try{var c,w,_;if(o.getUint8(0)===255&&o.getUint8(1)===216)for(var k=o.byteLength,T=2;T+1<k;){if(o.getUint8(T)===255&&o.getUint8(T+1)===225){w=T;break}T+=1}if(w){var X=w+4,U=w+10;if(Sa(o,X,4)==="Exif"){var B=o.getUint16(U);if(c=B===18761,(c||B===19789)&&o.getUint16(U+2,c)===42){var A=o.getUint32(U+4,c);A>=8&&(_=U+A)}}}if(_){var G=o.getUint16(_,c),ke,we;for(we=0;we<G;we+=1)if(ke=_+we*12+2,o.getUint16(ke,c)===274){ke+=8,u=o.getUint16(ke,c),o.setUint16(ke,1,c);break}}}catch{u=1}return u}function Ui(h){var o=0,u=1,c=1;switch(h){case 2:u=-1;break;case 3:o=-180;break;case 4:c=-1;break;case 5:o=90,c=-1;break;case 6:o=90;break;case 7:o=90,u=-1;break;case 8:o=-90;break}return{rotate:o,scaleX:u,scaleY:c}}var zi={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var o=this.element,u=this.options,c=this.container,w=this.cropper,_=Number(u.minContainerWidth),k=Number(u.minContainerHeight);qe(w,ge),zt(o,ge);var T={width:Math.max(c.offsetWidth,_>=0?_:wn),height:Math.max(c.offsetHeight,k>=0?k:br)};this.containerData=T,$t(w,{width:T.width,height:T.height}),qe(o,ge),zt(w,ge)},initCanvas:function(){var o=this.containerData,u=this.imageData,c=this.options.viewMode,w=Math.abs(u.rotate)%180===90,_=w?u.naturalHeight:u.naturalWidth,k=w?u.naturalWidth:u.naturalHeight,T=_/k,X=o.width,U=o.height;o.height*T>o.width?c===3?X=o.height*T:U=o.width/T:c===3?U=o.width/T:X=o.height*T;var B={aspectRatio:T,naturalWidth:_,naturalHeight:k,width:X,height:U};this.canvasData=B,this.limited=c===1||c===2,this.limitCanvas(!0,!0),B.width=Math.min(Math.max(B.width,B.minWidth),B.maxWidth),B.height=Math.min(Math.max(B.height,B.minHeight),B.maxHeight),B.left=(o.width-B.width)/2,B.top=(o.height-B.height)/2,B.oldLeft=B.left,B.oldTop=B.top,this.initialCanvasData=Pe({},B)},limitCanvas:function(o,u){var c=this.options,w=this.containerData,_=this.canvasData,k=this.cropBoxData,T=c.viewMode,X=_.aspectRatio,U=this.cropped&&k;if(o){var B=Number(c.minCanvasWidth)||0,A=Number(c.minCanvasHeight)||0;T>1?(B=Math.max(B,w.width),A=Math.max(A,w.height),T===3&&(A*X>B?B=A*X:A=B/X)):T>0&&(B?B=Math.max(B,U?k.width:0):A?A=Math.max(A,U?k.height:0):U&&(B=k.width,A=k.height,A*X>B?B=A*X:A=B/X));var G=Bt({aspectRatio:X,width:B,height:A});B=G.width,A=G.height,_.minWidth=B,_.minHeight=A,_.maxWidth=1/0,_.maxHeight=1/0}if(u)if(T>(U?0:1)){var ke=w.width-_.width,we=w.height-_.height;_.minLeft=Math.min(0,ke),_.minTop=Math.min(0,we),_.maxLeft=Math.max(0,ke),_.maxTop=Math.max(0,we),U&&this.limited&&(_.minLeft=Math.min(k.left,k.left+(k.width-_.width)),_.minTop=Math.min(k.top,k.top+(k.height-_.height)),_.maxLeft=k.left,_.maxTop=k.top,T===2&&(_.width>=w.width&&(_.minLeft=Math.min(0,ke),_.maxLeft=Math.max(0,ke)),_.height>=w.height&&(_.minTop=Math.min(0,we),_.maxTop=Math.max(0,we))))}else _.minLeft=-_.width,_.minTop=-_.height,_.maxLeft=w.width,_.maxTop=w.height},renderCanvas:function(o,u){var c=this.canvasData,w=this.imageData;if(u){var _=Li({width:w.naturalWidth*Math.abs(w.scaleX||1),height:w.naturalHeight*Math.abs(w.scaleY||1),degree:w.rotate||0}),k=_.width,T=_.height,X=c.width*(k/c.naturalWidth),U=c.height*(T/c.naturalHeight);c.left-=(X-c.width)/2,c.top-=(U-c.height)/2,c.width=X,c.height=U,c.aspectRatio=k/T,c.naturalWidth=k,c.naturalHeight=T,this.limitCanvas(!0,!1)}(c.width>c.maxWidth||c.width<c.minWidth)&&(c.left=c.oldLeft),(c.height>c.maxHeight||c.height<c.minHeight)&&(c.top=c.oldTop),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),this.limitCanvas(!1,!0),c.left=Math.min(Math.max(c.left,c.minLeft),c.maxLeft),c.top=Math.min(Math.max(c.top,c.minTop),c.maxTop),c.oldLeft=c.left,c.oldTop=c.top,$t(this.canvas,Pe({width:c.width,height:c.height},er({translateX:c.left,translateY:c.top}))),this.renderImage(o),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(o){var u=this.canvasData,c=this.imageData,w=c.naturalWidth*(u.width/u.naturalWidth),_=c.naturalHeight*(u.height/u.naturalHeight);Pe(c,{width:w,height:_,left:(u.width-w)/2,top:(u.height-_)/2}),$t(this.image,Pe({width:c.width,height:c.height},er(Pe({translateX:c.left,translateY:c.top},c)))),o&&this.output()},initCropBox:function(){var o=this.options,u=this.canvasData,c=o.aspectRatio||o.initialAspectRatio,w=Number(o.autoCropArea)||.8,_={width:u.width,height:u.height};c&&(u.height*c>u.width?_.height=_.width/c:_.width=_.height*c),this.cropBoxData=_,this.limitCropBox(!0,!0),_.width=Math.min(Math.max(_.width,_.minWidth),_.maxWidth),_.height=Math.min(Math.max(_.height,_.minHeight),_.maxHeight),_.width=Math.max(_.minWidth,_.width*w),_.height=Math.max(_.minHeight,_.height*w),_.left=u.left+(u.width-_.width)/2,_.top=u.top+(u.height-_.height)/2,_.oldLeft=_.left,_.oldTop=_.top,this.initialCropBoxData=Pe({},_)},limitCropBox:function(o,u){var c=this.options,w=this.containerData,_=this.canvasData,k=this.cropBoxData,T=this.limited,X=c.aspectRatio;if(o){var U=Number(c.minCropBoxWidth)||0,B=Number(c.minCropBoxHeight)||0,A=T?Math.min(w.width,_.width,_.width+_.left,w.width-_.left):w.width,G=T?Math.min(w.height,_.height,_.height+_.top,w.height-_.top):w.height;U=Math.min(U,w.width),B=Math.min(B,w.height),X&&(U&&B?B*X>U?B=U/X:U=B*X:U?B=U/X:B&&(U=B*X),G*X>A?G=A/X:A=G*X),k.minWidth=Math.min(U,A),k.minHeight=Math.min(B,G),k.maxWidth=A,k.maxHeight=G}u&&(T?(k.minLeft=Math.max(0,_.left),k.minTop=Math.max(0,_.top),k.maxLeft=Math.min(w.width,_.left+_.width)-k.width,k.maxTop=Math.min(w.height,_.top+_.height)-k.height):(k.minLeft=0,k.minTop=0,k.maxLeft=w.width-k.width,k.maxTop=w.height-k.height))},renderCropBox:function(){var o=this.options,u=this.containerData,c=this.cropBoxData;(c.width>c.maxWidth||c.width<c.minWidth)&&(c.left=c.oldLeft),(c.height>c.maxHeight||c.height<c.minHeight)&&(c.top=c.oldTop),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),this.limitCropBox(!1,!0),c.left=Math.min(Math.max(c.left,c.minLeft),c.maxLeft),c.top=Math.min(Math.max(c.top,c.minTop),c.maxTop),c.oldLeft=c.left,c.oldTop=c.top,o.movable&&o.cropBoxMovable&&$n(this.face,sn,c.width>=u.width&&c.height>=u.height?oe:Q),$t(this.cropBox,Pe({width:c.width,height:c.height},er({translateX:c.left,translateY:c.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Vn(this.element,Vt,this.getData())}},Oa={initPreview:function(){var o=this.element,u=this.crossOrigin,c=this.options.preview,w=u?this.crossOriginUrl:this.url,_=o.alt||"The image to preview",k=document.createElement("img");if(u&&(k.crossOrigin=u),k.src=w,k.alt=_,this.viewBox.appendChild(k),this.viewBoxImage=k,!!c){var T=c;typeof c=="string"?T=o.ownerDocument.querySelectorAll(c):c.querySelector&&(T=[c]),this.previews=T,ze(T,function(X){var U=document.createElement("img");$n(X,_n,{width:X.offsetWidth,height:X.offsetHeight,html:X.innerHTML}),u&&(U.crossOrigin=u),U.src=w,U.alt=_,U.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',X.innerHTML="",X.appendChild(U)})}},resetPreview:function(){ze(this.previews,function(o){var u=Xr(o,_n);$t(o,{width:u.width,height:u.height}),o.innerHTML=u.html,Ai(o,_n)})},preview:function(){var o=this.imageData,u=this.canvasData,c=this.cropBoxData,w=c.width,_=c.height,k=o.width,T=o.height,X=c.left-u.left-o.left,U=c.top-u.top-o.top;!this.cropped||this.disabled||($t(this.viewBoxImage,Pe({width:k,height:T},er(Pe({translateX:-X,translateY:-U},o)))),ze(this.previews,function(B){var A=Xr(B,_n),G=A.width,ke=A.height,we=G,Ie=ke,De=1;w&&(De=G/w,Ie=_*De),_&&Ie>ke&&(De=ke/_,we=w*De,Ie=ke),$t(B,{width:we,height:Ie}),$t(B.getElementsByTagName("img")[0],Pe({width:k*De,height:T*De},er(Pe({translateX:-X*De,translateY:-U*De},o))))}))}},Ta={bind:function(){var o=this.element,u=this.options,c=this.cropper;pt(u.cropstart)&&xt(o,cn,u.cropstart),pt(u.cropmove)&&xt(o,ln,u.cropmove),pt(u.cropend)&&xt(o,Ut,u.cropend),pt(u.crop)&&xt(o,Vt,u.crop),pt(u.zoom)&&xt(o,Z,u.zoom),xt(c,_r,this.onCropStart=this.cropStart.bind(this)),u.zoomable&&u.zoomOnWheel&&xt(c,Ge,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),u.toggleDragModeOnDblclick&&xt(c,un,this.onDblclick=this.dblclick.bind(this)),xt(o.ownerDocument,kt,this.onCropMove=this.cropMove.bind(this)),xt(o.ownerDocument,Jn,this.onCropEnd=this.cropEnd.bind(this)),u.responsive&&xt(window,fn,this.onResize=this.resize.bind(this))},unbind:function(){var o=this.element,u=this.options,c=this.cropper;pt(u.cropstart)&&Tt(o,cn,u.cropstart),pt(u.cropmove)&&Tt(o,ln,u.cropmove),pt(u.cropend)&&Tt(o,Ut,u.cropend),pt(u.crop)&&Tt(o,Vt,u.crop),pt(u.zoom)&&Tt(o,Z,u.zoom),Tt(c,_r,this.onCropStart),u.zoomable&&u.zoomOnWheel&&Tt(c,Ge,this.onWheel,{passive:!1,capture:!0}),u.toggleDragModeOnDblclick&&Tt(c,un,this.onDblclick),Tt(o.ownerDocument,kt,this.onCropMove),Tt(o.ownerDocument,Jn,this.onCropEnd),u.responsive&&Tt(window,fn,this.onResize)}},Ba={resize:function(){if(!this.disabled){var o=this.options,u=this.container,c=this.containerData,w=u.offsetWidth/c.width,_=u.offsetHeight/c.height,k=Math.abs(w-1)>Math.abs(_-1)?w:_;if(k!==1){var T,X;o.restore&&(T=this.getCanvasData(),X=this.getCropBoxData()),this.render(),o.restore&&(this.setCanvasData(ze(T,function(U,B){T[B]=U*k})),this.setCropBoxData(ze(X,function(U,B){X[B]=U*k})))}}},dblclick:function(){this.disabled||this.options.dragMode===vr||this.setDragMode(Ti(this.dragBox,Ft)?yn:Nt)},wheel:function(o){var u=this,c=Number(this.options.wheelZoomRatio)||.1,w=1;this.disabled||(o.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){u.wheeling=!1},50),o.deltaY?w=o.deltaY>0?1:-1:o.wheelDelta?w=-o.wheelDelta/120:o.detail&&(w=o.detail>0?1:-1),this.zoom(-w*c,o)))},cropStart:function(o){var u=o.buttons,c=o.button;if(!(this.disabled||(o.type==="mousedown"||o.type==="pointerdown"&&o.pointerType==="mouse")&&(ve(u)&&u!==1||ve(c)&&c!==0||o.ctrlKey))){var w=this.options,_=this.pointers,k;o.changedTouches?ze(o.changedTouches,function(T){_[T.identifier]=kn(T)}):_[o.pointerId||0]=kn(o),Object.keys(_).length>1&&w.zoomable&&w.zoomOnTouch?k=ie:k=Xr(o.target,sn),Be.test(k)&&Vn(this.element,cn,{originalEvent:o,action:k})!==!1&&(o.preventDefault(),this.action=k,this.cropping=!1,k===q&&(this.cropping=!0,qe(this.dragBox,rt)))}},cropMove:function(o){var u=this.action;if(!(this.disabled||!u)){var c=this.pointers;o.preventDefault(),Vn(this.element,ln,{originalEvent:o,action:u})!==!1&&(o.changedTouches?ze(o.changedTouches,function(w){Pe(c[w.identifier]||{},kn(w,!0))}):Pe(c[o.pointerId||0]||{},kn(o,!0)),this.change(o))}},cropEnd:function(o){if(!this.disabled){var u=this.action,c=this.pointers;o.changedTouches?ze(o.changedTouches,function(w){delete c[w.identifier]}):delete c[o.pointerId||0],u&&(o.preventDefault(),Object.keys(c).length||(this.action=""),this.cropping&&(this.cropping=!1,pn(this.dragBox,rt,this.cropped&&this.options.modal)),Vn(this.element,Ut,{originalEvent:o,action:u}))}}},Kr={change:function(o){var u=this.options,c=this.canvasData,w=this.containerData,_=this.cropBoxData,k=this.pointers,T=this.action,X=u.aspectRatio,U=_.left,B=_.top,A=_.width,G=_.height,ke=U+A,we=B+G,Ie=0,De=0,Ke=w.width,$e=w.height,Xe=!0,Wt;!X&&o.shiftKey&&(X=A&&G?A/G:1),this.limited&&(Ie=_.minLeft,De=_.minTop,Ke=Ie+Math.min(w.width,c.width,c.left+c.width),$e=De+Math.min(w.height,c.height,c.top+c.height));var _t=k[Object.keys(k)[0]],j={x:_t.endX-_t.startX,y:_t.endY-_t.startY},Ne=function(dt){switch(dt){case ae:ke+j.x>Ke&&(j.x=Ke-ke);break;case de:U+j.x<Ie&&(j.x=Ie-U);break;case he:B+j.y<De&&(j.y=De-B);break;case ee:we+j.y>$e&&(j.y=$e-we);break}};switch(T){case Q:U+=j.x,B+=j.y;break;case ae:if(j.x>=0&&(ke>=Ke||X&&(B<=De||we>=$e))){Xe=!1;break}Ne(ae),A+=j.x,A<0&&(T=de,A=-A,U-=A),X&&(G=A/X,B+=(_.height-G)/2);break;case he:if(j.y<=0&&(B<=De||X&&(U<=Ie||ke>=Ke))){Xe=!1;break}Ne(he),G-=j.y,B+=j.y,G<0&&(T=ee,G=-G,B-=G),X&&(A=G*X,U+=(_.width-A)/2);break;case de:if(j.x<=0&&(U<=Ie||X&&(B<=De||we>=$e))){Xe=!1;break}Ne(de),A-=j.x,U+=j.x,A<0&&(T=ae,A=-A,U-=A),X&&(G=A/X,B+=(_.height-G)/2);break;case ee:if(j.y>=0&&(we>=$e||X&&(U<=Ie||ke>=Ke))){Xe=!1;break}Ne(ee),G+=j.y,G<0&&(T=he,G=-G,B-=G),X&&(A=G*X,U+=(_.width-A)/2);break;case Oe:if(X){if(j.y<=0&&(B<=De||ke>=Ke)){Xe=!1;break}Ne(he),G-=j.y,B+=j.y,A=G*X}else Ne(he),Ne(ae),j.x>=0?ke<Ke?A+=j.x:j.y<=0&&B<=De&&(Xe=!1):A+=j.x,j.y<=0?B>De&&(G-=j.y,B+=j.y):(G-=j.y,B+=j.y);A<0&&G<0?(T=Fe,G=-G,A=-A,B-=G,U-=A):A<0?(T=Ye,A=-A,U-=A):G<0&&(T=Ue,G=-G,B-=G);break;case Ye:if(X){if(j.y<=0&&(B<=De||U<=Ie)){Xe=!1;break}Ne(he),G-=j.y,B+=j.y,A=G*X,U+=_.width-A}else Ne(he),Ne(de),j.x<=0?U>Ie?(A-=j.x,U+=j.x):j.y<=0&&B<=De&&(Xe=!1):(A-=j.x,U+=j.x),j.y<=0?B>De&&(G-=j.y,B+=j.y):(G-=j.y,B+=j.y);A<0&&G<0?(T=Ue,G=-G,A=-A,B-=G,U-=A):A<0?(T=Oe,A=-A,U-=A):G<0&&(T=Fe,G=-G,B-=G);break;case Fe:if(X){if(j.x<=0&&(U<=Ie||we>=$e)){Xe=!1;break}Ne(de),A-=j.x,U+=j.x,G=A/X}else Ne(ee),Ne(de),j.x<=0?U>Ie?(A-=j.x,U+=j.x):j.y>=0&&we>=$e&&(Xe=!1):(A-=j.x,U+=j.x),j.y>=0?we<$e&&(G+=j.y):G+=j.y;A<0&&G<0?(T=Oe,G=-G,A=-A,B-=G,U-=A):A<0?(T=Ue,A=-A,U-=A):G<0&&(T=Ye,G=-G,B-=G);break;case Ue:if(X){if(j.x>=0&&(ke>=Ke||we>=$e)){Xe=!1;break}Ne(ae),A+=j.x,G=A/X}else Ne(ee),Ne(ae),j.x>=0?ke<Ke?A+=j.x:j.y>=0&&we>=$e&&(Xe=!1):A+=j.x,j.y>=0?we<$e&&(G+=j.y):G+=j.y;A<0&&G<0?(T=Ye,G=-G,A=-A,B-=G,U-=A):A<0?(T=Fe,A=-A,U-=A):G<0&&(T=Oe,G=-G,B-=G);break;case oe:this.move(j.x,j.y),Xe=!1;break;case ie:this.zoom(Mi(k),o),Xe=!1;break;case q:if(!j.x||!j.y){Xe=!1;break}Wt=jr(this.cropper),U=_t.startX-Wt.left,B=_t.startY-Wt.top,A=_.minWidth,G=_.minHeight,j.x>0?T=j.y>0?Ue:Oe:j.x<0&&(U-=A,T=j.y>0?Fe:Ye),j.y<0&&(B-=G),this.cropped||(zt(this.cropBox,ge),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Xe&&(_.width=A,_.height=G,_.left=U,_.top=B,this.action=T,this.renderCropBox()),ze(k,function(Ze){Ze.startX=Ze.endX,Ze.startY=Ze.endY})}},Wi={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&qe(this.dragBox,rt),zt(this.cropBox,ge),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Pe({},this.initialImageData),this.canvasData=Pe({},this.initialCanvasData),this.cropBoxData=Pe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Pe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),zt(this.dragBox,rt),qe(this.cropBox,ge)),this},replace:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&o&&(this.isImg&&(this.element.src=o),u?(this.url=o,this.image.src=o,this.ready&&(this.viewBoxImage.src=o,ze(this.previews,function(c){c.getElementsByTagName("img")[0].src=o}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(o))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,zt(this.cropper,Te)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,qe(this.cropper,Te)),this},destroy:function(){var o=this.element;return o[te]?(o[te]=void 0,this.isImg&&this.replaced&&(o.src=this.originalUrl),this.uncreate(),this):this},move:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,c=this.canvasData,w=c.left,_=c.top;return this.moveTo(Qn(o)?o:w+Number(o),Qn(u)?u:_+Number(u))},moveTo:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,c=this.canvasData,w=!1;return o=Number(o),u=Number(u),this.ready&&!this.disabled&&this.options.movable&&(ve(o)&&(c.left=o,w=!0),ve(u)&&(c.top=u,w=!0),w&&this.renderCanvas(!0)),this},zoom:function(o,u){var c=this.canvasData;return o=Number(o),o<0?o=1/(1-o):o=1+o,this.zoomTo(c.width*o/c.naturalWidth,null,u)},zoomTo:function(o,u,c){var w=this.options,_=this.canvasData,k=_.width,T=_.height,X=_.naturalWidth,U=_.naturalHeight;if(o=Number(o),o>=0&&this.ready&&!this.disabled&&w.zoomable){var B=X*o,A=U*o;if(Vn(this.element,Z,{ratio:o,oldRatio:k/X,originalEvent:c})===!1)return this;if(c){var G=this.pointers,ke=jr(this.cropper),we=G&&Object.keys(G).length?Ii(G):{pageX:c.pageX,pageY:c.pageY};_.left-=(B-k)*((we.pageX-ke.left-_.left)/k),_.top-=(A-T)*((we.pageY-ke.top-_.top)/T)}else Pn(u)&&ve(u.x)&&ve(u.y)?(_.left-=(B-k)*((u.x-_.left)/k),_.top-=(A-T)*((u.y-_.top)/T)):(_.left-=(B-k)/2,_.top-=(A-T)/2);_.width=B,_.height=A,this.renderCanvas(!0)}return this},rotate:function(o){return this.rotateTo((this.imageData.rotate||0)+Number(o))},rotateTo:function(o){return o=Number(o),ve(o)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=o%360,this.renderCanvas(!0,!0)),this},scaleX:function(o){var u=this.imageData.scaleY;return this.scale(o,ve(u)?u:1)},scaleY:function(o){var u=this.imageData.scaleX;return this.scale(ve(u)?u:1,o)},scale:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,c=this.imageData,w=!1;return o=Number(o),u=Number(u),this.ready&&!this.disabled&&this.options.scalable&&(ve(o)&&(c.scaleX=o,w=!0),ve(u)&&(c.scaleY=u,w=!0),w&&this.renderCanvas(!0,!0)),this},getData:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.options,c=this.imageData,w=this.canvasData,_=this.cropBoxData,k;if(this.ready&&this.cropped){k={x:_.left-w.left,y:_.top-w.top,width:_.width,height:_.height};var T=c.width/c.naturalWidth;if(ze(k,function(B,A){k[A]=B/T}),o){var X=Math.round(k.y+k.height),U=Math.round(k.x+k.width);k.x=Math.round(k.x),k.y=Math.round(k.y),k.width=U-k.x,k.height=X-k.y}}else k={x:0,y:0,width:0,height:0};return u.rotatable&&(k.rotate=c.rotate||0),u.scalable&&(k.scaleX=c.scaleX||1,k.scaleY=c.scaleY||1),k},setData:function(o){var u=this.options,c=this.imageData,w=this.canvasData,_={};if(this.ready&&!this.disabled&&Pn(o)){var k=!1;u.rotatable&&ve(o.rotate)&&o.rotate!==c.rotate&&(c.rotate=o.rotate,k=!0),u.scalable&&(ve(o.scaleX)&&o.scaleX!==c.scaleX&&(c.scaleX=o.scaleX,k=!0),ve(o.scaleY)&&o.scaleY!==c.scaleY&&(c.scaleY=o.scaleY,k=!0)),k&&this.renderCanvas(!0,!0);var T=c.width/c.naturalWidth;ve(o.x)&&(_.left=o.x*T+w.left),ve(o.y)&&(_.top=o.y*T+w.top),ve(o.width)&&(_.width=o.width*T),ve(o.height)&&(_.height=o.height*T),this.setCropBoxData(_)}return this},getContainerData:function(){return this.ready?Pe({},this.containerData):{}},getImageData:function(){return this.sized?Pe({},this.imageData):{}},getCanvasData:function(){var o=this.canvasData,u={};return this.ready&&ze(["left","top","width","height","naturalWidth","naturalHeight"],function(c){u[c]=o[c]}),u},setCanvasData:function(o){var u=this.canvasData,c=u.aspectRatio;return this.ready&&!this.disabled&&Pn(o)&&(ve(o.left)&&(u.left=o.left),ve(o.top)&&(u.top=o.top),ve(o.width)?(u.width=o.width,u.height=o.width/c):ve(o.height)&&(u.height=o.height,u.width=o.height*c),this.renderCanvas(!0)),this},getCropBoxData:function(){var o=this.cropBoxData,u;return this.ready&&this.cropped&&(u={left:o.left,top:o.top,width:o.width,height:o.height}),u||{}},setCropBoxData:function(o){var u=this.cropBoxData,c=this.options.aspectRatio,w,_;return this.ready&&this.cropped&&!this.disabled&&Pn(o)&&(ve(o.left)&&(u.left=o.left),ve(o.top)&&(u.top=o.top),ve(o.width)&&o.width!==u.width&&(w=!0,u.width=o.width),ve(o.height)&&o.height!==u.height&&(_=!0,u.height=o.height),c&&(w?u.height=u.width/c:_&&(u.width=u.height*c)),this.renderCropBox()),this},getCroppedCanvas:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var u=this.canvasData,c=Pi(this.image,this.imageData,u,o);if(!this.cropped)return c;var w=this.getData(),_=w.x,k=w.y,T=w.width,X=w.height,U=c.width/Math.floor(u.naturalWidth);U!==1&&(_*=U,k*=U,T*=U,X*=U);var B=T/X,A=Bt({aspectRatio:B,width:o.maxWidth||1/0,height:o.maxHeight||1/0}),G=Bt({aspectRatio:B,width:o.minWidth||0,height:o.minHeight||0},"cover"),ke=Bt({aspectRatio:B,width:o.width||(U!==1?c.width:T),height:o.height||(U!==1?c.height:X)}),we=ke.width,Ie=ke.height;we=Math.min(A.width,Math.max(G.width,we)),Ie=Math.min(A.height,Math.max(G.height,Ie));var De=document.createElement("canvas"),Ke=De.getContext("2d");De.width=Fn(we),De.height=Fn(Ie),Ke.fillStyle=o.fillColor||"transparent",Ke.fillRect(0,0,we,Ie);var $e=o.imageSmoothingEnabled,Xe=$e===void 0?!0:$e,Wt=o.imageSmoothingQuality;Ke.imageSmoothingEnabled=Xe,Wt&&(Ke.imageSmoothingQuality=Wt);var _t=c.width,j=c.height,Ne=_,Ze=k,dt,en,xn,En,dn,Ht;Ne<=-T||Ne>_t?(Ne=0,dt=0,xn=0,dn=0):Ne<=0?(xn=-Ne,Ne=0,dt=Math.min(_t,T+Ne),dn=dt):Ne<=_t&&(xn=0,dt=Math.min(T,_t-Ne),dn=dt),dt<=0||Ze<=-X||Ze>j?(Ze=0,en=0,En=0,Ht=0):Ze<=0?(En=-Ze,Ze=0,en=Math.min(j,X+Ze),Ht=en):Ze<=j&&(En=0,en=Math.min(X,j-Ze),Ht=en);var _e=[Ne,Ze,dt,en];if(dn>0&&Ht>0){var Se=we/T;_e.push(xn*Se,En*Se,dn*Se,Ht*Se)}return Ke.drawImage.apply(Ke,[c].concat(V(_e.map(function(xr){return Math.floor(Fn(xr))})))),De},setAspectRatio:function(o){var u=this.options;return!this.disabled&&!Qn(o)&&(u.aspectRatio=Math.max(0,o)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(o){var u=this.options,c=this.dragBox,w=this.face;if(this.ready&&!this.disabled){var _=o===Nt,k=u.movable&&o===yn;o=_||k?o:vr,u.dragMode=o,$n(c,sn,o),pn(c,Ft,_),pn(c,Ln,k),u.cropBoxMovable||($n(w,sn,o),pn(w,Ft,_),pn(w,Ln,k))}return this}},Aa=O.Cropper,tr=function(){function h(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(H(this,h),!o||!Ot.test(o.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=o,this.options=Pe({},wr,Pn(u)&&u),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return I(h,[{key:"init",value:function(){var u=this.element,c=u.tagName.toLowerCase(),w;if(!u[te]){if(u[te]=this,c==="img"){if(this.isImg=!0,w=u.getAttribute("src")||"",this.originalUrl=w,!w)return;w=u.src}else c==="canvas"&&window.HTMLCanvasElement&&(w=u.toDataURL());this.load(w)}}},{key:"load",value:function(u){var c=this;if(u){this.url=u,this.imageData={};var w=this.element,_=this.options;if(!_.rotatable&&!_.scalable&&(_.checkOrientation=!1),!_.checkOrientation||!window.ArrayBuffer){this.clone();return}if(ut.test(u)){ft.test(u)?this.read(Na(u)):this.clone();return}var k=new XMLHttpRequest,T=this.clone.bind(this);this.reloading=!0,this.xhr=k,k.onabort=T,k.onerror=T,k.ontimeout=T,k.onprogress=function(){k.getResponseHeader("content-type")!==ue&&k.abort()},k.onload=function(){c.read(k.response)},k.onloadend=function(){c.reloading=!1,c.xhr=null},_.checkCrossOrigin&&xa(u)&&w.crossOrigin&&(u=Ea(u)),k.open("GET",u,!0),k.responseType="arraybuffer",k.withCredentials=w.crossOrigin==="use-credentials",k.send()}}},{key:"read",value:function(u){var c=this.options,w=this.imageData,_=Vi(u),k=0,T=1,X=1;if(_>1){this.url=Fi(u,ue);var U=Ui(_);k=U.rotate,T=U.scaleX,X=U.scaleY}c.rotatable&&(w.rotate=k),c.scalable&&(w.scaleX=T,w.scaleY=X),this.clone()}},{key:"clone",value:function(){var u=this.element,c=this.url,w=u.crossOrigin,_=c;this.options.checkCrossOrigin&&xa(c)&&(w||(w="anonymous"),_=Ea(c)),this.crossOrigin=w,this.crossOriginUrl=_;var k=document.createElement("img");w&&(k.crossOrigin=w),k.src=_||c,k.alt=u.alt||"The image to crop",this.image=k,k.onload=this.start.bind(this),k.onerror=this.stop.bind(this),qe(k,on),u.parentNode.insertBefore(k,u.nextSibling)}},{key:"start",value:function(){var u=this,c=this.image;c.onload=null,c.onerror=null,this.sizing=!0;var w=O.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(O.navigator.userAgent),_=function(U,B){Pe(u.imageData,{naturalWidth:U,naturalHeight:B,aspectRatio:U/B}),u.initialImageData=Pe({},u.imageData),u.sizing=!1,u.sized=!0,u.build()};if(c.naturalWidth&&!w){_(c.naturalWidth,c.naturalHeight);return}var k=document.createElement("img"),T=document.body||document.documentElement;this.sizingImage=k,k.onload=function(){_(k.width,k.height),w||T.removeChild(k)},k.src=c.src,w||(k.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",T.appendChild(k))}},{key:"stop",value:function(){var u=this.image;u.onload=null,u.onerror=null,u.parentNode.removeChild(u),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var u=this.element,c=this.options,w=this.image,_=u.parentNode,k=document.createElement("div");k.innerHTML=zr;var T=k.querySelector(".".concat(te,"-container")),X=T.querySelector(".".concat(te,"-canvas")),U=T.querySelector(".".concat(te,"-drag-box")),B=T.querySelector(".".concat(te,"-crop-box")),A=B.querySelector(".".concat(te,"-face"));this.container=_,this.cropper=T,this.canvas=X,this.dragBox=U,this.cropBox=B,this.viewBox=T.querySelector(".".concat(te,"-view-box")),this.face=A,X.appendChild(w),qe(u,ge),_.insertBefore(T,u.nextSibling),zt(w,on),this.initPreview(),this.bind(),c.initialAspectRatio=Math.max(0,c.initialAspectRatio)||NaN,c.aspectRatio=Math.max(0,c.aspectRatio)||NaN,c.viewMode=Math.max(0,Math.min(3,Math.round(c.viewMode)))||0,qe(B,ge),c.guides||qe(B.getElementsByClassName("".concat(te,"-dashed")),ge),c.center||qe(B.getElementsByClassName("".concat(te,"-center")),ge),c.background&&qe(T,"".concat(te,"-bg")),c.highlight||qe(A,vn),c.cropBoxMovable&&(qe(A,Ln),$n(A,sn,Q)),c.cropBoxResizable||(qe(B.getElementsByClassName("".concat(te,"-line")),ge),qe(B.getElementsByClassName("".concat(te,"-point")),ge)),this.render(),this.ready=!0,this.setDragMode(c.dragMode),c.autoCrop&&this.crop(),this.setData(c.data),pt(c.ready)&&xt(u,yr,c.ready,{once:!0}),Vn(u,yr)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var u=this.cropper.parentNode;u&&u.removeChild(this.cropper),zt(this.element,ge)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Aa,h}},{key:"setDefaults",value:function(u){Pe(wr,Pn(u)&&u)}}]),h}();return Pe(tr.prototype,zi,Oa,Ta,Ba,Kr,Wi),tr})})(ps);var rp=ps.exports;Object.defineProperty(fs,"__esModule",{value:!0});var ds=r,ap=rp,ip=op(ap);function op(l){return l&&l.__esModule?l:{default:l}}function sp(l,v){var i={};for(var d in l)v.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(l,d)&&(i[d]=l[d]);return i}var lp=typeof window>"u"?[String,Array]:[String,Array,Element,NodeList],cp=fs.default={render:function(){var v=this.crossorigin||void 0;return(0,ds.h)("div",{style:this.containerStyle},[(0,ds.h)("img",{ref:"img",src:this.src,alt:this.alt||"image",style:[{"max-width":"100%"},this.imgStyle],crossorigin:v})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,initialAspectRatio:Number,aspectRatio:Number,data:Object,preview:lp,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossorigin:{type:String},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var v=this.$options.props;v.containerStyle,v.src,v.alt,v.imgStyle;var i=sp(v,["containerStyle","src","alt","imgStyle"]),d={};for(var S in i)this[S]!==void 0&&(d[S]=this[S]);this.cropper=new ip.default(this.$refs.img,d)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(v){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(v,i)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(v,i){return this.cropper.move(v,i)},moveTo:function(v){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v;return this.cropper.moveTo(v,i)},relativeZoom:function(v,i){return this.cropper.zoom(v,i)},zoomTo:function(v,i){return this.cropper.zoomTo(v,i)},rotate:function(v){return this.cropper.rotate(v)},rotateTo:function(v){return this.cropper.rotateTo(v)},scaleX:function(v){return this.cropper.scaleX(v)},scaleY:function(v){return this.cropper.scaleY(v)},scale:function(v){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v;return this.cropper.scale(v,i)},getData:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(v)},setData:function(v){return this.cropper.setData(v)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(v){return this.cropper.setCanvasData(v)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(v){return this.cropper.setCropBoxData(v)},getCroppedCanvas:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(v)},setAspectRatio:function(v){return this.cropper.setAspectRatio(v)},setDragMode:function(v){return this.cropper.setDragMode(v)}}};const by="",up=r.createElementVNode("div",{class:"flex-grow"},null,-1),fp={__name:"CropModal",props:{modal:{type:Object,required:!0}},setup(l){const v=l,i=lt(),d=r.ref(),S=r.ref(),H=r.computed(()=>({height:"100%",minHeight:"60vh"}));function M(){d.value?.getCroppedCanvas().toBlob(V=>{V&&(S.value=new File([V],Y(v.modal.payload.name,"-"+Date.now()),{type:v.modal.payload.mime}),I(S.value))})}function I(V){i.closeModals(),i.upload([V])}function Y(V,z){var K=V.lastIndexOf(".");return K==-1?V+z:V.substring(0,K)+z+V.substring(K)}return(V,z)=>{const K=r.resolveDirective("tooltip");return r.openBlock(),r.createBlock(Zn,{modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(V.__("Crop image")),1),up,r.withDirectives(r.createVNode(mt,{class:"text-green-500",type:"check",onClick:r.withModifiers(M,["prevent"])},null,8,["onClick"]),[[K,V.__("Confirm crop")]])]),default:r.withCtx(()=>[r.createVNode(r.unref(cp),{ref_key:"cropper",ref:d,containerStyle:H.value,src:l.modal.payload.url,alt:l.modal.payload.name},null,8,["containerStyle","src","alt"])]),_:1},8,["modal"])}}},pp={class:"p-6"},dp=r.createElementVNode("div",{class:"flex-grow"},null,-1),hp={__name:"BrowserSelectedModal",props:{modal:{type:Object,required:!0}},setup(l){const v=l,i=lt(),{selection:d}=ts(i);function S(){i.closeModal(v.modal.id)}function H(){i.clearSelection(),S()}function M(){i.confirmSelection(),S()}return r.watch(()=>i.selection,(I,Y)=>{dr.isEmpty(I)&&S()}),(I,Y)=>{const V=r.resolveDirective("tooltip");return r.openBlock(),r.createBlock(Zn,{full:!0,modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(I.__("Selected Files")),1),dp,r.withDirectives(r.createVNode(mt,{type:"x",onClick:r.withModifiers(H,["prevent"])},null,8,["onClick"]),[[V,I.__("Clear selected files")]]),r.unref(i).selecting?r.withDirectives((r.openBlock(),r.createBlock(mt,{key:0,class:"text-green-500",type:"check",onClick:r.withModifiers(M,["prevent"])},null,8,["onClick"])),[[V,I.__("Confirm selection")]]):r.createCommentVNode("",!0)]),default:r.withCtx(()=>[r.createElementVNode("div",pp,[r.createVNode(r.TransitionGroup,{name:"list",tag:"div",class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},{default:r.withCtx(()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(d),z=>(r.openBlock(),r.createBlock(us,{key:z.id,ref_for:!0,ref:"file_"+z.id,file:z,"data-key":z.id},null,8,["file","data-key"]))),128))]),_:1})])]),_:1},8,["modal"])}}},gp={},mp={class:"absolute inset-0 z-50 flex items-center justify-center bg-white dark:bg-gray-800 rounded-lg w-full h-full border-2 border-primary-500"},vp=r.createElementVNode("span",{class:"pointer-events-none"}," Drop your files here ",-1);function _p(l,v){const i=r.resolveComponent("Icon");return r.openBlock(),r.createElementBlock("div",mp,[r.createVNode(i,{type:"upload",class:"pointer-events-none text-primary-500 animate-bounce mr-4",width:"48",height:"48"}),vp])}const yp=xi(gp,[["render",_p]]);async function bp(l){const v=z=>z.isDirectory,i=z=>z.isFile,d=(z,K="")=>new Promise((re,P)=>{i(z)&&z.file(g=>re(new File([g],K+g.name,{type:g.type})),g=>P(g))}),S=(z,K)=>new Promise((re,P)=>{z.readEntries(async g=>{let D=[];for(const O of g){const C=await M(O,K);C!==void 0&&(D=D.concat(C))}re(D)},g=>P(g))}),H=async(z,K)=>{if(!v(z))return[];const re=z.createReader(),P=K+z.name+"/";let g=[],D=[];do D=await S(re,P),g=g.concat(D);while(D.length>0);return g},M=async(z,K="")=>{if(z){if(z.isFile)return[await d(z,K)];if(z.isDirectory)return await H(z,K)}};let I=[];const Y=[],V=l.length;for(let z=0;z<V;z++)Y.push(l[z].webkitGetAsEntry());for(const z of Y){const K=await M(z);K!==void 0&&(I=I.concat(K))}return I}function wp(l){return{id:l.name,name:l.name,extension:l.type.split("/")[1],mime:l.type,path:l.name,type:l.type.split("/")[0],url:URL.createObjectURL(l),size:Number(l.size.toString()),lastModified:Number(new Date(l.lastModified).toString())}}const kp={class:"p-6 grid grid-cols-2 md:grid-cols-4 gap-4"},xp={class:"flex-grow flex justify-center items-center flex-col p-4",style:{height:"160px"}},Ep={class:"mt-6 bg-gray-100 dark:bg-gray-700 shadow border-2 border-gray-100 dark:border-gray-700 rounded-lg h-6 w-[6rem]"},Cp={class:"w-full h-8 flex-shrink-0 text-center text-xs border-t border-gray-200 dark:border-gray-700 flex items-center justify-center"},Sp={class:"px-2 truncate"},Dp=r.defineComponent({__name:"QueueModal",props:{modal:{type:Object,required:!0}},setup(l){const v=lt(),i=r.computed(()=>v.queue.map(d=>(d.entity=wp(d.file),d)));return(d,S)=>{const H=r.resolveComponent("Icon");return r.openBlock(),r.createBlock(Zn,{full:!0,disableClose:!0,modal:l.modal},{header:r.withCtx(()=>[r.createElementVNode("div",null,r.toDisplayString(d.__("Queue")),1)]),default:r.withCtx(()=>[r.createElementVNode("div",kp,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(i.value,M=>(r.openBlock(),r.createElementBlock("div",{key:M.id,ref_for:!0,ref:"card",class:"w-full h-full relative flex flex-col justify-center rounded-lg overflow-hidden cursor-pointer dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700"},[r.createElementVNode("div",xp,[M.status===null?(r.openBlock(),r.createBlock(H,{key:0,class:"w-10 h-10 animate-bounce text-primary-500",type:"upload",solid:!0})):M.status===!1?(r.openBlock(),r.createBlock(H,{key:1,class:"w-10 h-10 text-red-500",type:"exclamation-circle",solid:!0})):M.status===!0?(r.openBlock(),r.createBlock(H,{key:2,class:"w-10 h-10 text-green-500",type:"check-circle",solid:!0})):r.createCommentVNode("",!0),r.createElementVNode("div",Ep,[r.createElementVNode("div",{class:r.normalizeClass(["block w-full h-full rounded-lg",{"bg-primary-500":M.status===null,"bg-red-500":M.status===!1,"bg-green-500":M.status===!0}]),style:r.normalizeStyle({width:`${M.ratio}%`,transition:"all .3s linear"})},null,6)])]),r.createElementVNode("div",Cp,[r.createElementVNode("p",Sp,r.toDisplayString(r.unref(Si)(M.entity?.name||"",25)),1)])],512))),128))])]),_:1},8,["modal"])}}}),Np=["onDrop"],Op={key:0,class:"absolute rounded-lg inset-0 bg-white/50 dark:bg-gray-800/50 flex items-center justify-center flex-grow z-50"},Tp={class:"flex-grow py-4 px-6 space-y-4"},hs=r.defineComponent({__name:"Browser",props:{selecting:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0}},emits:["confirmSelection"],setup(l,{emit:v}){const i=l,d=lt(),{selectionConfirms:S}=ts(d);r.onMounted(()=>{d.init(),d.selecting=i.selecting,d.multiple=i.multiple}),ls("Escape",z=>{d.modals.length>0&&!d.isProcessing&&(z.preventDefault(),z.stopPropagation(),d.modals.pop())}),r.watch(S,()=>{v("confirmSelection",d.selection),d.clearSelection(),d.closeModals()});const H=r.ref(!1),M=r.ref(),I=async z=>{try{M.value=z.dataTransfer?await bp(z.dataTransfer?.items):[]}catch{H.value=!1}},Y=z=>M.value=z.target.files??[],V=()=>{H.value=!1,M.value?.length&&(M.value instanceof FileList&&d.upload(Array.from(M.value)),M.value instanceof Array&&d.upload(M.value))};return r.watch(M,()=>V()),(z,K)=>{const re=r.resolveComponent("Loader");return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["relative h-full nova-file-manager",{"pointer-events-none":r.unref(d).isProcessing}]),onDragover:K[0]||(K[0]=r.withModifiers(P=>H.value=!0,["prevent","stop"])),onDragleave:K[1]||(K[1]=r.withModifiers(P=>H.value=!1,["prevent","stop"])),onDrop:r.withModifiers(I,["prevent","stop"])},[r.createVNode(r.Transition,null,{default:r.withCtx(()=>[r.unref(d).loading&&r.unref(d).modals.length===0?(r.openBlock(),r.createElementBlock("div",Op,[r.createVNode(re)])):r.createCommentVNode("",!0)]),_:1}),r.createVNode(r.Transition,null,{default:r.withCtx(()=>[H.value?(r.openBlock(),r.createBlock(yp,{key:0})):r.createCommentVNode("",!0)]),_:1}),r.createVNode(mu,{onChangeFile:Y}),r.createElementVNode("div",Tp,[r.unref(d).data?.breadcrumbs?.length>0?(r.openBlock(),r.createBlock(Pf,{key:0})):r.createCommentVNode("",!0),r.createVNode(Wu),r.unref(d).data?.pagination?.last_page>1?(r.openBlock(),r.createBlock(wu,{key:1})):r.createCommentVNode("",!0)]),r.createVNode(r.TransitionGroup,{name:"list"},{default:r.withCtx(()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(r.unref(d).modals,P=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:P.id},[P.name===r.unref(He).CREATE_FOLDER?(r.openBlock(),r.createBlock(Hf,{key:0,modal:P},null,8,["modal"])):P.name===r.unref(He).DETAIL?(r.openBlock(),r.createBlock(Tf,{key:1,modal:P},null,8,["modal"])):P.name===r.unref(He).RENAME?(r.openBlock(),r.createBlock(Qf,{key:2,modal:P},null,8,["modal"])):P.name===r.unref(He).CROP?(r.openBlock(),r.createBlock(fp,{key:3,modal:P},null,8,["modal"])):P.name===r.unref(He).DELETE?(r.openBlock(),r.createBlock(np,{key:4,modal:P},null,8,["modal"])):P.name===r.unref(He).SELECTED?(r.openBlock(),r.createBlock(hp,{key:5,modal:P},null,8,["modal"])):P.name===r.unref(He).QUEUE?(r.openBlock(),r.createBlock(Dp,{key:6,modal:P},null,8,["modal"])):r.createCommentVNode("",!0)],64))),128))]),_:1})],42,Np)}}}),wy="",Bp={class:"nova-file-manager"},Ap={key:0,class:"fixed bg-gray-800/10 backdrop-blur inset-0 z-50 p-2 overflow h-full max-h-full flex justify-center"},Rp=["onClick"],Mp={class:"relative w-full bg-white dark:bg-gray-800 rounded-lg shadow h-full max-w-5xl max-h-full"};return{Browser:hs,BrowserModal:{__name:"BrowserModal",props:{state:{type:Boolean,required:!0},selecting:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},emits:["update:state","confirmSelection"],setup(l,{emit:v}){const i=lt();ls("Escape",H=>{i.modals.length||(H.preventDefault(),H.stopPropagation(),S())});function d(H){S(),v("confirmSelection",H)}function S(){v("update:state",!1)}return(H,M)=>(r.openBlock(),r.createElementBlock("div",Bp,[r.createVNode(r.Transition,null,{default:r.withCtx(()=>[l.state?(r.openBlock(),r.createElementBlock("div",Ap,[r.createElementVNode("div",{class:"absolute inset-0",onClick:r.withModifiers(S,["prevent"])},null,8,Rp),r.createElementVNode("div",Mp,[r.createVNode(hs,{selecting:l.selecting,multiple:l.multiple,onConfirmSelection:d},null,8,["selecting","multiple"])])])):r.createCommentVNode("",!0)]),_:1})]))}},createPinia:()=>wc()}});
